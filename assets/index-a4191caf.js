var ql=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ph=ql((mh,un)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ie(){}const Vs=t=>t;function Et(t,e){for(const n in e)t[n]=e[n];return t}function Gs(t){return t()}function Ai(){return Object.create(null)}function Pe(t){t.forEach(Gs)}function Jt(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Wl(t){return Object.keys(t).length===0}function Ks(t,...e){if(t==null)return ie;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function qr(t){let e;return Ks(t,n=>e=n)(),e}function ue(t,e,n){t.$$.on_destroy.push(Ks(e,n))}function Te(t,e,n,r){if(t){const s=Js(t,e,n,r);return t[0](s)}}function Js(t,e,n,r){return t[1]&&r?Et(n.ctx.slice(),t[1](r(e))):n.ctx}function Oe(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Ce(t,e,n,r,s,i){if(s){const o=Js(e,n,r,i);t.p(o,s)}}function Be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Xs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Gn(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Vl(t){const e={};for(const n in t)e[n]=!0;return e}function Qe(t,e,n){return t.set(n),e}function Kn(t){return t&&Jt(t.destroy)?t.destroy:ie}const Zs=typeof window<"u";let Gl=Zs?()=>window.performance.now():()=>Date.now(),Wr=Zs?t=>requestAnimationFrame(t):ie;const Kt=new Set;function Ys(t){Kt.forEach(e=>{e.c(t)||(Kt.delete(e),e.f())}),Kt.size!==0&&Wr(Ys)}function Kl(t){let e;return Kt.size===0&&Wr(Ys),{promise:new Promise(n=>{Kt.add(e={c:t,f:n})}),abort(){Kt.delete(e)}}}function R(t,e){t.appendChild(e)}function Qs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Jl(t){const e=P("style");return Xl(Qs(t),e),e.sheet}function Xl(t,e){return R(t.head||t,e),e.sheet}function F(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Vr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function St(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ve(t){return document.createTextNode(t)}function J(){return ve(" ")}function ct(){return ve("")}function se(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $e(t){return function(e){return e.preventDefault(),t.call(this,e)}}function lt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Jn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:E(t,r,e[r])}function ki(t,e){for(const n in e)E(t,n,e[n])}function Zl(t){return Array.from(t.childNodes)}function De(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Xt(t,e){t.value=e??""}function Nn(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Ri(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function Yl(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function te(t,e,n){t.classList[n?"add":"remove"](e)}function $s(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}class eo{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=St(n.nodeName):this.e=P(n.nodeName),this.t=n,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)F(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(z)}}const Xn=new Map;let Zn=0;function Ql(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function $l(t,e){const n={stylesheet:Jl(e),rules:{}};return Xn.set(t,n),n}function Ti(t,e,n,r,s,i,o,a=0){const c=16.666/r;let l=`{
`;for(let _=0;_<=1;_+=c){const A=e+(n-e)*i(_);l+=_*100+`%{${o(A,1-A)}}
`}const u=l+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Ql(u)}_${a}`,d=Qs(t),{stylesheet:p,rules:h}=Xn.get(d)||$l(d,t);h[f]||(h[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Zn+=1,f}function ea(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Zn-=s,Zn||ta())}function ta(){Wr(()=>{Zn||(Xn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&z(e)}),Xn.clear())})}let yn;function fn(t){yn=t}function kn(){if(!yn)throw new Error("Function called outside component initialization");return yn}function na(t){kn().$$.before_update.push(t)}function to(t){kn().$$.on_mount.push(t)}function ra(t){kn().$$.after_update.push(t)}function ia(t){kn().$$.on_destroy.push(t)}function en(){const t=kn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=$s(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function Fe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const an=[],Ee=[],qn=[],Ir=[],sa=Promise.resolve();let Nr=!1;function oa(){Nr||(Nr=!0,sa.then(no))}function Zt(t){qn.push(t)}function je(t){Ir.push(t)}const Er=new Set;let Ln=0;function no(){const t=yn;do{for(;Ln<an.length;){const e=an[Ln];Ln++,fn(e),la(e.$$)}for(fn(null),an.length=0,Ln=0;Ee.length;)Ee.pop()();for(let e=0;e<qn.length;e+=1){const n=qn[e];Er.has(n)||(Er.add(n),n())}qn.length=0}while(an.length);for(;Ir.length;)Ir.pop()();Nr=!1,Er.clear(),fn(t)}function la(t){if(t.fragment!==null){t.update(),Pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Zt)}}let sn;function aa(){return sn||(sn=Promise.resolve(),sn.then(()=>{sn=null})),sn}function Sr(t,e,n){t.dispatchEvent($s(`${e?"intro":"outro"}${n}`))}const Wn=new Set;let ot;function xe(){ot={r:0,c:[],p:ot}}function Me(){ot.r||Pe(ot.c),ot=ot.p}function k(t,e){t&&t.i&&(Wn.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(Wn.has(t))return;Wn.add(t),ot.c.push(()=>{Wn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const ca={duration:0};function Oi(t,e,n,r){const s={direction:"both"};let i=e(t,n,s),o=r?0:1,a=null,c=null,l=null;function u(){l&&ea(t,l)}function f(p,h){const m=p.b-o;return h*=Math.abs(m),{a:o,b:p.b,d:m,duration:h,start:p.start,end:p.start+h,group:p.group}}function d(p){const{delay:h=0,duration:m=300,easing:_=Vs,tick:A=ie,css:B}=i||ca,L={start:Gl()+h,b:p};p||(L.group=ot,ot.r+=1),a||c?c=L:(B&&(u(),l=Ti(t,o,p,m,h,_,B)),p&&A(0,1),a=f(L,m),Zt(()=>Sr(t,p,"start")),Kl(U=>{if(c&&U>c.start&&(a=f(c,m),c=null,Sr(t,a.b,"start"),B&&(u(),l=Ti(t,o,a.b,a.duration,0,_,i.css))),a){if(U>=a.end)A(o=a.b,1-o),Sr(t,a.b,"end"),c||(a.b?u():--a.group.r||Pe(a.group.c)),a=null;else if(U>=a.start){const W=U-a.start;o=a.a+a.d*_(W/a.duration),A(o,1-o)}}return!!(a||c)}))}return{run(p){Jt(i)?aa().then(()=>{i=i(s),d(p)}):d(p)},end(){u(),a=c=null}}}const ua=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ro(t,e){N(t,1,1,()=>{e.delete(t.key)})}function io(t,e,n,r,s,i,o,a,c,l,u,f){let d=t.length,p=i.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const _=[],A=new Map,B=new Map;for(h=p;h--;){const j=f(s,i,h),T=n(j);let C=o.get(T);C?r&&C.p(j,e):(C=l(T,j),C.c()),A.set(T,_[h]=C),T in m&&B.set(T,Math.abs(h-m[T]))}const L=new Set,U=new Set;function W(j){k(j,1),j.m(a,u),o.set(j.key,j),u=j.first,p--}for(;d&&p;){const j=_[p-1],T=t[d-1],C=j.key,q=T.key;j===T?(u=j.first,d--,p--):A.has(q)?!o.has(C)||L.has(C)?W(j):U.has(q)?d--:B.get(C)>B.get(q)?(U.add(C),W(j)):(L.add(q),d--):(c(T,o),d--)}for(;d--;){const j=t[d];A.has(j.key)||c(j,o)}for(;p;)W(_[p-1]);return _}function Gr(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const c in o)c in a||(r[c]=1);for(const c in a)s[c]||(n[c]=a[c],s[c]=1);t[i]=a}else for(const c in o)s[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ue(t,e,n,r){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,r===void 0&&n(t.$$.ctx[s]))}function ee(t){t&&t.c()}function Y(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||Zt(()=>{const o=t.$$.on_mount.map(Gs).filter(Jt);t.$$.on_destroy?t.$$.on_destroy.push(...o):Pe(o),t.$$.on_mount=[]}),i.forEach(Zt)}function Q(t,e){const n=t.$$;n.fragment!==null&&(Pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fa(t,e){t.$$.dirty[0]===-1&&(an.push(t),oa(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,s,i,o,a=[-1]){const c=yn;fn(t);const l=t.$$={fragment:null,ctx:[],props:i,update:ie,not_equal:s,bound:Ai(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ai(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(f,d,...p)=>{const h=p.length?p[0]:d;return l.ctx&&s(l.ctx[f],l.ctx[f]=h)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](h),u&&fa(t,f)),d}):[],l.update(),u=!0,Pe(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=Zl(e.target);l.fragment&&l.fragment.l(f),f.forEach(z)}else l.fragment&&l.fragment.c();e.intro&&k(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),no()}fn(c)}class ye{$destroy(){Q(this,1),this.$destroy=ie}$on(e,n){if(!Jt(n))return ie;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Wl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Kr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Jr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function so(t,e){return Kr(this,void 0,void 0,function(){var n,r,s,i,o;return Jr(this,function(a){switch(a.label){case 0:if(n=ei(),!e.subject)throw new Error("Agent has no subject, cannot authenticate");return o={"https://atomicdata.dev/properties/auth/agent":e.subject,"https://atomicdata.dev/properties/auth/requestedSubject":t},s="https://atomicdata.dev/properties/auth/publicKey",[4,e.getPublicKey()];case 1:return o[s]=a.sent(),o["https://atomicdata.dev/properties/auth/timestamp"]=n,i="https://atomicdata.dev/properties/auth/signature",[4,oo(t,e,n)];case 2:return r=(o[i]=a.sent(),o),[2,r]}})})}function oo(t,e,n){return Kr(this,void 0,void 0,function(){var r;return Jr(this,function(s){switch(s.label){case 0:return r="".concat(t," ").concat(n),[4,bo(r,e.privateKey)];case 1:return[2,s.sent()]}})})}function da(t,e){var n;return!t.startsWith("http://localhost")&&((n=e==null?void 0:e.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))}function ha(t,e,n){return Kr(this,void 0,void 0,function(){var r,s,i,o,a;return Jr(this,function(c){switch(c.label){case 0:return r=ei(),(e==null?void 0:e.subject)&&!da(t,e)?(s=n,i="x-atomic-public-key",[4,e.getPublicKey()]):[3,3];case 1:return s[i]=c.sent(),o=n,a="x-atomic-signature",[4,oo(t,e,r)];case 2:o[a]=c.sent(),n["x-atomic-timestamp"]=r,n["x-atomic-agent"]=e==null?void 0:e.subject,c.label=3;case 3:return[2,n]}})})}var pa=24*60*60*1e3,ga=function(t,e,n,r){r===void 0&&(r=pa);var s=new Date(Date.now()+r).toUTCString(),i=encodeURIComponent(e),o=new URL(n.getServerUrl()).hostname,a="".concat(t,"=").concat(i,";Expires=").concat(s,";Domain=").concat(o,";SameSite=Lax;path=/");document.cookie=a},lo=function(t,e){so(t.getServerUrl(),e).then(function(n){ga("atomic_session",btoa(JSON.stringify(n)),t)})},ma=function(){var t=document.cookie.match(/^(.*;)?\s*atomic_session\s*=\s*[^;]+(.*)?$/);return t?t.length>0:!1};globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lr={exports:{}};(function(t,e){var n=typeof self<"u"?self:ba,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(b){return b&&DataView.prototype.isPrototypeOf(b)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&l.indexOf(Object.prototype.toString.call(b))>-1};function f(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function d(b){return typeof b!="string"&&(b=String(b)),b}function p(b){var w={next:function(){var y=b.shift();return{done:y===void 0,value:y}}};return a.iterable&&(w[Symbol.iterator]=function(){return w}),w}function h(b){this.map={},b instanceof h?b.forEach(function(w,y){this.append(y,w)},this):Array.isArray(b)?b.forEach(function(w){this.append(w[0],w[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(w){this.append(w,b[w])},this)}h.prototype.append=function(b,w){b=f(b),w=d(w);var y=this.map[b];this.map[b]=y?y+", "+w:w},h.prototype.delete=function(b){delete this.map[f(b)]},h.prototype.get=function(b){return b=f(b),this.has(b)?this.map[b]:null},h.prototype.has=function(b){return this.map.hasOwnProperty(f(b))},h.prototype.set=function(b,w){this.map[f(b)]=d(w)},h.prototype.forEach=function(b,w){for(var y in this.map)this.map.hasOwnProperty(y)&&b.call(w,this.map[y],y,this)},h.prototype.keys=function(){var b=[];return this.forEach(function(w,y){b.push(y)}),p(b)},h.prototype.values=function(){var b=[];return this.forEach(function(w){b.push(w)}),p(b)},h.prototype.entries=function(){var b=[];return this.forEach(function(w,y){b.push([y,w])}),p(b)},a.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function m(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function _(b){return new Promise(function(w,y){b.onload=function(){w(b.result)},b.onerror=function(){y(b.error)}})}function A(b){var w=new FileReader,y=_(w);return w.readAsArrayBuffer(b),y}function B(b){var w=new FileReader,y=_(w);return w.readAsText(b),y}function L(b){for(var w=new Uint8Array(b),y=new Array(w.length),x=0;x<w.length;x++)y[x]=String.fromCharCode(w[x]);return y.join("")}function U(b){if(b.slice)return b.slice(0);var w=new Uint8Array(b.byteLength);return w.set(new Uint8Array(b)),w.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:a.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:a.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():a.arrayBuffer&&a.blob&&c(b)?(this._bodyArrayBuffer=U(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=U(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(b){var w=b.toUpperCase();return j.indexOf(w)>-1?w:b}function C(b,w){w=w||{};var y=w.body;if(b instanceof C){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,w.headers||(this.headers=new h(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!y&&b._bodyInit!=null&&(y=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new h(w.headers)),this.method=T(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function q(b){var w=new FormData;return b.trim().split("&").forEach(function(y){if(y){var x=y.split("="),S=x.shift().replace(/\+/g," "),M=x.join("=").replace(/\+/g," ");w.append(decodeURIComponent(S),decodeURIComponent(M))}}),w}function K(b){var w=new h,y=b.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(x){var S=x.split(":"),M=S.shift().trim();if(M){var le=S.join(":").trim();w.append(M,le)}}),w}W.call(C.prototype);function v(b,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new h(w.headers),this.url=w.url||"",this._initBody(b)}W.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},v.error=function(){var b=new v(null,{status:0,statusText:""});return b.type="error",b};var Z=[301,302,303,307,308];v.redirect=function(b,w){if(Z.indexOf(w)===-1)throw new RangeError("Invalid status code");return new v(null,{status:w,headers:{location:b}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,y){this.message=w,this.name=y;var x=Error(w);this.stack=x.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function oe(b,w){return new Promise(function(y,x){var S=new C(b,w);if(S.signal&&S.signal.aborted)return x(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function le(){M.abort()}M.onload=function(){var H={status:M.status,statusText:M.statusText,headers:K(M.getAllResponseHeaders()||"")};H.url="responseURL"in M?M.responseURL:H.headers.get("X-Request-URL");var pe="response"in M?M.response:M.responseText;y(new v(pe,H))},M.onerror=function(){x(new TypeError("Network request failed"))},M.ontimeout=function(){x(new TypeError("Network request failed"))},M.onabort=function(){x(new o.DOMException("Aborted","AbortError"))},M.open(S.method,S.url,!0),S.credentials==="include"?M.withCredentials=!0:S.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&a.blob&&(M.responseType="blob"),S.headers.forEach(function(H,pe){M.setRequestHeader(pe,H)}),S.signal&&(S.signal.addEventListener("abort",le),M.onreadystatechange=function(){M.readyState===4&&S.signal.removeEventListener("abort",le)}),M.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return oe.polyfill=!0,i.fetch||(i.fetch=oe,i.Headers=h,i.Request=C,i.Response=v),o.Headers=h,o.Request=C,o.Response=v,o.fetch=oe,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Lr,Lr.exports);const jr=ya(Lr.exports);var Ur=globalThis&&globalThis.__assign||function(){return Ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ur.apply(this,arguments)},ao=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},co=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};globalThis&&globalThis.__values;var _a="application/ad+json";function Dr(t,e,n){return ao(this,void 0,void 0,function(){var r,s,i,o,a,c,l,u,f;return co(this,function(d){switch(d.label){case 0:r=new Mt(t),d.label=1;case 1:return d.trys.push([1,7,,8]),Yt(t),s={},s.Accept=_a,i=e==null?void 0:e.getAgent(),i&&e?t.startsWith(window.location.origin)?(ma()||lo(e,i),[3,4]):[3,2]:[3,4];case 2:return[4,ha(t,i,s)];case 3:d.sent(),d.label=4;case 4:if(o=t,n!==void 0&&(a=new URL("".concat(n,"/path")),a.searchParams.set("path",t),o=a.href),jr===void 0)throw new Ze("No window object available this lib currently requires the DOM for fetching");return[4,jr(o,{headers:s})];case 5:return c=d.sent(),[4,c.text()];case 6:if(l=d.sent(),c.status===200)try{u=JSON.parse(l),r=ni(u,r,e)}catch(p){throw new Ze("Could not parse JSON from fetching ".concat(t,". Is it an Atomic Data resource? Error message: ").concat(p.message))}else throw c.status===401?new Ze(l,Ke.Unauthorized):c.status===500?new Ze(l,Ke.Server):c.status===404?new Ze(l,Ke.NotFound):new Ze(l);return[3,8];case 7:return f=d.sent(),r.setError(f),[3,8];case 8:return r.loading=!1,e&&e.addResource(r),[2,r]}})})}function Ci(t,e){return ao(this,void 0,void 0,function(){var n,r,s,i,o;return co(this,function(a){switch(a.label){case 0:n=mo(Ur({},t)),r=new Headers,r.set("Content-Type","application/ad+json"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,jr(e,{headers:r,method:"POST",body:n})];case 2:return s=a.sent(),[3,4];case 3:throw i=a.sent(),new Ze("Posting Commit to ".concat(e," failed: ").concat(i));case 4:return[4,s.text()];case 5:if(o=a.sent(),s.status!==200)throw new Ze(o,Ke.Server);return[2,yo(o)]}})})}function Yt(t){try{new URL(t)}catch(e){throw new Error("Not a valid URL: ".concat(t,". ").concat(e))}}function wa(t){return t==null?void 0:t.split("?")[0]}const va={};const Re=BigInt(0),re=BigInt(1),Le=BigInt(2),uo=BigInt(255),Bi=Le**BigInt(252)+BigInt("27742317777372353535851937790883648493"),me={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Le**uo-BigInt(19),l:Bi,n:Bi,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},fo=Le**BigInt(256),dn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Ea=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Sa=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Aa=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ka=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class de{constructor(e,n,r,s){this.x=e,this.y=n,this.z=r,this.t=s}static fromAffine(e){if(!(e instanceof Ae))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ae.ZERO)?de.ZERO:new de(e.x,e.y,re,O(e.x*e.y))}static toAffineBatch(e){const n=Oa(e.map(r=>r.z));return e.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){xi(e);const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=e,c=O(n*a),l=O(i*s),u=O(r*a),f=O(o*s);return c===l&&u===f}negate(){return new de(O(-this.x),this.y,this.z,O(-this.t))}double(){const{x:e,y:n,z:r}=this,{a:s}=me,i=O(e**Le),o=O(n**Le),a=O(Le*O(r**Le)),c=O(s*i),l=O(O((e+n)**Le)-i-o),u=c+o,f=u-a,d=c-o,p=O(l*f),h=O(u*d),m=O(l*d),_=O(f*u);return new de(p,h,_,m)}add(e){xi(e);const{x:n,y:r,z:s,t:i}=this,{x:o,y:a,z:c,t:l}=e,u=O((r-n)*(a+o)),f=O((r+n)*(a-o)),d=O(f-u);if(d===Re)return this.double();const p=O(s*Le*l),h=O(i*Le*c),m=h+p,_=f+u,A=h-p,B=O(m*d),L=O(_*A),U=O(m*A),W=O(d*_);return new de(B,L,W,U)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const n=1+256/e,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(e,n){!n&&this.equals(de.BASE)&&(n=Ae.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&Pr.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=de.normalizeZ(s),Pr.set(n,s)));let i=de.ZERO,o=de.ZERO;const a=1+256/r,c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<a;d++){const p=d*c;let h=Number(e&l);if(e>>=f,h>c&&(h-=u,e+=re),h===0){let m=s[p];d%2&&(m=m.negate()),o=o.add(m)}else{let m=s[p+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}}return de.normalizeZ([i,o])[0]}multiply(e,n){return this.wNAF(Yn(e,me.l),n)}multiplyUnsafe(e){let n=Yn(e,me.l,!1);const r=de.BASE,s=de.ZERO;if(n===Re)return s;if(this.equals(s)||n===re)return this;if(this.equals(r))return this.wNAF(n);let i=s,o=this;for(;n>Re;)n&re&&(i=i.add(o)),o=o.double(),n>>=re;return i}isSmallOrder(){return this.multiplyUnsafe(me.h).equals(de.ZERO)}isTorsionFree(){return this.multiplyUnsafe(me.l).equals(de.ZERO)}toAffine(e=or(this.z)){const{x:n,y:r,z:s}=this,i=O(n*e),o=O(r*e);if(O(s*e)!==re)throw new Error("invZ was invalid");return new Ae(i,o)}fromRistrettoBytes(){kr()}toRistrettoBytes(){kr()}fromRistrettoHash(){kr()}}de.BASE=new de(me.Gx,me.Gy,re,O(me.Gx*me.Gy));de.ZERO=new de(Re,re,re,Re);function xi(t){if(!(t instanceof de))throw new TypeError("ExtendedPoint expected")}function Ar(t){if(!(t instanceof qe))throw new TypeError("RistrettoPoint expected")}function kr(){throw new Error("Legacy method: switch to RistrettoPoint")}class qe{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:n}=me,r=O(dn*e*e),s=O((r+re)*Aa);let i=BigInt(-1);const o=O((i-n*r)*O(r+n));let{isValid:a,value:c}=Zr(s,o),l=O(c*e);_t(l)||(l=O(-l)),a||(c=l),a||(i=r);const u=O(i*(r-re)*ka-o),f=c*c,d=O((c+c)*o),p=O(u*Ea),h=O(re-f),m=O(re+f);return new de(O(d*m),O(h*p),O(p*m),O(d*h))}static hashToCurve(e){e=Lt(e,64);const n=Rr(e.slice(0,32)),r=this.calcElligatorRistrettoMap(n),s=Rr(e.slice(32,64)),i=this.calcElligatorRistrettoMap(s);return new qe(r.add(i))}static fromHex(e){e=Lt(e,32);const{a:n,d:r}=me,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Rr(e);if(!Ba(_n(i),e)||_t(i))throw new Error(s);const o=O(i*i),a=O(re+n*o),c=O(re-n*o),l=O(a*a),u=O(c*c),f=O(n*r*l-u),{isValid:d,value:p}=Mi(O(f*u)),h=O(p*c),m=O(p*h*f);let _=O((i+i)*h);_t(_)&&(_=O(-_));const A=O(a*m),B=O(_*A);if(!d||_t(B)||A===Re)throw new Error(s);return new qe(new de(_,A,re,B))}toRawBytes(){let{x:e,y:n,z:r,t:s}=this.ep;const i=O(O(r+n)*O(r-n)),o=O(e*n),{value:a}=Mi(O(i*o**Le)),c=O(a*i),l=O(a*o),u=O(c*l*s);let f;if(_t(s*u)){let p=O(n*dn),h=O(e*dn);e=p,n=h,f=O(c*Sa)}else f=l;_t(e*u)&&(n=O(-n));let d=O((r-n)*f);return _t(d)&&(d=O(-d)),_n(d)}toHex(){return Rn(this.toRawBytes())}toString(){return this.toHex()}equals(e){Ar(e);const n=this.ep,r=e.ep,s=O(n.x*r.y)===O(n.y*r.x),i=O(n.y*r.y)===O(n.x*r.x);return s||i}add(e){return Ar(e),new qe(this.ep.add(e.ep))}subtract(e){return Ar(e),new qe(this.ep.subtract(e.ep))}multiply(e){return new qe(this.ep.multiply(e))}multiplyUnsafe(e){return new qe(this.ep.multiplyUnsafe(e))}}qe.BASE=new qe(de.BASE);qe.ZERO=new qe(de.ZERO);const Pr=new WeakMap;class Ae{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Pr.delete(this)}static fromHex(e,n=!0){const{d:r,P:s}=me;e=Lt(e,32);const i=e.slice();i[31]=e[31]&-129;const o=tn(i);if(n&&o>=s)throw new Error("Expected 0 < hex < P");if(!n&&o>=fo)throw new Error("Expected 0 < hex < 2**256");const a=O(o*o),c=O(a-re),l=O(r*a+re);let{isValid:u,value:f}=Zr(c,l);if(!u)throw new Error("Point.fromHex: invalid y coordinate");const d=(f&re)===re;return(e[31]&128)!==0!==d&&(f=O(-f)),new Ae(f,o)}static async fromPrivateKey(e){return(await Yr(e)).point}toRawBytes(){const e=_n(this.y);return e[31]|=this.x&re?128:0,e}toHex(){return Rn(this.toRawBytes())}toX25519(){const{y:e}=this,n=O((re+e)*or(re-e));return _n(n)}isTorsionFree(){return de.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ae(O(-this.x),this.y)}add(e){return de.fromAffine(this).add(de.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return de.fromAffine(this).multiply(e,this).toAffine()}}Ae.BASE=new Ae(me.Gx,me.Gy);Ae.ZERO=new Ae(Re,re);class Xr{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromHex(e){const n=Lt(e,64),r=Ae.fromHex(n.slice(0,32),!1),s=tn(n.slice(32,64));return new Xr(r,s)}assertValidity(){const{r:e,s:n}=this;if(!(e instanceof Ae))throw new Error("Expected Point instance");return Yn(n,me.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(_n(this.s),32),e}toHex(){return Rn(this.toRawBytes())}}function Ra(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Ta=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Rn(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Ta[t[n]];return e}function ho(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,s=t.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function po(t){const n=t.toString(16).padStart(64,"0");return ho(n)}function _n(t){return po(t).reverse()}function _t(t){return(O(t)&re)===re}function tn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Rn(Uint8Array.from(t).reverse()))}function Rr(t){return O(tn(t)&Le**uo-re)}function O(t,e=me.P){const n=t%e;return n>=Re?n:e+n}function or(t,e=me.P){if(t===Re||e<=Re)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=O(t,e),r=e,s=Re,i=re;for(;n!==Re;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==re)throw new Error("invert: does not exist");return O(s,e)}function Oa(t,e=me.P){const n=new Array(t.length),r=t.reduce((i,o,a)=>o===Re?i:(n[a]=i,O(i*o,e)),re),s=or(r,e);return t.reduceRight((i,o,a)=>o===Re?i:(n[a]=O(i*n[a],e),O(i*o,e)),s),n}function Xe(t,e){const{P:n}=me;let r=t;for(;e-- >Re;)r*=r,r%=n;return r}function Ca(t){const{P:e}=me,n=BigInt(5),r=BigInt(10),s=BigInt(20),i=BigInt(40),o=BigInt(80),c=t*t%e*t%e,l=Xe(c,Le)*c%e,u=Xe(l,re)*t%e,f=Xe(u,n)*u%e,d=Xe(f,r)*f%e,p=Xe(d,s)*d%e,h=Xe(p,i)*p%e,m=Xe(h,o)*h%e,_=Xe(m,o)*h%e,A=Xe(_,r)*f%e;return{pow_p_5_8:Xe(A,Le)*t%e,b2:c}}function Zr(t,e){const n=O(e*e*e),r=O(n*n*e),s=Ca(t*r).pow_p_5_8;let i=O(t*n*s);const o=O(e*i*i),a=i,c=O(i*dn),l=o===t,u=o===O(-t),f=o===O(-t*dn);return l&&(i=a),(u||f)&&(i=c),_t(i)&&(i=O(-i)),{isValid:l||u,value:i}}function Mi(t){return Zr(re,t)}async function Ii(...t){const e=await lr.sha512(Ra(...t)),n=tn(e);return O(n,me.l)}function Ba(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Lt(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):ho(t);if(typeof e=="number"&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function Yn(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(n){if(Re<t)return t}else if(Re<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function xa(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}async function Yr(t){if(t=typeof t=="bigint"||typeof t=="number"?po(Yn(t,fo)):Lt(t),t.length!==32)throw new Error("Expected 32 bytes");const e=await lr.sha512(t),n=xa(e.slice(0,32)),r=e.slice(32,64),s=O(tn(n),me.l),i=Ae.BASE.multiply(s),o=i.toRawBytes();return{head:n,prefix:r,scalar:s,point:i,pointBytes:o}}async function Ma(t,e){t=Lt(t);const{prefix:n,scalar:r,pointBytes:s}=await Yr(e),i=await Ii(n,t),o=Ae.BASE.multiply(i),a=await Ii(o.toRawBytes(),s,t),c=O(i+a*r,me.l);return new Xr(o,c).toRawBytes()}Ae.BASE._setWindowSize(8);const pt={node:va,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},lr={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Rn,getExtendedPublicKey:Yr,mod:O,invert:or,hashToPrivateScalar:t=>{if(t=Lt(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=O(tn(t),me.l);if(e===Re||e===re)throw new Error("Invalid private key");return e},randomBytes:(t=32)=>{if(pt.web)return pt.web.getRandomValues(new Uint8Array(t));if(pt.node){const{randomBytes:e}=pt.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>lr.randomBytes(32),sha512:async t=>{if(pt.web){const e=await pt.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(pt.node)return Uint8Array.from(pt.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ae.BASE){const n=e.equals(Ae.BASE)?e:new Ae(e.x,e.y);return n._setWindowSize(t),n.multiply(Le),n}};var Ia=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,r=e.cmp&&function(i){return function(o){return function(a,c){var l={key:a,value:o[a]},u={key:c,value:o[c]};return i(l,u)}}}(e.cmp),s=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var a,c;if(Array.isArray(o)){for(c="[",a=0;a<o.length;a++)a&&(c+=","),c+=i(o[a])||"null";return c+"]"}if(o===null)return"null";if(s.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=s.push(o)-1,u=Object.keys(o).sort(r&&r(o));for(c="",a=0;a<u.length;a++){var f=u[a],d=i(o[f]);!d||(c&&(c+=","),c+=JSON.stringify(f)+":"+d)}return s.splice(l,1),"{"+c+"}"}}(t)},Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jn=0;jn<Gt.length;jn++)cn[Gt.charCodeAt(jn)]=jn;var Na=function(t){var e=new Uint8Array(t),n,r=e.length,s="";for(n=0;n<r;n+=3)s+=Gt[e[n]>>2],s+=Gt[(e[n]&3)<<4|e[n+1]>>4],s+=Gt[(e[n+1]&15)<<2|e[n+2]>>6],s+=Gt[e[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s},La=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)i=cn[t.charCodeAt(r)],o=cn[t.charCodeAt(r+1)],a=cn[t.charCodeAt(r+2)],c=cn[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l};const Tr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ja=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ja)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));(()=>{const t=typeof un<"u"&&typeof un.require=="function"&&un.require.bind(un);try{if(t){const{setImmediate:e}=t("timers");return()=>new Promise(n=>e(n))}}catch{}return()=>new Promise(e=>setTimeout(e,0))})();function Ua(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function go(t){if(typeof t=="string"&&(t=Ua(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Da{clone(){return this._cloneInto()}}function Qr(t){const e=r=>t().update(go(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e.init=e.create,e}function Pa(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class Ha extends Da{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tr(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:n,buffer:r,blockLen:s,finished:i}=this;if(i)throw new Error("digest() was already called");e=go(e);const o=e.length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c===s){const l=Tr(e);for(;s<=o-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let c=o;c<s;c++)n[c]=0;Pa(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Tr(e);this.get().forEach((c,l)=>a.setUint32(4*l,c,i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const Un=BigInt(2**32-1),Ni=BigInt(32);function za(t,e=!1){return e?{h:Number(t&Un),l:Number(t>>Ni&Un)}:{h:Number(t>>Ni&Un)|0,l:Number(t&Un)|0}}function Fa(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=za(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Li=(t,e,n)=>t>>>n,ji=(t,e,n)=>t<<32-n|e>>>n,zt=(t,e,n)=>t>>>n|e<<32-n,Ft=(t,e,n)=>t<<32-n|e>>>n,Dn=(t,e,n)=>t<<64-n|e>>>n-32,Pn=(t,e,n)=>t>>>n-32|e<<64-n;function it(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const qa=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Wa=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Va=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ga=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Ka=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Ja=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,[Xa,Za]=Fa(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gt=new Uint32Array(80),mt=new Uint32Array(80);class $r extends Ha{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:_}=this;return[e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_]}set(e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=_|0}process(e,n){for(let L=0;L<16;L++,n+=4)gt[L]=e.getUint32(n),mt[L]=e.getUint32(n+=4);for(let L=16;L<80;L++){const U=gt[L-15]|0,W=mt[L-15]|0,j=zt(U,W,1)^zt(U,W,8)^Li(U,W,7),T=Ft(U,W,1)^Ft(U,W,8)^ji(U,W,7),C=gt[L-2]|0,q=mt[L-2]|0,K=zt(C,q,19)^Dn(C,q,61)^Li(C,q,6),v=Ft(C,q,19)^Pn(C,q,61)^ji(C,q,6),Z=Va(T,v,mt[L-7],mt[L-16]),oe=Ga(Z,j,K,gt[L-7],gt[L-16]);gt[L]=oe|0,mt[L]=Z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:_,Hh:A,Hl:B}=this;for(let L=0;L<80;L++){const U=zt(f,d,14)^zt(f,d,18)^Dn(f,d,41),W=Ft(f,d,14)^Ft(f,d,18)^Pn(f,d,41),j=f&p^~f&m,T=d&h^~d&_,C=Ka(B,W,T,Za[L],mt[L]),q=Ja(C,A,U,j,Xa[L],gt[L]),K=C|0,v=zt(r,s,28)^Dn(r,s,34)^Dn(r,s,39),Z=Ft(r,s,28)^Pn(r,s,34)^Pn(r,s,39),oe=r&i^r&a^i&a,b=s&o^s&c^o&c;A=m|0,B=_|0,m=p|0,_=h|0,p=f|0,h=d|0,{h:f,l:d}=it(l|0,u|0,q|0,K|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const w=qa(K,Z,b);r=Wa(w,q,v,oe),s=w|0}({h:r,l:s}=it(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=it(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=it(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=it(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=it(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=it(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:_}=it(this.Gh|0,this.Gl|0,m|0,_|0),{h:A,l:B}=it(this.Hh|0,this.Hl|0,A|0,B|0),this.set(r,s,i,o,a,c,l,u,f,d,p,h,m,_,A,B)}roundClean(){gt.fill(0),mt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ya extends $r{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Qa extends $r{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const $a=Qr(()=>new $r);Qr(()=>new Ya);Qr(()=>new Qa);var Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Bt.apply(this,arguments)},Hr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},zr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ec=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tc=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};lr.sha512=function(t){return Promise.resolve($a(t))};function ei(){return Math.round(new Date().getTime())}var Or=function(){function t(e,n){n===void 0&&(n={});var r,s,i;this._subject=wa(e),this._set=(r=n.set)!==null&&r!==void 0?r:new Map,this._push=(s=n.push)!==null&&s!==void 0?s:new Map,this._remove=(i=n.remove)!==null&&i!==void 0?i:new Set,this._destroy=n.destroy,this._previousCommit=n.previousCommit}return Object.defineProperty(t.prototype,"subject",{get:function(){return this._subject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set",{get:function(){return this._set},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){return this._push},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remove",{get:function(){return this._remove},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroy",{get:function(){return this._destroy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCommit",{get:function(){return this._previousCommit},enumerable:!1,configurable:!0}),t.prototype.addSetAction=function(e,n){return this.removeRemoveAction(e),this._set.set(e,n),this},t.prototype.addPushAction=function(e){for(var n,r,s,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(s=this._push.get(e))!==null&&s!==void 0?s:new Set;try{for(var c=ec(i),l=c.next();!l.done;l=c.next()){var u=l.value;a.add(u)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return this._push.set(e,a),this},t.prototype.addRemoveAction=function(e){return this._set.delete(e),this._push.delete(e),this._remove.add(e),this},t.prototype.removeRemoveAction=function(e){return this._remove.delete(e),this},t.prototype.setDestroy=function(e){return this._destroy=e,this},t.prototype.setPreviousCommit=function(e){return this._previousCommit=e,this},t.prototype.setSubject=function(e){return this._subject=e,this},t.prototype.sign=function(e,n){return Hr(this,void 0,void 0,function(){var r;return zr(this,function(s){switch(s.label){case 0:return[4,this.signAt(n,e,ei())];case 1:return r=s.sent(),[2,r]}})})},t.prototype.hasUnsavedChanges=function(){return this.set.size>0||this.push.size>0||this.destroy||this.remove.size>0},t.prototype.clone=function(){var e={set:this.set,push:this.push,remove:this.remove,destroy:this.destroy,previousCommit:this.previousCommit};return new t(this.subject,structuredClone(e))},t.prototype.toPlainObject=function(){return{subject:this.subject,set:Object.fromEntries(this.set.entries()),push:Object.fromEntries(Array.from(this.push.entries()).map(function(e){var n=tc(e,2),r=n[0],s=n[1];return[r,Array.from(s)]})),remove:Array.from(this.remove),destroy:this.destroy,previousCommit:this.previousCommit}},t.prototype.signAt=function(e,n,r){return Hr(this,void 0,void 0,function(){var s,i,o,a;return zr(this,function(c){switch(c.label){case 0:if(e===void 0)throw new Error("No agent passed to sign commit");return s=Bt(Bt({},this.clone().toPlainObject()),{createdAt:r,signer:e}),i=mo(Bt({},s)),[4,bo(i,n)];case 1:return o=c.sent(),a=Bt(Bt({},s),{signature:o}),[2,a]}})})},t}();function st(t,e,n){e in t&&e!==n&&(Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(t,e)),delete t[e])}function mo(t){return t.remove&&Object.keys(t.remove).length===0&&delete t.remove,t.set&&Object.keys(t.set).length===0&&delete t.set,t.push&&Object.keys(t.push).length===0&&delete t.push,t.destroy===!1&&delete t.destroy,st(t,"createdAt",D.properties.commit.createdAt),st(t,"subject",D.properties.commit.subject),st(t,"set",D.properties.commit.set),st(t,"push",D.properties.commit.push),st(t,"signer",D.properties.commit.signer),st(t,"signature",D.properties.commit.signature),st(t,"remove",D.properties.commit.remove),st(t,"destroy",D.properties.commit.destroy),st(t,"previousCommit",D.properties.commit.previousCommit),t[D.properties.isA]=[D.classes.commit],Ia(t)}var bo=function(t,e){return Hr(void 0,void 0,void 0,function(){var n,r,s,i,o,a;return zr(this,function(c){switch(c.label){case 0:return n=La(e),r=new Uint8Array(n),s=new TextEncoder,i=s.encode(t),[4,Ma(i,r)];case 1:return o=c.sent(),a=Na(o),[2,a]}})})};function yo(t){try{var e=JSON.parse(t),n=e[D.properties.commit.subject],r=e[D.properties.commit.set],s=e[D.properties.commit.push],i=e[D.properties.commit.signer],o=e[D.properties.commit.createdAt],a=e[D.properties.commit.remove],c=e[D.properties.commit.destroy],l=e[D.properties.commit.signature],u=e["@id"],f=e[D.properties.commit.previousCommit];return{subject:n,set:r,push:s,signer:i,createdAt:o,remove:a,destroy:c,signature:l,id:u,previousCommit:f}}catch(d){throw new Error("Could not parse commit: ".concat(d))}}function nc(t,e){var n=yo(t),r=n.subject,s=n.set,i=n.remove,o=n.id,a=n.destroy,c=n.signature,l=n.push,u=e.resources.get(r);if(!u)u=new Mt(r);else if(u.appliedCommitSignatures.has(c))return;if(s&&Object.keys(s).forEach(function(f){var d=s[f];(d==null?void 0:d.constructor)==={}.constructor&&(d=hn(d,u,f,e)),ti(d)&&(d=d.map(function(p){return hn(p,u,f,e)})),u.setUnsafe(f,d)}),i&&i.forEach(function(f){u.removePropValLocally(f)}),l&&Object.keys(l).forEach(function(f){var d=u.get(f)||[],p=l[f],h=p.map(function(_){return hn(_,u,f,e)}),m=d.concat(h);u.setUnsafe(f,m)}),o&&u.setUnsafe(ze.commit.lastCommit,o),a){e.removeResource(r);return}else u.appliedCommitSignatures.add(c),e.addResource(u)}var rc=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke;(function(t){t.Unauthorized="Unauthorized",t.NotFound="NotFound",t.Server="Server",t.Client="Client"})(Ke||(Ke={}));function ic(t){if(t instanceof Ze){if(t.type===Ke.Unauthorized)return!0;if(t.message.includes("Unauthorized"))return!0}return!1}var Ze=function(t){rc(e,t);function e(n,r){r===void 0&&(r=Ke.Client);var s=t.call(this,n)||this;Object.setPrototypeOf(s,e.prototype),s.type=r,s.message=n;try{var i=JSON.parse(n),o=i[ze.description];o&&(s.message=o)}catch{}return s.message||(s.message=s.createMessage()),s}return e.fromResource=function(n){var r=new e(n.get(ze.description).toString());return r},e.prototype.createMessage=function(){switch(this.type){case Ke.Unauthorized:return"You don't have the rights to do this.";case Ke.NotFound:return"404 Not found.";case Ke.Server:return"500 Unknown server error.";default:return"Unknown error."}},e}(Error),he;(function(t){t.ATOMIC_URL="https://atomicdata.dev/datatypes/atomicURL",t.BOOLEAN="https://atomicdata.dev/datatypes/boolean",t.DATE="https://atomicdata.dev/datatypes/date",t.FLOAT="https://atomicdata.dev/datatypes/float",t.INTEGER="https://atomicdata.dev/datatypes/integer",t.MARKDOWN="https://atomicdata.dev/datatypes/markdown",t.RESOURCEARRAY="https://atomicdata.dev/datatypes/resourceArray",t.SLUG="https://atomicdata.dev/datatypes/slug",t.STRING="https://atomicdata.dev/datatypes/string",t.TIMESTAMP="https://atomicdata.dev/datatypes/timestamp",t.UNKNOWN="unknown-datatype"})(he||(he={}));var sc=function(t){switch(t){case D.datatypes.atomicUrl:return he.ATOMIC_URL;case D.datatypes.boolean:return he.BOOLEAN;case D.datatypes.date:return he.DATE;case D.datatypes.float:return he.FLOAT;case D.datatypes.integer:return he.INTEGER;case D.datatypes.markdown:return he.MARKDOWN;case D.datatypes.resourceArray:return he.RESOURCEARRAY;case D.datatypes.slug:return he.SLUG;case D.datatypes.string:return he.STRING;case D.datatypes.timestamp:return he.TIMESTAMP;default:return he.UNKNOWN}},oc=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,lc=/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,ac=function(t,e){var n=null;if(t===void 0)throw new Error("Value is undefined, expected ".concat(e));switch(e){case he.STRING:{if(!Hn(t)){n="Not a string";break}break}case he.SLUG:{if(!Hn(t)){n="Not a slug, not even a string";break}t.match(oc)===null&&(n="Not a valid slug. Only lowercase letters and numbers with dashes `-` between them");break}case he.ATOMIC_URL:{if(!Hn(t)){n="Not a string. Should be a URL";break}Yt(t);break}case he.RESOURCEARRAY:{if(!ti(t)){n="Not an array";break}t.map(function(r,s){try{Yt(r)}catch{var i=new Error("Invalid URL");throw i.index=s,i}});break}case he.INTEGER:{if(!cc(t)){n="Not a number";break}t%1!==0&&(n="Not an integer");break}case he.DATE:{if(!Hn(t)){n="Not a string";break}t.match(lc)===null&&(n="Not a date string: YYYY-MM-DD");break}}if(n!==null)throw new Error(n)};function ti(t){return Object.prototype.toString.call(t)==="[object Array]"}function Hn(t){return typeof t=="string"}function cc(t){return typeof t=="number"}globalThis&&globalThis.__values;function ni(t,e,n){try{var r=function(i){if(i==="@id"){var o=t["@id"];if(typeof o!="string")throw new Error("'@id' field must be a string");if(e.getSubject()!=="undefined"&&e.getSubject()!==xt&&o!==e.getSubject())throw new Error("Resource has wrong subject in @id. Received subject was ".concat(o,", expected ").concat(e.getSubject(),"."));return e.setSubject(o),"continue"}var a=t[i];try{if(ti(a)){var c=a.map(function(f){return hn(f,e,i,n)});e.setUnsafe(i,c)}else if(typeof a=="string")e.setUnsafe(i,a);else if(typeof a=="number")e.setUnsafe(i,a);else if(typeof a=="boolean")e.setUnsafe(i,a);else{var o=hn(a,e,i,n);e.setUnsafe(i,o)}}catch(f){var l="Failed creating value ".concat(a," for key ").concat(i," in resource ").concat(e.getSubject()),u="".concat(l,". ").concat(f.message);throw new Error(u)}};for(var s in t)r(s);e.loading=!1,e.getClasses().includes(D.classes.error)&&(e.error=Ze.fromResource(e)),n&&n.addResource(e)}catch(i){throw i.message="Failed parsing JSON "+i.message,e.setError(i),e.loading=!1,n&&n.addResource(e),i}return e}function hn(t,e,n,r){if(typeof t=="string")return t;if((t==null?void 0:t.constructor)==={}.constructor)if(Object.keys(t).includes("@id")){var s=t["@id"],i=new Mt(s);return ni(t,i,r),s}else return t;throw new Error("Value ".concat(t," in ").concat(n," not a string or a nested Resource"))}var on=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},ln=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Cr=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Br=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},xt="unknown-subject",Mt=function(){function t(e,n){if(typeof e!="string")throw new Error("Invalid subject given to resource, must be a string, found "+e);this.new=!!n,this.loading=!1,this.subject=e,this.propvals=new Map,this.appliedCommitSignatures=new Set,this.commitBuilder=new Or(e)}return t.prototype.canWrite=function(e,n,r){return on(this,void 0,void 0,function(){var s,i,o;return ln(this,function(a){switch(a.label){case 0:return s=this.get(ze.write),n?s&&xr(s).includes(n)?[2,[!0,void 0]]:s&&xr(s).includes(Eo.publicAgent)?[2,[!0,void 0]]:(i=this.get(ze.parent),i?i===n?[2,[!0,void 0]]:r===i?(console.warn("Circular parent",r),[2,[!0,"Circular parent in ".concat(this.getSubject())]]):[4,e.getResourceAsync(i)]:[2,[!1,"No write right or parent in ".concat(this.getSubject())]]):[2,[!1,"No agent given"]];case 1:return o=a.sent(),[4,o.canWrite(e,n,this.getSubject())];case 2:return[2,a.sent()]}})})},t.prototype.clone=function(){var e=new t(this.subject);return e.propvals=this.propvals,e.destroy=this.destroy,e.loading=this.loading,e.new=this.new,e.error=this.error,e.commitError=this.commitError,e.commitBuilder=this.commitBuilder.clone(),e.appliedCommitSignatures=this.appliedCommitSignatures,e},t.prototype.isReady=function(){return!this.loading&&this.error===void 0},t.prototype.get=function(e){return this.propvals.get(e)},t.prototype.getSubjects=function(e){return this.getArray(e).map(function(n){return typeof n=="string"?n:n["@id"]})},t.prototype.getArray=function(e){var n,r=(n=this.propvals.get(e))!==null&&n!==void 0?n:[];return xr(r)},t.prototype.getClasses=function(){return this.getSubjects(ze.isA)},t.prototype.getCommitBuilder=function(){return this.commitBuilder},t.prototype.getSubject=function(){return this.subject},t.prototype.getSubjectNoParams=function(){var e=new URL(this.subject);return e.origin+e.pathname},t.prototype.getPropVals=function(){return this.propvals},t.prototype.getRights=function(e){return on(this,void 0,void 0,function(){var n,r,s,i,o,a,c=this;return ln(this,function(l){switch(l.label){case 0:return n=[],r=this.getSubjects(ze.write),r.forEach(function(u){n.push({for:u,type:Qn.WRITE,setIn:c.subject})}),s=this.getSubjects(ze.read),s.forEach(function(u){n.push({for:u,type:Qn.READ,setIn:c.subject})}),i=this.get(ze.parent),i?i===this.getSubject()?(console.warn("Circular parent",i),[2,n]):[4,e.getResourceAsync(i)]:[3,3];case 1:return o=l.sent(),[4,o.getRights(e)];case 2:a=l.sent(),n.push.apply(n,Br([],Cr(a),!1)),l.label=3;case 3:return[2,n]}})})},t.prototype.isUnauthorized=function(){return!!this.error&&ic(this.error)},t.prototype.destroy=function(e,n){return on(this,void 0,void 0,function(){var r,s,i;return ln(this,function(o){switch(o.label){case 0:if(r=new Or(this.getSubject()),r.setDestroy(!0),n===void 0&&(n=e.getAgent()),(n==null?void 0:n.subject)===void 0)throw new Error("No agent has been set or passed, you cannot delete this.");return[4,r.sign(n.privateKey,n.subject)];case 1:return s=o.sent(),i=new URL(this.getSubject()).origin+"/commit",[4,Ci(s,i)];case 2:return o.sent(),e.removeResource(this.getSubject()),[2]}})})},t.prototype.pushPropVal=function(e){for(var n,r,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];var o=(r=this.get(e))!==null&&r!==void 0?r:[];o.push.apply(o,Br([],Cr(s),!1)),(n=this.commitBuilder).addPushAction.apply(n,Br([e],Cr(s),!1)),this.propvals.set(e,o)},t.prototype.removePropVal=function(e){this.propvals.delete(e),this.commitBuilder.addRemoveAction(e)},t.prototype.removePropValLocally=function(e){this.propvals.delete(e)},t.prototype.save=function(e,n){var r,s,i;return on(this,void 0,void 0,function(){var o,a,c,l,u,f,d,p,h;return ln(this,function(m){switch(m.label){case 0:if(e.addResource(this),o=(r=e.getAgent())!==null&&r!==void 0?r:n,!o)throw new Error("No agent has been set or passed, you cannot save.");return a=(s=this.get(ze.commit.lastCommit))===null||s===void 0?void 0:s.toString(),a&&this.commitBuilder.setPreviousCommit(a),c=this.commitBuilder.clone(),this.commitBuilder=new Or(this.getSubject()),[4,c.sign(o.privateKey,o.subject)];case 1:l=m.sent(),this.appliedCommitSignatures.add(l.signature),this.loading=!1,this.new=!1,u=new URL(this.getSubject()).origin+"/commit",m.label=2;case 2:return m.trys.push([2,4,,8]),this.commitError=void 0,[4,Ci(l,u)];case 3:return f=m.sent(),this.setUnsafe(ze.commit.lastCommit,f.id),e.subscribeWebSocket(this.subject),e.notifyResourceSaved(this),[2,f.id];case 4:return d=m.sent(),d.message.includes("previousCommit")?(console.warn("previousCommit missing or mismatch, retrying..."),[4,Dr(this.getSubject(),e)]):[3,7];case 5:return p=m.sent(),h=(i=p.get(ze.commit.lastCommit))===null||i===void 0?void 0:i.toString(),h&&this.setUnsafe(ze.commit.lastCommit,h),[4,this.save(e,o)];case 6:return[2,m.sent()];case 7:throw this.commitBuilder=c,this.commitError=d,e.addResource(this),d;case 8:return[2]}})})},t.prototype.set=function(e,n,r,s){return s===void 0&&(s=!0),on(this,void 0,void 0,function(){var i;return ln(this,function(o){switch(o.label){case 0:return r.isOffline()&&(console.warn("Offline, not validating"),s=!1),s?[4,r.getProperty(e)]:[3,2];case 1:i=o.sent(),ac(n,i.datatype),o.label=2;case 2:return this.propvals.set(e,n),this.commitBuilder.addSetAction(e,n),[2]}})})},t.prototype.setUnsafe=function(e,n){this.propvals.set(e,n)},t.prototype.setError=function(e){this.error=e},t.prototype.setSubject=function(e){Yt(e),this.commitBuilder.setSubject(e),this.subject=e},t}(),Qn;(function(t){t.READ="read",t.WRITE="write"})(Qn||(Qn={}));var Ui=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Di=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Pi=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Hi=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},uc=function(){function t(){this.subscriptions=new Map}return t.prototype.register=function(e,n){var r,s=(r=this.subscriptions.get(e))!==null&&r!==void 0?r:new Set;return s.add(n),this.subscriptions.set(e,s),function(){s.delete(n)}},t.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Ui(this,void 0,void 0,function(){var s,i,o=this;return Di(this,function(a){switch(a.label){case 0:return this.subscriptions.has(e)?(s=this.subscriptions.get(e),i=function(c){return Ui(o,void 0,void 0,function(){return Di(this,function(l){return c.apply(void 0,Hi([],Pi(n),!1)),[2]})})},s?[4,Promise.allSettled(Hi([],Pi(s),!1).map(function(c){return i(c)}))]:[2]):[2];case 1:return a.sent(),[2]}})})},t}(),_o=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},wo=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function zi(t,e){var n=new URL(t);n.protocol==="http:"?n.protocol="ws":n.protocol="wss",n.pathname="/ws";var r=new WebSocket(n.toString());return r.onopen=function(s){return dc(e,r)},r.onmessage=function(s){return hc(s,e)},r.onerror=pc,r}function dc(t,e){vo(e,t).then(function(){var n,r;try{for(var s=fc(t.subscribers.keys()),i=s.next();!i.done;i=s.next()){var o=i.value;t.subscribeWebSocket(o)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})}function hc(t,e){if(t.data.startsWith("COMMIT ")){var n=t.data.slice(7);nc(n,e)}else if(t.data.startsWith("ERROR "))e.handleError(t.data.slice(6));else if(t.data.startsWith("RESOURCE ")){var r=t.data.slice(9),s=JSON.parse(r),i=new Mt(xt);ni(s,i,e)}else console.warn("Unknown websocket message:",t)}function pc(t){console.error("websocket error:",t)}function vo(t,e){var n;return _o(this,void 0,void 0,function(){var r,s;return wo(this,function(i){switch(i.label){case 0:return r=e.getAgent(),r?!t.url.startsWith("ws://localhost:")&&((n=r==null?void 0:r.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))?(console.warn("Can't authenticate localhost Agent over websocket"),[2]):[4,so(t.url,r)]:[2];case 1:return s=i.sent(),t.send("AUTHENTICATE "+JSON.stringify(s)),[2]}})})}function gc(t,e){return _o(this,void 0,void 0,function(){return wo(this,function(n){return t.send("GET "+e),[2]})})}var bt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},yt=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},pn;(function(t){t.ResourceSaved="resource-saved",t.ResourceRemoved="resource-removed",t.ResourceManuallyCreated="resource-manually-created"})(pn||(pn={}));var mc=function(){function t(e){e===void 0&&(e={}),this.eventManager=new uc,this._resources=new Map,this.webSockets=new Map,this.subscribers=new Map,e.serverUrl&&this.setServerUrl(e.serverUrl),e.agent&&this.setAgent(e.agent),this.errorHandler=function(n){throw n}}return Object.defineProperty(t.prototype,"resources",{get:function(){return this._resources},enumerable:!1,configurable:!0}),t.prototype.addResource=function(e){if(e.get(D.properties.incomplete)){var n=this.resources.get(e.getSubject());if(n&&!n.loading)return}this.resources.set(e.getSubject(),e),this.notify(e.clone())},t.prototype.checkSubjectTaken=function(e){return bt(this,void 0,void 0,function(){var n;return yt(this,function(r){switch(r.label){case 0:return[4,this.getResourceAsync(e)];case 1:return n=r.sent(),n.isReady()?[2,!0]:[2,!1]}})})},t.prototype.buildUniqueSubjectFromParts=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return bt(this,void 0,void 0,function(){var r;return yt(this,function(s){return r=e.join("/"),[2,this.findAvailableSubject(r)]})})},t.prototype.createSubject=function(e){var n=this.randomPart();return e=e||"things","".concat(this.getServerUrl(),"/").concat(e,"/").concat(n)},t.prototype.fetchResource=function(e,n){if(n===void 0&&(n={}),n.setLoading){var r=new Mt(e);r.loading=!0,this.addResource(r)}var s=this.getWebSocketForSubject(e);!n.noWebSocket&&(s==null?void 0:s.readyState)===WebSocket.OPEN?gc(s,e):Dr(e,this,n.fromProxy?this.getServerUrl():void 0)},t.prototype.getAllSubjects=function(){return Array.from(this.resources.keys())},t.prototype.getDefaultWebSocket=function(){return this.webSockets.get(this.getServerUrl())},t.prototype.getWebSocketForSubject=function(e){var n=new URL(e),r=this.webSockets.get(n.origin);if(r)return r;this.webSockets.set(n.origin,zi(n.origin,this))},t.prototype.getServerUrl=function(){return this.serverUrl},t.prototype.getAgent=function(){var e;return(e=this.agent)!==null&&e!==void 0?e:void 0},t.prototype.getResourceLoading=function(e,n){if(e===void 0&&(e=xt),n===void 0&&(n={}),e===xt||e===null){var r=new Mt(xt,n.newResource);return r}var s=this.resources.get(e);if(s)!n.allowIncomplete&&s.loading===!1&&s.get(D.properties.incomplete)&&(s.loading=!0,this.addResource(s),this.fetchResource(e,n));else{var r=new Mt(e,n.newResource);return r.loading=!0,this.addResource(r),n.newResource||this.fetchResource(e,n),r}return s},t.prototype.getResourceAsync=function(e){return bt(this,void 0,void 0,function(){var n,r;return yt(this,function(s){switch(s.label){case 0:return n=this.resources.get(e),n?[3,2]:[4,Dr(e,this)];case 1:return r=s.sent(),[2,r];case 2:return[2,n]}})})},t.prototype.getProperty=function(e){var n;return bt(this,void 0,void 0,function(){var r,s,i,o,a,c;return yt(this,function(l){switch(l.label){case 0:return[4,this.getResourceAsync(e)];case 1:if(r=l.sent(),r===void 0)throw Error("Property ".concat(e," is not found"));if(r.error)throw Error("Property ".concat(e," cannot be loaded: ").concat(r.error));if(s=new bc,i=r.get(D.properties.datatype),i===void 0)throw Error("Property ".concat(e," has no datatype: ").concat(r.getPropVals()));if(o=r.get(D.properties.shortname),o===void 0)throw Error("Property ".concat(e," has no shortname: ").concat(r.getPropVals()));if(a=r.get(D.properties.description),a===void 0)throw Error("Property ".concat(e," has no description: ").concat(r.getPropVals()));return c=(n=r.get(D.properties.classType))===null||n===void 0?void 0:n.toString(),s.classType=c,s.shortname=o.toString(),s.description=a.toString(),s.datatype=sc(i.toString()),[2,s]}})})},t.prototype.handleError=function(e){typeof e=="string"&&(e=new Error(e)),this.errorHandler(e)||console.error(e)},t.prototype.isOffline=function(){var e;return!(!((e=window==null?void 0:window.navigator)===null||e===void 0)&&e.onLine)},t.prototype.notify=function(e){return bt(this,void 0,void 0,function(){var n,r,s=this;return yt(this,function(i){return n=e.getSubject(),r=this.subscribers.get(n),r===void 0?[2]:(Promise.allSettled(r.map(function(o){return bt(s,void 0,void 0,function(){return yt(this,function(a){return[2,o(e)]})})})),[2])})})},t.prototype.notifyResourceSaved=function(e){this.eventManager.emit(pn.ResourceSaved,e)},t.prototype.notifyResourceManuallyCreated=function(e){this.eventManager.emit(pn.ResourceManuallyCreated,e)},t.prototype.removeResource=function(e){var n=this.resources.get(e);this.resources.delete(e),n&&this.eventManager.emit(pn.ResourceRemoved,n)},t.prototype.renameSubject=function(e,n){return bt(this,void 0,void 0,function(){var r;return yt(this,function(s){switch(s.label){case 0:if(Yt(n),r=this.resources.get(e),r===void 0)throw Error("Old subject does not exist in store: ".concat(e));return[4,this.checkSubjectTaken(n)];case 1:if(s.sent())throw Error("New subject name is already taken: ".concat(n));return r.setSubject(n),this.resources.set(n,r),this.removeResource(e),[2]}})})},t.prototype.setAgent=function(e){var n=this;this.agent=e,e&&(lo(this,e),this.webSockets.forEach(function(r){vo(r,n)}),this.resources.forEach(function(r){r.isUnauthorized()&&n.fetchResource(r.getSubject())}))},t.prototype.setServerUrl=function(e){if(Yt(e),e.substr(-1)==="/")throw Error("baseUrl should not have a trailing slash");this.serverUrl=e,this.openWebSocket(e)},t.prototype.openWebSocket=function(e){if(typeof window<"u"){if(this.webSockets.has(e))return;this.webSockets.set(e,zi(e,this))}else console.warn("WebSockets not supported, no window available")},t.prototype.subscribe=function(e,n){if(e===void 0)throw Error("Cannot subscribe to undefined subject");var r=this.subscribers.get(e);r===void 0&&(this.subscribeWebSocket(e),r=[]),r.push(n),this.subscribers.set(e,r)},t.prototype.subscribeWebSocket=function(e){if(e!==xt)try{var n=this.getWebSocketForSubject(e);(n==null?void 0:n.readyState)===1&&(n==null||n.send("SUBSCRIBE ".concat(e)))}catch(r){console.error(r)}},t.prototype.unSubscribeWebSocket=function(e){var n;if(e!==xt)try{(n=this.getDefaultWebSocket())===null||n===void 0||n.send("UNSUBSCRIBE ".concat(e))}catch(r){console.error(r)}},t.prototype.unsubscribe=function(e,n){if(e!==void 0){var r=this.subscribers.get(e);r&&(r=r==null?void 0:r.filter(function(s){return s!==n}),this.subscribers.set(e,r))}},t.prototype.on=function(e,n){return this.eventManager.register(e,n)},t.prototype.randomPart=function(){return Math.random().toString(36).substring(2)},t.prototype.findAvailableSubject=function(e,n){return n===void 0&&(n=!0),bt(this,void 0,void 0,function(){var r,s,i;return yt(this,function(o){switch(o.label){case 0:return r="".concat(this.getServerUrl(),"/").concat(e),n||(s=this.randomPart(),r+="-".concat(s)),[4,this.checkSubjectTaken(r)];case 1:return i=o.sent(),i?[2,this.findAvailableSubject(e,!1)]:[2,r]}})})},t}(),bc=function(){function t(){}return t}();function xr(t){if(t===void 0)throw new Error("Not an array: ".concat(t,", is ").concat(typeof t));if(t.constructor===Array)return t;throw new Error("Not an array: ".concat(t,", is a ").concat(typeof t))}var yc={getAll:"https://atomicdata.dev/classes/?page_size=999",agent:"https://atomicdata.dev/classes/Agent",chatRoom:"https://atomicdata.dev/classes/ChatRoom",collection:"https://atomicdata.dev/classes/Collection",commit:"https://atomicdata.dev/classes/Commit",class:"https://atomicdata.dev/classes/Class",document:"https://atomicdata.dev/classes/Document",bookmark:"https://atomicdata.dev/class/Bookmark",elements:{paragraph:"https://atomicdata.dev/classes/elements/Paragraph"},error:"https://atomicdata.dev/classes/Error",property:"https://atomicdata.dev/classes/Property",datatype:"https://atomicdata.dev/classes/Datatype",endpoint:"https://atomicdata.dev/classes/Endpoint",drive:"https://atomicdata.dev/classes/Drive",redirect:"https://atomicdata.dev/classes/Redirect",invite:"https://atomicdata.dev/classes/Invite",file:"https://atomicdata.dev/classes/File",message:"https://atomicdata.dev/classes/Message",importer:"https://atomicdata.dev/classes/Importer",folder:"https://atomicdata.dev/classes/Folder",displayStyle:"https://atomicdata.dev/class/DisplayStyle",displayStyles:{grid:"https://atomicdata.dev/display-style/grid",list:"https://atomicdata.dev/display-style/list"}},ze={getAll:"https://atomicdata.dev/properties/?page_size=999",children:"https://atomicdata.dev/properties/children",classType:"https://atomicdata.dev/properties/classtype",createdBy:"https://atomicdata.dev/properties/createdBy",datatype:"https://atomicdata.dev/properties/datatype",description:"https://atomicdata.dev/properties/description",drives:"https://atomicdata.dev/properties/drives",incomplete:"https://atomicdata.dev/properties/incomplete",isA:"https://atomicdata.dev/properties/isA",isDynamic:"https://atomicdata.dev/properties/isDynamic",name:"https://atomicdata.dev/properties/name",parent:"https://atomicdata.dev/properties/parent",paymentPointer:"https://atomicdata.dev/properties/paymentPointer",read:"https://atomicdata.dev/properties/read",recommends:"https://atomicdata.dev/properties/recommends",requires:"https://atomicdata.dev/properties/requires",shortname:"https://atomicdata.dev/properties/shortname",subResources:"https://atomicdata.dev/properties/subresources",write:"https://atomicdata.dev/properties/write",displayStyle:"https://atomicdata.dev/property/display-style",agent:{publicKey:"https://atomicdata.dev/properties/publicKey"},collection:{members:"https://atomicdata.dev/properties/collection/members",currentPage:"https://atomicdata.dev/properties/collection/currentPage",pageSize:"https://atomicdata.dev/properties/collection/pageSize",property:"https://atomicdata.dev/properties/collection/property",totalMembers:"https://atomicdata.dev/properties/collection/totalMembers",totalPages:"https://atomicdata.dev/properties/collection/totalPages",value:"https://atomicdata.dev/properties/collection/value"},commit:{subject:"https://atomicdata.dev/properties/subject",createdAt:"https://atomicdata.dev/properties/createdAt",lastCommit:"https://atomicdata.dev/properties/lastCommit",previousCommit:"https://atomicdata.dev/properties/previousCommit",signer:"https://atomicdata.dev/properties/signer",set:"https://atomicdata.dev/properties/set",push:"https://atomicdata.dev/properties/push",remove:"https://atomicdata.dev/properties/remove",destroy:"https://atomicdata.dev/properties/destroy",signature:"https://atomicdata.dev/properties/signature"},document:{elements:"https://atomicdata.dev/properties/documents/elements"},endpoint:{parameters:"https://atomicdata.dev/properties/endpoint/parameters",results:"https://atomicdata.dev/properties/endpoint/results"},search:{query:"https://atomicdata.dev/properties/search/query",limit:"https://atomicdata.dev/properties/search/limit",property:"https://atomicdata.dev/properties/search/property"},redirect:{destination:"https://atomicdata.dev/properties/destination",redirectAgent:"https://atomicdata.dev/properties/invite/redirectAgent"},invite:{agent:"https://atomicdata.dev/properties/invite/agent",publicKey:"https://atomicdata.dev/properties/invite/publicKey",target:"https://atomicdata.dev/properties/invite/target",usagesLeft:"https://atomicdata.dev/properties/invite/usagesLeft",users:"https://atomicdata.dev/properties/invite/users",write:"https://atomicdata.dev/properties/invite/write"},file:{filename:"https://atomicdata.dev/properties/filename",filesize:"https://atomicdata.dev/properties/filesize",downloadUrl:"https://atomicdata.dev/properties/downloadURL",mimetype:"https://atomicdata.dev/properties/mimetype",attachments:"https://atomicdata.dev/properties/attachments"},chatRoom:{messages:"https://atomicdata.dev/properties/messages",nextPage:"https://atomicdata.dev/properties/nextPage",replyTo:"https://atomicdata.dev/properties/replyTo"},bookmark:{url:"https://atomicdata.dev/property/url",preview:"https://atomicdata.dev/property/preview",imageUrl:"https://atomicdata.dev/properties/imageUrl"}},_c={atomicUrl:"https://atomicdata.dev/datatypes/atomicURL",boolean:"https://atomicdata.dev/datatypes/boolean",date:"https://atomicdata.dev/datatypes/date",float:"https://atomicdata.dev/datatypes/float",integer:"https://atomicdata.dev/datatypes/integer",markdown:"https://atomicdata.dev/datatypes/markdown",resourceArray:"https://atomicdata.dev/datatypes/resourceArray",slug:"https://atomicdata.dev/datatypes/slug",string:"https://atomicdata.dev/datatypes/string",timestamp:"https://atomicdata.dev/datatypes/timestamp"},Eo={publicAgent:"https://atomicdata.dev/agents/publicAgent"},D={properties:ze,classes:yc,datatypes:_c,instances:Eo};function Vn(){}function wc(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function vc(t,...e){if(t==null)return Vn;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Fr(t){let e;return vc(t,n=>e=n)(),e}Promise.resolve();const qt=[];function So(t,e){return{subscribe:Ao(t,e).subscribe}}function Ao(t,e=Vn){let n;const r=new Set;function s(a){if(wc(t,a)&&(t=a,n)){const c=!qt.length;for(const l of r)l[1](),qt.push(l,t);if(c){for(let l=0;l<qt.length;l+=2)qt[l][0](qt[l+1]);qt.length=0}}}function i(a){s(a(t))}function o(a,c=Vn){const l=[a,c];return r.add(l),r.size===1&&(n=e(s)||Vn),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const ko=Ao(void 0),Rt=So(void 0,t=>{ko.subscribe(e=>{t(e)})}),Ro=(t,e)=>{const n=Fr(Rt);return So(void 0,r=>{r(n.getResourceLoading(t,e));const s=i=>{r(i)};return n.subscribe(t,s),()=>n.unsubscribe(t,s)})},Ye=(t,e,n=!1)=>{const r=Fr(Rt);let s=Fr(t);t.subscribe(f=>s=f);let i=s.get(e);const o=new Set;let a=!1;const c=f=>{i=f.get(e),l()},l=()=>{for(const f of o)f(i)},u=async f=>{i=f,f===void 0?s.removePropVal(e):s.set(e,f,r,!1),n&&await s.save(r),await r.notify(s)};return{set(f){u(f),l()},subscribe(f){return a||(r.subscribe(s.getSubject(),c),a=!0),o.add(f),f(i),()=>{o.delete(f),o.size===0&&(r.unsubscribe(s.getSubject(),c),a=!1)}},update(f){u(f(i)).then(()=>{l()})}}},Ec=t=>{ko.set(t)};function Sc(t){let e,n;const r=t[1].default,s=Te(r,t,t[0],null);return{c(){e=P("div"),s&&s.c(),E(e,"class","svelte-p007f4")},m(i,o){F(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&1)&&Ce(s,r,i,i[0],n?Oe(r,i[0],o,null):Be(i[0]),null)},i(i){n||(k(s,i),n=!0)},o(i){N(s,i),n=!1},d(i){i&&z(e),s&&s.d(i)}}}function Ac(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,r]}class To extends ye{constructor(e){super(),be(this,e,Ac,Sc,ge,{})}}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ri=(t,e=10)=>{let n=t;for(let r=0;r<e;r++)n+=Fi.charAt(Math.floor(Math.random()*Fi.length));return n},Wt=[];function Oo(t,e){return{subscribe:Tn(t,e).subscribe}}function Tn(t,e=ie){let n;const r=new Set;function s(a){if(ge(t,a)&&(t=a,n)){const c=!Wt.length;for(const l of r)l[1](),Wt.push(l,t);if(c){for(let l=0;l<Wt.length;l+=2)Wt[l][0](Wt[l+1]);Wt.length=0}}}function i(a){s(a(t))}function o(a,c=ie){const l=[a,c];return r.add(l),r.size===1&&(n=e(s)||ie),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const It=Tn([]),vt=Tn("https://localhost/");function kc(t){let e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:t[1]},{height:t[2]},{viewBox:t[0]},{stroke:t[3]},{fill:t[4]},t[6]],r={};for(let s=0;s<n.length;s+=1)r=Et(r,n[s]);return{c(){e=St("svg"),ki(e,r)},m(s,i){F(s,e,i),e.innerHTML=t[5]},p(s,[i]){i&32&&(e.innerHTML=s[5]),ki(e,r=Gr(n,[{xmlns:"http://www.w3.org/2000/svg"},i&2&&{width:s[1]},i&4&&{height:s[2]},i&1&&{viewBox:s[0]},i&8&&{stroke:s[3]},i&16&&{fill:s[4]},i&64&&s[6]]))},i:ie,o:ie,d(s){s&&z(e)}}}function Rc(t){const n=/viewBox="([\d\- \.]+)"/.exec(t);return n?n[1]:"0 0 20 20"}function Tc(t,e,n){let r;const s=["data","viewBox","size","width","height","color","stroke","fill"];let i=Gn(e,s),{data:o=""}=e,{viewBox:a=Rc(o)}=e,{size:c="20px"}=e,{width:l=c}=e,{height:u=c}=e,{color:f="currentColor"}=e,{stroke:d=f}=e,{fill:p=f}=e;return t.$$set=h=>{e=Et(Et({},e),Xs(h)),n(6,i=Gn(e,s)),"data"in h&&n(7,o=h.data),"viewBox"in h&&n(0,a=h.viewBox),"size"in h&&n(8,c=h.size),"width"in h&&n(1,l=h.width),"height"in h&&n(2,u=h.height),"color"in h&&n(9,f=h.color),"stroke"in h&&n(3,d=h.stroke),"fill"in h&&n(4,p=h.fill)},t.$$.update=()=>{t.$$.dirty&128&&n(5,r=o.replace(/<svg ([^>]*)>/,"").replace("</svg>",""))},[a,l,u,d,p,r,i,o,c,f]}class On extends ye{constructor(e){super(),be(this,e,Tc,kc,ge,{data:7,viewBox:0,size:8,width:1,height:2,color:9,stroke:3,fill:4})}}const Oc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g></svg>',Co='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g></svg>',Cc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g></svg>';function Bc(t){let e,n,r;return{c(){e=P("input"),E(e,"type","text"),E(e,"placeholder",t[1]),e.disabled=t[2],e.required=t[3],E(e,"id",t[4]),e.autofocus=t[5],E(e,"class","svelte-1r0gtd3")},m(s,i){F(s,e,i),Xt(e,t[0]),t[5]&&e.focus(),n||(r=[se(e,"input",t[8]),se(e,"blur",t[6]),se(e,"keydown",t[7])],n=!0)},p(s,[i]){i&2&&E(e,"placeholder",s[1]),i&4&&(e.disabled=s[2]),i&8&&(e.required=s[3]),i&16&&E(e,"id",s[4]),i&32&&(e.autofocus=s[5]),i&1&&e.value!==s[0]&&Xt(e,s[0])},i:ie,o:ie,d(s){s&&z(e),n=!1,Pe(r)}}}function xc(t,e,n){let{value:r}=e,{placeholder:s=void 0}=e,{disabled:i=void 0}=e,{required:o=void 0}=e,{id:a=void 0}=e,{autofocus:c=void 0}=e;function l(d){Fe.call(this,t,d)}function u(d){Fe.call(this,t,d)}function f(){r=this.value,n(0,r)}return t.$$set=d=>{"value"in d&&n(0,r=d.value),"placeholder"in d&&n(1,s=d.placeholder),"disabled"in d&&n(2,i=d.disabled),"required"in d&&n(3,o=d.required),"id"in d&&n(4,a=d.id),"autofocus"in d&&n(5,c=d.autofocus)},[r,s,i,o,a,c,l,u,f]}class $n extends ye{constructor(e){super(),be(this,e,xc,Bc,ge,{value:0,placeholder:1,disabled:2,required:3,id:4,autofocus:5})}}const Qt=t=>t.toLowerCase().replace(/\s/g,"-");function Mc(t){let e,n,r,s,i,o,a,c,l;return o=new On({props:{data:Cc,fill:"white"}}),{c(){e=P("button"),n=P("h2"),r=ve(t[0]),s=J(),i=P("span"),ee(o.$$.fragment),E(n,"class","svelte-nu5lcg"),E(i,"class","icon svelte-nu5lcg"),E(e,"class","svelte-nu5lcg")},m(u,f){F(u,e,f),R(e,n),R(n,r),R(e,s),R(e,i),Y(o,i,null),a=!0,c||(l=se(e,"click",t[2]),c=!0)},p(u,f){(!a||f&1)&&De(r,u[0])},i(u){a||(k(o.$$.fragment,u),a=!0)},o(u){N(o.$$.fragment,u),a=!1},d(u){u&&z(e),Q(o),c=!1,l()}}}function Ic(t){let e,n,r;function s(o){t[5](o)}let i={autofocus:!0};return t[0]!==void 0&&(i.value=t[0]),e=new $n({props:i}),Ee.push(()=>Ue(e,"value",s,t[0])),e.$on("blur",t[3]),e.$on("keydown",t[4]),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,a){const c={};!n&&a&1&&(n=!0,c.value=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function Nc(t){let e,n,r,s;const i=[Ic,Mc],o=[];function a(c,l){return c[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ct()},m(c,l){o[e].m(c,l),F(c,r,l),s=!0},p(c,[l]){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),N(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){N(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Lc(t,e,n){let{title:r}=e,s=!1;const i=()=>{n(1,s=!0)},o=()=>{n(1,s=!1)},a=l=>{l.key==="Enter"&&o()};function c(l){r=l,n(0,r)}return t.$$set=l=>{"title"in l&&n(0,r=l.title)},t.$$.update=()=>{t.$$.dirty&1&&r!==Qt(r)&&n(0,r=Qt(r))},[r,s,i,o,a,c]}class jc extends ye{constructor(e){super(),be(this,e,Lc,Nc,ge,{title:0})}}function Uc(t){let e,n,r,s,i;return n=new On({props:{data:t[0],size:t[1]}}),{c(){e=P("button"),ee(n.$$.fragment),e.disabled=t[2],E(e,"title",t[3]),E(e,"type","button"),E(e,"class","svelte-1vch9z4")},m(o,a){F(o,e,a),Y(n,e,null),r=!0,s||(i=se(e,"click",t[4]),s=!0)},p(o,[a]){const c={};a&1&&(c.data=o[0]),a&2&&(c.size=o[1]),n.$set(c),(!r||a&4)&&(e.disabled=o[2]),(!r||a&8)&&E(e,"title",o[3])},i(o){r||(k(n.$$.fragment,o),r=!0)},o(o){N(n.$$.fragment,o),r=!1},d(o){o&&z(e),Q(n),s=!1,i()}}}function Dc(t,e,n){let{icon:r}=e,{size:s="1rem"}=e,{disabled:i=!1}=e,{title:o}=e;function a(c){Fe.call(this,t,c)}return t.$$set=c=>{"icon"in c&&n(0,r=c.icon),"size"in c&&n(1,s=c.size),"disabled"in c&&n(2,i=c.disabled),"title"in c&&n(3,o=c.title)},[r,s,i,o,a]}class $t extends ye{constructor(e){super(),be(this,e,Dc,Uc,ge,{icon:0,size:1,disabled:2,title:3})}}const Bo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g></svg>',xo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g></svg>';function Pc(t){let e,n,r,s;const i=t[6].default,o=Te(i,t,t[5],null);return{c(){e=P("select"),o&&o.c(),E(e,"name",t[1]),E(e,"id",t[2]),e.disabled=t[3],e.required=t[4],E(e,"class","svelte-10ivlg5"),t[0]===void 0&&Zt(()=>t[8].call(e))},m(a,c){F(a,e,c),o&&o.m(e,null),Ri(e,t[0]),n=!0,r||(s=[se(e,"change",t[7]),se(e,"change",t[8])],r=!0)},p(a,[c]){o&&o.p&&(!n||c&32)&&Ce(o,i,a,a[5],n?Oe(i,a[5],c,null):Be(a[5]),null),(!n||c&2)&&E(e,"name",a[1]),(!n||c&4)&&E(e,"id",a[2]),(!n||c&8)&&(e.disabled=a[3]),(!n||c&16)&&(e.required=a[4]),c&1&&Ri(e,a[0])},i(a){n||(k(o,a),n=!0)},o(a){N(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,Pe(s)}}}function Hc(t,e,n){let{$$slots:r={},$$scope:s}=e,{name:i=void 0}=e,{id:o=void 0}=e,{disabled:a=void 0}=e,{required:c=void 0}=e,{value:l=void 0}=e;function u(d){Fe.call(this,t,d)}function f(){l=Yl(this),n(0,l)}return t.$$set=d=>{"name"in d&&n(1,i=d.name),"id"in d&&n(2,o=d.id),"disabled"in d&&n(3,a=d.disabled),"required"in d&&n(4,c=d.required),"value"in d&&n(0,l=d.value),"$$scope"in d&&n(5,s=d.$$scope)},[l,i,o,a,c,s,r,u,f]}class zc extends ye{constructor(e){super(),be(this,e,Hc,Pc,ge,{name:1,id:2,disabled:3,required:4,value:0})}}const Fc=(t,e)=>{const n=new URL(`${t}/collections`);return n.searchParams.set("property",D.properties.isA),n.searchParams.set("value",e),n.searchParams.set("page_size","1000"),n.toString()},qc=async t=>qr(Rt).getResourceAsync(t),Mo=async(t,e)=>{const n=await Promise.all(t.map(async r=>{const s=Fc(r,e);return(await qc(s)).get(D.properties.collection.members)}));return Array.from(new Set(n.flat()))},gn=Tn(["https://atomicdata.dev"]),Io=Oo([],t=>gn.subscribe(e=>{Mo(e,D.classes.property).then(n=>{t(n)})})),Wc=Oo([],t=>gn.subscribe(e=>{Mo(e,D.classes.class).then(n=>{t(n)})})),Vc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',Gc=t=>({}),qi=t=>({}),Kc=t=>({}),Wi=t=>({}),Jc=t=>({}),Vi=t=>({});function Xc(t){let e,n,r,s,i,o,a,c,l,u,f;const d=t[5].title,p=Te(d,t,t[4],Vi);s=new $t({props:{icon:Vc,title:"close"}}),s.$on("click",t[2]);const h=t[5].content,m=Te(h,t,t[4],Wi),_=t[5].controls,A=Te(_,t,t[4],qi);return{c(){e=P("dialog"),n=P("div"),p&&p.c(),r=J(),ee(s.$$.fragment),i=J(),o=P("div"),m&&m.c(),a=J(),c=P("div"),l=J(),u=P("div"),A&&A.c(),E(n,"class","titlebar svelte-13ru52y"),E(o,"class","content-wrapper svelte-13ru52y"),te(o,"overflow",!t[0]),E(c,"class","line svelte-13ru52y"),E(u,"class","controls svelte-13ru52y"),E(e,"class","svelte-13ru52y")},m(B,L){F(B,e,L),R(e,n),p&&p.m(n,null),R(n,r),Y(s,n,null),R(e,i),R(e,o),m&&m.m(o,null),R(e,a),R(e,c),R(e,l),R(e,u),A&&A.m(u,null),t[6](e),f=!0},p(B,[L]){p&&p.p&&(!f||L&16)&&Ce(p,d,B,B[4],f?Oe(d,B[4],L,Jc):Be(B[4]),Vi),m&&m.p&&(!f||L&16)&&Ce(m,h,B,B[4],f?Oe(h,B[4],L,Kc):Be(B[4]),Wi),(!f||L&1)&&te(o,"overflow",!B[0]),A&&A.p&&(!f||L&16)&&Ce(A,_,B,B[4],f?Oe(_,B[4],L,Gc):Be(B[4]),qi)},i(B){f||(k(p,B),k(s.$$.fragment,B),k(m,B),k(A,B),f=!0)},o(B){N(p,B),N(s.$$.fragment,B),N(m,B),N(A,B),f=!1},d(B){B&&z(e),p&&p.d(B),Q(s),m&&m.d(B),A&&A.d(B),t[6](null)}}}function Zc(t,e,n){let{$$slots:r={},$$scope:s}=e,{show:i=!1}=e,{overflow:o=!1}=e,a;const c=()=>{n(3,i=!1)};function l(u){Ee[u?"unshift":"push"](()=>{a=u,n(1,a)})}return t.$$set=u=>{"show"in u&&n(3,i=u.show),"overflow"in u&&n(0,o=u.overflow),"$$scope"in u&&n(4,s=u.$$scope)},t.$$.update=()=>{t.$$.dirty&10&&a&&i&&(a.showModal(),document.body.style.overflow="hidden"),t.$$.dirty&10&&a&&!i&&(a.close(),document.body.style.overflow="visible")},[o,a,c,i,s,r,l]}class No extends ye{constructor(e){super(),be(this,e,Zc,Xc,ge,{show:3,overflow:0})}}function Cn(t){return t.split("-")[0]}function ii(t){return t.split("-")[1]}function ar(t){return["top","bottom"].includes(Cn(t))?"x":"y"}function Lo(t){return t==="y"?"height":"width"}function Gi(t,e,n){let{reference:r,floating:s}=t;const i=r.x+r.width/2-s.width/2,o=r.y+r.height/2-s.height/2,a=ar(e),c=Lo(a),l=r[c]/2-s[c]/2,u=Cn(e),f=a==="x";let d;switch(u){case"top":d={x:i,y:r.y-s.height};break;case"bottom":d={x:i,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:o};break;case"left":d={x:r.x-s.width,y:o};break;default:d={x:r.x,y:r.y}}switch(ii(e)){case"start":d[a]-=l*(n&&f?-1:1);break;case"end":d[a]+=l*(n&&f?-1:1);break}return d}const Yc=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=Gi(l,r,c),d=r,p={},h=0;for(let m=0;m<a.length;m++){const{name:_,fn:A}=a[m],{x:B,y:L,data:U,reset:W}=await A({x:u,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});if(u=B??u,f=L??f,p={...p,[_]:{...p[_],...U}},W&&h<=50){h++,typeof W=="object"&&(W.placement&&(d=W.placement),W.rects&&(l=W.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):W.rects),{x:u,y:f}=Gi(l,d,c)),m=-1;continue}}return{x:u,y:f,placement:d,strategy:s,middlewareData:p}};function Qc(t){return{top:0,right:0,bottom:0,left:0,...t}}function $c(t){return typeof t!="number"?Qc(t):{top:t,right:t,bottom:t,left:t}}function er(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function jo(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=e,h=$c(p),_=a[d?f==="floating"?"reference":"floating":f],A=er(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),B=f==="floating"?{...o.floating,x:r,y:s}:o.reference,L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),U=await(i.isElement==null?void 0:i.isElement(L))?await(i.getScale==null?void 0:i.getScale(L))||{x:1,y:1}:{x:1,y:1},W=er(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:B,offsetParent:L,strategy:c}):B);return{top:(A.top-W.top+h.top)/U.y,bottom:(W.bottom-A.bottom+h.bottom)/U.y,left:(A.left-W.left+h.left)/U.x,right:(W.right-A.right+h.right)/U.x}}const eu=Math.min,tu=Math.max;function Ki(t,e,n){return tu(t,eu(e,n))}const nu={left:"right",right:"left",bottom:"top",top:"bottom"};function tr(t){return t.replace(/left|right|bottom|top/g,e=>nu[e])}function ru(t,e,n){n===void 0&&(n=!1);const r=ii(t),s=ar(t),i=Lo(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=tr(o)),{main:o,cross:tr(o)}}const iu={start:"end",end:"start"};function Ji(t){return t.replace(/start|end/g,e=>iu[e])}function su(t){const e=tr(t);return[Ji(t),e,Ji(e)]}const ou=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:a,elements:c}=e,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...h}=t,m=Cn(r),A=f||(m===o||!p?[tr(o)]:su(o)),B=[o,...A],L=await jo(e,h),U=[];let W=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&U.push(L[m]),u){const{main:q,cross:K}=ru(r,i,await(a.isRTL==null?void 0:a.isRTL(c.floating)));U.push(L[q],L[K])}if(W=[...W,{placement:r,overflows:U}],!U.every(q=>q<=0)){var j,T;const q=((j=(T=s.flip)==null?void 0:T.index)!=null?j:0)+1,K=B[q];if(K)return{data:{index:q,overflows:W},reset:{placement:K}};let v="bottom";switch(d){case"bestFit":{var C;const Z=(C=W.map(oe=>[oe,oe.overflows.filter(b=>b>0).reduce((b,w)=>b+w,0)]).sort((oe,b)=>oe[1]-b[1])[0])==null?void 0:C[0].placement;Z&&(v=Z);break}case"initialPlacement":v=o;break}if(r!==v)return{reset:{placement:v}}}return{}}}};async function lu(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cn(n),a=ii(n),c=ar(n)==="x",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=typeof e=="function"?e(t):e;let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),c?{x:p*u,y:d*l}:{x:d*l,y:p*u}}const au=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,s=await lu(e,t);return{x:n+s.x,y:r+s.y,data:s}}}};function cu(t){return t==="x"?"y":"x"}const uu=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:A,y:B}=_;return{x:A,y:B}}},...c}=t,l={x:n,y:r},u=await jo(e,c),f=ar(Cn(s)),d=cu(f);let p=l[f],h=l[d];if(i){const _=f==="y"?"top":"left",A=f==="y"?"bottom":"right",B=p+u[_],L=p-u[A];p=Ki(B,p,L)}if(o){const _=d==="y"?"top":"left",A=d==="y"?"bottom":"right",B=h+u[_],L=h-u[A];h=Ki(B,h,L)}const m=a.fn({...e,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function ut(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function et(t){return ut(t).getComputedStyle(t)}function At(t){return Do(t)?(t.nodeName||"").toLowerCase():""}let zn;function Uo(){if(zn)return zn;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(zn=t.brands.map(e=>e.brand+"/"+e.version).join(" "),zn):navigator.userAgent}function at(t){return t instanceof ut(t).HTMLElement}function We(t){return t instanceof ut(t).Element}function Do(t){return t instanceof ut(t).Node}function Xi(t){if(typeof ShadowRoot>"u")return!1;const e=ut(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=et(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(s)}function fu(t){return["table","td","th"].includes(At(t))}function si(t){const e=/firefox/i.test(Uo()),n=et(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const i=n.contain;return i!=null?i.includes(s):!1})}function Po(){return!/^((?!chrome|android).)*safari/i.test(Uo())}function oi(t){return["html","body","#document"].includes(At(t))}const Ho={x:1,y:1};function wn(t){const e=!We(t)&&t.contextElement?t.contextElement:We(t)?t:null;if(!e)return Ho;const n=e.getBoundingClientRect(),r=et(e);let s=n.width/parseFloat(r.width),i=n.height/parseFloat(r.height);return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}function kt(t,e,n,r){var s,i,o,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect();let l=Ho;e&&(r?We(r)&&(l=wn(r)):l=wn(t));const u=We(t)?ut(t):window,f=!Po()&&n,d=(c.left+(f&&(s=(i=u.visualViewport)==null?void 0:i.offsetLeft)!=null?s:0))/l.x,p=(c.top+(f&&(o=(a=u.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/l.y,h=c.width/l.x,m=c.height/l.y;return{width:h,height:m,top:p,right:d+h,bottom:p+m,left:d,x:d,y:p}}function Tt(t){return((Do(t)?t.ownerDocument:t.document)||window.document).documentElement}function ur(t){return We(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zo(t){return kt(Tt(t)).left+ur(t).scrollLeft}function du(t,e,n){const r=at(e),s=Tt(e),i=kt(t,!0,n==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((At(e)!=="body"||cr(s))&&(o=ur(e)),at(e)){const c=kt(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else s&&(a.x=zo(s));return{x:i.left+o.scrollLeft-a.x,y:i.top+o.scrollTop-a.y,width:i.width,height:i.height}}function vn(t){if(At(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(Xi(t)?t.host:null)||Tt(t);return Xi(e)?e.host:e}function Zi(t){return!at(t)||et(t).position==="fixed"?null:t.offsetParent}function hu(t){let e=vn(t);for(;at(e)&&!oi(e);){if(si(e))return e;e=vn(e)}return null}function Yi(t){const e=ut(t);let n=Zi(t);for(;n&&fu(n)&&et(n).position==="static";)n=Zi(n);return n&&(At(n)==="html"||At(n)==="body"&&et(n).position==="static"&&!si(n))?e:n||hu(t)||e}function pu(t){if(at(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=kt(t);return{width:e.width,height:e.height}}function gu(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=at(n),i=Tt(n);if(n===i)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((s||!s&&r!=="fixed")&&((At(n)!=="body"||cr(i))&&(o=ur(n)),at(n))){const l=kt(n);a=wn(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function mu(t,e){const n=ut(t),r=Tt(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Po();(l||!l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const Qi=Math.min,mn=Math.max;function bu(t){var e;const n=Tt(t),r=ur(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=mn(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=mn(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let a=-r.scrollLeft+zo(t);const c=-r.scrollTop;return et(s||n).direction==="rtl"&&(a+=mn(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function Fo(t){const e=vn(t);return oi(e)?t.ownerDocument.body:at(e)&&cr(e)?e:Fo(e)}function bn(t,e){var n;e===void 0&&(e=[]);const r=Fo(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ut(r);return s?e.concat(i,i.visualViewport||[],cr(r)?r:[]):e.concat(r,bn(r))}function yu(t,e){const n=kt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=at(t)?wn(t):{x:1,y:1},o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{top:l,left:c,right:c+o,bottom:l+a,x:c,y:l,width:o,height:a}}function $i(t,e,n){return e==="viewport"?er(mu(t,n)):We(e)?yu(e,n):er(bu(Tt(t)))}function _u(t,e){const n=e.get(t);if(n)return n;let r=bn(t).filter(a=>We(a)&&At(a)!=="body"),s=null;const i=et(t).position==="fixed";let o=i?vn(t):t;for(;We(o)&&!oi(o);){const a=et(o),c=si(o);(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position))?r=r.filter(u=>u!==o):s=a,o=vn(o)}return e.set(t,r),r}function wu(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?_u(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=$i(e,u,s);return l.top=mn(f.top,l.top),l.right=Qi(f.right,l.right),l.bottom=Qi(f.bottom,l.bottom),l.left=mn(f.left,l.left),l},$i(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const vu={getClippingRect:wu,convertOffsetParentRelativeRectToViewportRelativeRect:gu,isElement:We,getDimensions:pu,getOffsetParent:Yi,getDocumentElement:Tt,getScale:wn,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const s=this.getOffsetParent||Yi,i=this.getDimensions;return{reference:du(e,await s(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>et(t).direction==="rtl"};function Eu(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=!0,animationFrame:a=!1}=r,c=s&&!a,l=c||i?[...We(t)?bn(t):t.contextElement?bn(t.contextElement):[],...bn(e)]:[];l.forEach(h=>{c&&h.addEventListener("scroll",n,{passive:!0}),i&&h.addEventListener("resize",n)});let u=null;if(o){let h=!0;u=new ResizeObserver(()=>{h||n(),h=!1}),We(t)&&!a&&u.observe(t),!We(t)&&t.contextElement&&!a&&u.observe(t.contextElement),u.observe(e)}let f,d=a?kt(t):null;a&&p();function p(){const h=kt(t);d&&(h.x!==d.x||h.y!==d.y||h.width!==d.width||h.height!==d.height)&&n(),d=h,f=requestAnimationFrame(p)}return n(),()=>{var h;l.forEach(m=>{c&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),(h=u)==null||h.disconnect(),u=null,a&&cancelAnimationFrame(f)}}const Su=(t,e,n)=>{const r=new Map,s={platform:vu,...n},i={...s.platform,_c:r};return Yc(t,e,{...s,platform:i})};function Au(t){let e,n;const r={autoUpdate:!0};let s=t;const i=l=>({...r,...t||{},...l||{}}),o=l=>{e&&n&&(s=i(l),Su(e,n,s).then(u=>{Object.assign(n.style,{position:u.strategy,left:`${u.x}px`,top:`${u.y}px`}),s!=null&&s.onComputed&&s.onComputed(u)}))};return[l=>{e=l,o()},(l,u)=>{let f;n=l,s=i(u),setTimeout(()=>o(u),0),o(u);const d=()=>{f&&(f(),f=void 0)},p=({autoUpdate:h}=s||{})=>{if(d(),h!==!1)return Eu(e,n,()=>o(s),h===!0?{}:h)};return f=p(),{update(h){o(h),f=p(h)},destroy(){d()}}},o]}function ku({loadOptions:t,filterText:e,items:n,multiple:r,value:s,itemId:i,groupBy:o,filterSelectedItems:a,itemFilter:c,convertStringItemsToObjects:l,filterGroupedItems:u,label:f}){if(n&&t)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!="object"&&(n=l(n));let d=n.filter(p=>{let h=c(p[f],e,p);return h&&r&&(s==null?void 0:s.length)&&(h=!s.some(m=>a?m[i]===p[i]:!1)),h});return o&&(d=u(d)),d}async function Ru({dispatch:t,loadOptions:e,convertStringItemsToObjects:n,filterText:r}){let s=await e(r).catch(i=>{console.warn("svelte-select loadOptions error :>> ",i),t("error",{type:"loadOptions",details:i})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=n(s)),t("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function Tu(t){let e,n;return{c(){e=St("svg"),n=St("path"),E(n,"fill","currentColor"),E(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","0 0 20 20"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"class","svelte-qbd276")},m(r,s){F(r,e,s),R(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class Ou extends ye{constructor(e){super(),be(this,e,null,Tu,ge,{})}}function Cu(t){let e,n;return{c(){e=St("svg"),n=St("path"),E(n,"fill","currentColor"),E(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","-2 -2 50 50"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"role","presentation"),E(e,"class","svelte-whdbu1")},m(r,s){F(r,e,s),R(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class nr extends ye{constructor(e){super(),be(this,e,null,Cu,ge,{})}}function Bu(t){let e,n;return{c(){e=St("svg"),n=St("circle"),E(n,"class","circle_path svelte-1p3nqvd"),E(n,"cx","50"),E(n,"cy","50"),E(n,"r","20"),E(n,"fill","none"),E(n,"stroke","currentColor"),E(n,"stroke-width","5"),E(n,"stroke-miterlimit","10"),E(e,"class","loading svelte-1p3nqvd"),E(e,"viewBox","25 25 50 50")},m(r,s){F(r,e,s),R(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class xu extends ye{constructor(e){super(),be(this,e,null,Bu,ge,{})}}const Mu=t=>({value:t[0]&8}),es=t=>({value:t[3]}),Iu=t=>({listOpen:t[0]&64}),ts=t=>({listOpen:t[6]}),Nu=t=>({}),ns=t=>({}),Lu=t=>({}),rs=t=>({}),ju=t=>({selection:t[0]&8}),is=t=>({selection:t[3]});function ss(t,e,n){const r=t.slice();return r[127]=e[n],r[129]=n,r}const Uu=t=>({}),os=t=>({}),Du=t=>({selection:t[0]&8}),ls=t=>({selection:t[127],index:t[129]}),Pu=t=>({}),as=t=>({}),Hu=t=>({}),cs=t=>({});function us(t,e,n){const r=t.slice();return r[127]=e[n],r[129]=n,r}const zu=t=>({item:t[0]&16777216}),fs=t=>({item:t[127],index:t[129]}),Fu=t=>({filteredItems:t[0]&16777216}),ds=t=>({filteredItems:t[24]});function hs(t){let e,n,r,s,i,o;const a=[Vu,Wu,qu],c=[];function l(u,f){return u[50].list?0:u[24].length>0?1:u[19]?-1:2}return~(n=l(t))&&(r=c[n]=a[n](t)),{c(){e=P("div"),r&&r.c(),E(e,"class","svelte-select-list svelte-18e845"),te(e,"prefloat",t[28])},m(u,f){F(u,e,f),~n&&c[n].m(e,null),t[91](e),s=!0,i||(o=[Kn(t[49].call(null,e)),se(e,"scroll",t[41]),se(e,"pointerdown",lt($e(t[85]))),se(e,"pointerup",lt($e(t[86])))],i=!0)},p(u,f){let d=n;n=l(u),n===d?~n&&c[n].p(u,f):(r&&(xe(),N(c[d],1,1,()=>{c[d]=null}),Me()),~n?(r=c[n],r?r.p(u,f):(r=c[n]=a[n](u),r.c()),k(r,1),r.m(e,null)):r=null),(!s||f[0]&268435456)&&te(e,"prefloat",u[28])},i(u){s||(k(r),s=!0)},o(u){N(r),s=!1},d(u){u&&z(e),~n&&c[n].d(),t[91](null),i=!1,Pe(o)}}}function qu(t){let e;const n=t[80].empty,r=Te(n,t,t[79],cs),s=r||Gu();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,Hu):Be(i[79]),cs)},i(i){e||(k(s,i),e=!0)},o(i){N(s,i),e=!1},d(i){s&&s.d(i)}}}function Wu(t){let e,n,r=t[24],s=[];for(let o=0;o<r.length;o+=1)s[o]=ps(us(t,r,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ct()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);F(o,e,a),n=!0},p(o,a){if(a[0]&1627402376|a[1]&28672|a[2]&131072){r=o[24];let c;for(c=0;c<r.length;c+=1){const l=us(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=ps(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);n=!1},d(o){Vr(s,o),o&&z(e)}}}function Vu(t){let e;const n=t[80].list,r=Te(n,t,t[79],ds);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i[0]&16777216|i[2]&131072)&&Ce(r,n,s,s[79],e?Oe(n,s[79],i,Fu):Be(s[79]),ds)},i(s){e||(k(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function Gu(t){let e;return{c(){e=P("div"),e.textContent="No options",E(e,"class","empty svelte-18e845")},m(n,r){F(n,e,r)},p:ie,d(n){n&&z(e)}}}function Ku(t){var r;let e=((r=t[127])==null?void 0:r[t[12]])+"",n;return{c(){n=ve(e)},m(s,i){F(s,n,i)},p(s,i){var o;i[0]&16781312&&e!==(e=((o=s[127])==null?void 0:o[s[12]])+"")&&De(n,e)},d(s){s&&z(n)}}}function ps(t){let e,n,r,s,i,o,a,c;const l=t[80].item,u=Te(l,t,t[79],fs),f=u||Ku(t);function d(){return t[88](t[129])}function p(){return t[89](t[129])}function h(){return t[90](t[127],t[129])}return{c(){var m;e=P("div"),n=P("div"),f&&f.c(),i=J(),E(n,"class","item svelte-18e845"),te(n,"list-group-title",t[127].groupHeader),te(n,"active",t[45](t[127],t[3],t[13])),te(n,"first",sf(t[129])),te(n,"hover",t[7]===t[129]),te(n,"group-item",t[127].groupItem),te(n,"not-selectable",((m=t[127])==null?void 0:m.selectable)===!1),E(e,"class","list-item svelte-18e845"),E(e,"tabindex","-1")},m(m,_){F(m,e,_),R(e,n),f&&f.m(n,null),R(e,i),o=!0,a||(c=[Kn(r=t[46].call(null,n,{scroll:t[45](t[127],t[3],t[13]),listDom:t[30]})),Kn(s=t[47].call(null,n,{scroll:t[29]===t[129],listDom:t[30]})),se(e,"mouseover",d),se(e,"focus",p),se(e,"click",lt(h)),se(e,"keydown",lt($e(t[87])))],a=!0)},p(m,_){var A;t=m,u?u.p&&(!o||_[0]&16777216|_[2]&131072)&&Ce(u,l,t,t[79],o?Oe(l,t[79],_,zu):Be(t[79]),fs):f&&f.p&&(!o||_[0]&16781312)&&f.p(t,o?_:[-1,-1,-1,-1,-1]),r&&Jt(r.update)&&_[0]&1090527240&&r.update.call(null,{scroll:t[45](t[127],t[3],t[13]),listDom:t[30]}),s&&Jt(s.update)&&_[0]&1610612736&&s.update.call(null,{scroll:t[29]===t[129],listDom:t[30]}),(!o||_[0]&16777216)&&te(n,"list-group-title",t[127].groupHeader),(!o||_[0]&16785416|_[1]&16384)&&te(n,"active",t[45](t[127],t[3],t[13])),(!o||_[0]&128)&&te(n,"hover",t[7]===t[129]),(!o||_[0]&16777216)&&te(n,"group-item",t[127].groupItem),(!o||_[0]&16777216)&&te(n,"not-selectable",((A=t[127])==null?void 0:A.selectable)===!1)},i(m){o||(k(f,m),o=!0)},o(m){N(f,m),o=!1},d(m){m&&z(e),f&&f.d(m),a=!1,Pe(c)}}}function gs(t){let e,n,r,s,i;return{c(){e=P("span"),n=ve(t[32]),r=J(),s=P("span"),i=ve(t[31]),E(e,"id","aria-selection"),E(e,"class","svelte-18e845"),E(s,"id","aria-context"),E(s,"class","svelte-18e845")},m(o,a){F(o,e,a),R(e,n),F(o,r,a),F(o,s,a),R(s,i)},p(o,a){a[1]&2&&De(n,o[32]),a[1]&1&&De(i,o[31])},d(o){o&&z(e),o&&z(r),o&&z(s)}}}function ms(t){let e,n,r,s;const i=[Xu,Ju],o=[];function a(c,l){return c[9]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ct()},m(c,l){o[e].m(c,l),F(c,r,l),s=!0},p(c,l){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),N(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){N(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Ju(t){let e,n;const r=t[80].selection,s=Te(r,t,t[79],is),i=s||Zu(t);return{c(){e=P("div"),i&&i.c(),E(e,"class","selected-item svelte-18e845"),te(e,"hide-selected-item",t[35])},m(o,a){F(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s?s.p&&(!n||a[0]&8|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,ju):Be(o[79]),is):i&&i.p&&(!n||a[0]&4104)&&i.p(o,n?a:[-1,-1,-1,-1,-1]),(!n||a[1]&16)&&te(e,"hide-selected-item",o[35])},i(o){n||(k(i,o),n=!0)},o(o){N(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Xu(t){let e,n,r=t[3],s=[];for(let o=0;o<r.length;o+=1)s[o]=ys(ss(t,r,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ct()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);F(o,e,a),n=!0},p(o,a){if(a[0]&67116040|a[1]&32|a[2]&131072){r=o[3];let c;for(c=0;c<r.length;c+=1){const l=ss(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=ys(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);n=!1},d(o){Vr(s,o),o&&z(e)}}}function Zu(t){let e=t[3][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){F(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[3][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function Yu(t){let e=t[127][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){F(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[127][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function bs(t){let e,n,r,s;const i=t[80]["multi-clear-icon"],o=Te(i,t,t[79],os),a=o||Qu();function c(){return t[92](t[129])}return{c(){e=P("div"),a&&a.c(),E(e,"class","multi-item-clear svelte-18e845")},m(l,u){F(l,e,u),a&&a.m(e,null),n=!0,r||(s=[se(e,"pointerdown",lt($e(t[83]))),se(e,"click",c),se(e,"keydown",lt($e(t[84])))],r=!0)},p(l,u){t=l,o&&o.p&&(!n||u[2]&131072)&&Ce(o,i,t,t[79],n?Oe(i,t[79],u,Uu):Be(t[79]),os)},i(l){n||(k(a,l),n=!0)},o(l){N(a,l),n=!1},d(l){l&&z(e),a&&a.d(l),r=!1,Pe(s)}}}function Qu(t){let e,n;return e=new nr({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ys(t){let e,n,r,s,i,o,a;const c=t[80].selection,l=Te(c,t,t[79],ls),u=l||Yu(t);let f=!t[11]&&!t[10]&&nr&&bs(t);function d(){return t[93](t[129])}return{c(){e=P("div"),n=P("span"),u&&u.c(),r=J(),f&&f.c(),s=J(),E(n,"class","multi-item-text svelte-18e845"),E(e,"class","multi-item svelte-18e845"),te(e,"active",t[26]===t[129]),te(e,"disabled",t[11])},m(p,h){F(p,e,h),R(e,n),u&&u.m(n,null),R(e,r),f&&f.m(e,null),R(e,s),i=!0,o||(a=[se(e,"click",$e(d)),se(e,"keydown",lt($e(t[82])))],o=!0)},p(p,h){t=p,l?l.p&&(!i||h[0]&8|h[2]&131072)&&Ce(l,c,t,t[79],i?Oe(c,t[79],h,Du):Be(t[79]),ls):u&&u.p&&(!i||h[0]&4104)&&u.p(t,i?h:[-1,-1,-1,-1,-1]),!t[11]&&!t[10]&&nr?f?(f.p(t,h),h[0]&3072&&k(f,1)):(f=bs(t),f.c(),k(f,1),f.m(e,s)):f&&(xe(),N(f,1,1,()=>{f=null}),Me()),(!i||h[0]&67108864)&&te(e,"active",t[26]===t[129]),(!i||h[0]&2048)&&te(e,"disabled",t[11])},i(p){i||(k(u,p),k(f),i=!0)},o(p){N(u,p),N(f),i=!1},d(p){p&&z(e),u&&u.d(p),f&&f.d(),o=!1,Pe(a)}}}function _s(t){let e,n;const r=t[80]["loading-icon"],s=Te(r,t,t[79],rs),i=s||$u();return{c(){e=P("div"),i&&i.c(),E(e,"class","icon loading svelte-18e845"),E(e,"aria-hidden","true")},m(o,a){F(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Lu):Be(o[79]),rs)},i(o){n||(k(i,o),n=!0)},o(o){N(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function $u(t){let e,n;return e=new xu({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ws(t){let e,n,r,s;const i=t[80]["clear-icon"],o=Te(i,t,t[79],ns),a=o||ef();return{c(){e=P("button"),a&&a.c(),E(e,"class","icon clear-select svelte-18e845"),E(e,"tabindex","0")},m(c,l){F(c,e,l),a&&a.m(e,null),n=!0,r||(s=[se(e,"click",lt($e(t[22]))),se(e,"pointerdown",lt($e(t[81])))],r=!0)},p(c,l){o&&o.p&&(!n||l[2]&131072)&&Ce(o,i,c,c[79],n?Oe(i,c[79],l,Nu):Be(c[79]),ns)},i(c){n||(k(a,c),n=!0)},o(c){N(a,c),n=!1},d(c){c&&z(e),a&&a.d(c),r=!1,Pe(s)}}}function ef(t){let e,n;return e=new nr({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function vs(t){let e,n;const r=t[80]["chevron-icon"],s=Te(r,t,t[79],ts),i=s||tf();return{c(){e=P("div"),i&&i.c(),E(e,"class","icon chevron svelte-18e845"),E(e,"aria-hidden","true")},m(o,a){F(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[0]&64|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Iu):Be(o[79]),ts)},i(o){n||(k(i,o),n=!0)},o(o){N(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function tf(t){let e,n;return e=new Ou({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Es(t){let e;const n=t[80].required,r=Te(n,t,t[79],es),s=r||nf();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[0]&8|o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,Mu):Be(i[79]),es)},i(i){e||(k(s,i),e=!0)},o(i){N(s,i),e=!1},d(i){s&&s.d(i)}}}function nf(t){let e;return{c(){e=P("select"),E(e,"class","required svelte-18e845"),e.required=!0},m(n,r){F(n,e,r)},p:ie,d(n){n&&z(e)}}}function rf(t){let e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_,A,B,L,U,W,j,T=t[6]&&hs(t),C=t[2]&&gs(t);const q=t[80].prepend,K=Te(q,t,t[79],as);let v=t[25]&&ms(t),Z=[{readOnly:u=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],oe={};for(let S=0;S<Z.length;S+=1)oe=Et(oe,Z[S]);let b=t[5]&&_s(t),w=t[34]&&ws(t),y=t[20]&&vs(t),x=t[16]&&(!t[3]||t[3].length===0)&&Es(t);return{c(){e=P("div"),T&&T.c(),n=J(),r=P("span"),C&&C.c(),s=J(),i=P("div"),K&&K.c(),o=J(),a=P("div"),v&&v.c(),c=J(),l=P("input"),f=J(),d=P("div"),b&&b.c(),p=J(),w&&w.c(),h=J(),y&&y.c(),m=J(),_=P("input"),B=J(),x&&x.c(),E(r,"aria-live","polite"),E(r,"aria-atomic","false"),E(r,"aria-relevant","additions text"),E(r,"class","a11y-text svelte-18e845"),E(i,"class","prepend svelte-18e845"),Jn(l,oe),te(l,"svelte-18e845",!0),E(a,"class","value-container svelte-18e845"),E(d,"class","indicators svelte-18e845"),E(_,"name",t[8]),E(_,"type","hidden"),_.value=A=t[3]?JSON.stringify(t[3]):null,E(_,"class","svelte-18e845"),E(e,"class",L="svelte-select "+t[21]+" svelte-18e845"),E(e,"style",t[14]),te(e,"multi",t[9]),te(e,"disabled",t[11]),te(e,"focused",t[2]),te(e,"list-open",t[6]),te(e,"show-chevron",t[20]),te(e,"error",t[15])},m(S,M){F(S,e,M),T&&T.m(e,null),R(e,n),R(e,r),C&&C.m(r,null),R(e,s),R(e,i),K&&K.m(i,null),R(e,o),R(e,a),v&&v.m(a,null),R(a,c),R(a,l),l.autofocus&&l.focus(),t[94](l),Xt(l,t[4]),R(e,f),R(e,d),b&&b.m(d,null),R(d,p),w&&w.m(d,null),R(d,h),y&&y.m(d,null),R(e,m),R(e,_),R(e,B),x&&x.m(e,null),t[96](e),U=!0,W||(j=[se(window,"click",t[42]),se(window,"keydown",t[37]),se(l,"keydown",t[37]),se(l,"blur",t[39]),se(l,"focus",t[38]),se(l,"input",t[95]),se(e,"pointerup",$e(t[40])),Kn(t[48].call(null,e))],W=!0)},p(S,M){S[6]?T?(T.p(S,M),M[0]&64&&k(T,1)):(T=hs(S),T.c(),k(T,1),T.m(e,n)):T&&(xe(),N(T,1,1,()=>{T=null}),Me()),S[2]?C?C.p(S,M):(C=gs(S),C.c(),C.m(r,null)):C&&(C.d(1),C=null),K&&K.p&&(!U||M[2]&131072)&&Ce(K,q,S,S[79],U?Oe(q,S[79],M,Pu):Be(S[79]),as),S[25]?v?(v.p(S,M),M[0]&33554432&&k(v,1)):(v=ms(S),v.c(),k(v,1),v.m(a,c)):v&&(xe(),N(v,1,1,()=>{v=null}),Me()),Jn(l,oe=Gr(Z,[(!U||M[0]&131072&&u!==(u=!S[17]))&&{readOnly:u},M[0]&134217728&&S[27],(!U||M[1]&4)&&{placeholder:S[33]},(!U||M[0]&262144)&&{style:S[18]},(!U||M[0]&2048)&&{disabled:S[11]}])),M[0]&16&&l.value!==S[4]&&Xt(l,S[4]),te(l,"svelte-18e845",!0),S[5]?b?(b.p(S,M),M[0]&32&&k(b,1)):(b=_s(S),b.c(),k(b,1),b.m(d,p)):b&&(xe(),N(b,1,1,()=>{b=null}),Me()),S[34]?w?(w.p(S,M),M[1]&8&&k(w,1)):(w=ws(S),w.c(),k(w,1),w.m(d,h)):w&&(xe(),N(w,1,1,()=>{w=null}),Me()),S[20]?y?(y.p(S,M),M[0]&1048576&&k(y,1)):(y=vs(S),y.c(),k(y,1),y.m(d,null)):y&&(xe(),N(y,1,1,()=>{y=null}),Me()),(!U||M[0]&256)&&E(_,"name",S[8]),(!U||M[0]&8&&A!==(A=S[3]?JSON.stringify(S[3]):null))&&(_.value=A),S[16]&&(!S[3]||S[3].length===0)?x?(x.p(S,M),M[0]&65544&&k(x,1)):(x=Es(S),x.c(),k(x,1),x.m(e,null)):x&&(xe(),N(x,1,1,()=>{x=null}),Me()),(!U||M[0]&2097152&&L!==(L="svelte-select "+S[21]+" svelte-18e845"))&&E(e,"class",L),(!U||M[0]&16384)&&E(e,"style",S[14]),(!U||M[0]&2097664)&&te(e,"multi",S[9]),(!U||M[0]&2099200)&&te(e,"disabled",S[11]),(!U||M[0]&2097156)&&te(e,"focused",S[2]),(!U||M[0]&2097216)&&te(e,"list-open",S[6]),(!U||M[0]&3145728)&&te(e,"show-chevron",S[20]),(!U||M[0]&2129920)&&te(e,"error",S[15])},i(S){U||(k(T),k(K,S),k(v),k(b),k(w),k(y),k(x),U=!0)},o(S){N(T),N(K,S),N(v),N(b),N(w),N(y),N(x),U=!1},d(S){S&&z(e),T&&T.d(),C&&C.d(),K&&K.d(S),v&&v.d(),t[94](null),b&&b.d(),w&&w.d(),y&&y.d(),x&&x.d(),t[96](null),W=!1,Pe(j)}}}function Ss(t){return t.map((e,n)=>({index:n,value:e,label:`${e}`}))}function sf(t){return t===0}function of(t){return t.groupHeader&&t.selectable||t.selectable||!t.hasOwnProperty("selectable")}function lf(t,e,n){let r,s,i,o,a,c,l,u,f,{$$slots:d={},$$scope:p}=e;const h=Vl(d),m=en();let{justValue:_=null}=e,{filter:A=ku}=e,{getItems:B=Ru}=e,{id:L=null}=e,{name:U=null}=e,{container:W=void 0}=e,{input:j=void 0}=e,{multiple:T=!1}=e,{multiFullItemClearable:C=!1}=e,{disabled:q=!1}=e,{focused:K=!1}=e,{value:v=null}=e,{filterText:Z=""}=e,{placeholder:oe="Please select"}=e,{placeholderAlwaysShow:b=!1}=e,{items:w=null}=e,{label:y="label"}=e,{itemFilter:x=(g,G)=>`${g}`.toLowerCase().includes(G.toLowerCase())}=e,{groupBy:S=void 0}=e,{groupFilter:M=g=>g}=e,{groupHeaderSelectable:le=!1}=e,{itemId:H="value"}=e,{loadOptions:pe=void 0}=e,{containerStyles:Je=""}=e,{hasError:Se=!1}=e,{filterSelectedItems:Ne=!0}=e,{required:ft=!1}=e,{createGroupHeaderItem:Ut=(g,G)=>({value:g,[y]:g})}=e;const dr=()=>l;let{searchable:Dt=!0}=e,{inputStyles:Bn=""}=e,{clearable:nn=!0}=e,{loading:Ve=!1}=e,{listOpen:ce=!1}=e,Ge,{debounce:rn=(g,G=1)=>{clearTimeout(Ge),Ge=setTimeout(g,G)}}=e,{debounceWait:Ot=300}=e,{hideEmptyState:X=!1}=e,{inputAttributes:Ct={}}=e,{listAutoWidth:_e=!0}=e,{showChevron:fe=!1}=e,{listOffset:dt=5}=e,{hoverItemIndex:ae=0}=e,{floatingConfig:ht={}}=e,{class:Pt=""}=e,I,V,$,ne;function ke(){if(typeof v=="string"){let g=w.find(G=>G[H]===v);n(3,v=g||{[H]:v,label:v})}else T&&Array.isArray(v)&&v.length>0&&n(3,v=v.map(g=>typeof g=="string"?{value:g,label:g}:g))}let Ie;function hr(){n(27,Ie=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Ct)),L&&n(27,Ie.id=L,Ie),Dt||n(27,Ie.readonly=!0,Ie)}function xn(g){const G=[],we={};g.forEach(Ht=>{const rt=S(Ht);G.includes(rt)||(G.push(rt),we[rt]=[],rt&&we[rt].push(Object.assign(Ut(rt,Ht),{id:rt,groupHeader:!0,selectable:le}))),we[rt].push(Object.assign({groupItem:!!rt},Ht))});const nt=[];return M(G).forEach(Ht=>{we[Ht]&&nt.push(...we[Ht])}),nt}function rl(){if(T){JSON.stringify(v)!==JSON.stringify(V)&&mi()&&m("input",v);return}(!V||JSON.stringify(v[H])!==JSON.stringify(V[H]))&&m("input",v)}function il(){v&&(Array.isArray(v)?n(3,v=[...v]):n(3,v=[v]))}function sl(){v&&n(3,v=null)}function ol(){const g=l.findIndex(G=>G[H]===v[H]);gi(g,!0)}function ll(g){m("hoverItem",g)}function gi(g=0,G){n(7,ae=g),!G&&S&&l[ae]&&!l[ae].selectable&&In(1)}function al(){!pe&&Z.length===0||(pe?rn(async function(){n(5,Ve=!0);let g=await B({dispatch:m,loadOptions:pe,convertStringItemsToObjects:Ss,filterText:Z});g?(n(5,Ve=g.loading),n(6,ce=ce?g.listOpen:Z.length>0),n(2,K=ce&&g.focused),n(51,w=S?xn(g.filteredItems):g.filteredItems)):(n(5,Ve=!1),n(2,K=!0),n(6,ce=!0))},Ot):(n(6,ce=!0),T&&n(26,I=void 0)))}function cl(g){ce&&m("filter",g)}na(async()=>{n(76,V=v),n(77,$=Z),n(78,ne=T)});function ul(){return T?v?v.map(g=>g[H]):null:v&&v[H]}function mi(){let g=!0;if(v){const G=[],we=[];v.forEach(nt=>{G.includes(nt[H])?g=!1:(G.push(nt[H]),we.push(nt))}),g||n(3,v=we)}return g}function bi(g){let G=g?g[H]:v[H];return w.find(we=>we[H]===G)}function fl(g){!g||g.length===0||g.some(G=>typeof G!="object")||!v||(T?v.some(G=>!G||!G[H]):!v[H])||(Array.isArray(v)?n(3,v=v.map(G=>bi(G)||G)):n(3,v=bi()||v))}async function Mn(g){const G=v[g];v.length===1?n(3,v=void 0):n(3,v=v.filter(we=>we!==G)),m("clear",G)}function dl(g){if(!!K)switch(g.stopPropagation(),g.key){case"Escape":g.preventDefault(),tt();break;case"Enter":if(g.preventDefault(),ce){if(l.length===0)break;const G=l[ae];if(v&&!T&&v[H]===G[H]){tt();break}else _r(l[ae])}break;case"ArrowDown":g.preventDefault(),ce?In(1):(n(6,ce=!0),n(26,I=void 0));break;case"ArrowUp":g.preventDefault(),ce?In(-1):(n(6,ce=!0),n(26,I=void 0));break;case"Tab":if(ce&&K){if(l.length===0||v&&v[H]===l[ae][H])return tt();g.preventDefault(),_r(l[ae]),tt()}break;case"Backspace":if(!T||Z.length>0)return;if(T&&v&&v.length>0){if(Mn(I!==void 0?I:v.length-1),I===0||I===void 0)break;n(26,I=v.length>I?I-1:void 0)}break;case"ArrowLeft":if(!v||!T||Z.length>0)return;I===void 0?n(26,I=v.length-1):v.length>I&&I!==0&&n(26,I-=1);break;case"ArrowRight":if(!v||!T||Z.length>0||I===void 0)return;I===v.length-1?n(26,I=void 0):I<v.length-1&&n(26,I+=1);break}}function pr(g){g&&m("focus",g),j.focus(),n(2,K=!0)}async function yi(g){yr||(ce||K)&&(m("blur",g),tt(),n(2,K=!1),n(26,I=void 0),j.blur())}function hl(){q||(n(6,ce=!ce),ce&&!K&&pr())}function pl(){n(3,v=void 0),tt(),m("clear",v),pr()}to(()=>{ce&&n(2,K=!0),K&&j&&j.focus()});function gl(g){if(g){n(4,Z="");const G=Object.assign({},g);(!G.groupHeader||G.selectable)&&(T?n(3,v=v?v.concat([G]):[G]):n(3,v=G),n(3,v),setTimeout(()=>{tt(),n(26,I=void 0),m("change",v)}))}}function tt(){n(4,Z=""),n(6,ce=!1)}let{ariaValues:gr=g=>`Option ${g}, selected.`}=e,{ariaListOpen:mr=(g,G)=>`You are currently focused on option ${g}. There are ${G} results available.`}=e,{ariaFocused:br=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function ml(g){let G;return g&&v.length>0?G=v.map(we=>we[y]).join(", "):G=v[y],gr(G)}function bl(){if(!l||l.length===0)return"";let g=l[ae];if(ce&&g){let G=l?l.length:0;return mr(g[y],G)}else return br()}let He=null,_i;function wi(){clearTimeout(_i),_i=setTimeout(()=>{yr=!1},100)}function yl(g){W&&!W.contains(g.target)&&!(He!=null&&He.contains(g.target))&&yi()}ia(()=>{He==null||He.remove()});let yr=!1;function _r(g){g.isCreator||g.selectable===!1||gl(g)}function wr(g){yr||n(7,ae=g)}function vi(g){const{item:G,i:we}=g;if((G==null?void 0:G.selectable)!==!1){if(v&&!T&&v[H]===G[H])return tt();of(G)&&(n(7,ae=we),_r(G))}}function In(g){if(l.filter(nt=>!Object.hasOwn(nt,"selectable")||nt.selectable===!0).length===0)return n(7,ae=0);g>0&&ae===l.length-1?n(7,ae=0):g<0&&ae===0?n(7,ae=l.length-1):n(7,ae=ae+g);const we=l[ae];if(we&&we.selectable===!1){(g===1||g===-1)&&In(g);return}}function _l(g,G,we){if(!T)return G&&G[we]===g[we]}const wl=Ei,vl=Ei;function Ei(g){return{update(G){G.scroll&&(wi(),g.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"}))}}}function El(){const{width:g}=W.getBoundingClientRect();n(23,He.style.width=_e?g+"px":"auto",He)}let Si={strategy:"absolute",placement:"bottom-start",middleware:[au(dt),ou(),uu()],autoUpdate:!1};const[Sl,Al,kl]=Au(Si);let vr=!0;function Rl(g,G){if(!g||!G)return n(28,vr=!0);setTimeout(()=>{n(28,vr=!1)},0)}function Tl(g){Fe.call(this,t,g)}function Ol(g){Fe.call(this,t,g)}function Cl(g){Fe.call(this,t,g)}function Bl(g){Fe.call(this,t,g)}function xl(g){Fe.call(this,t,g)}function Ml(g){Fe.call(this,t,g)}function Il(g){Fe.call(this,t,g)}const Nl=g=>wr(g),Ll=g=>wr(g),jl=(g,G)=>vi({item:g,i:G});function Ul(g){Ee[g?"unshift":"push"](()=>{He=g,n(23,He)})}const Dl=g=>Mn(g),Pl=g=>C?Mn(g):{};function Hl(g){Ee[g?"unshift":"push"](()=>{j=g,n(1,j)})}function zl(){Z=this.value,n(4,Z)}function Fl(g){Ee[g?"unshift":"push"](()=>{W=g,n(0,W)})}return t.$$set=g=>{"justValue"in g&&n(52,_=g.justValue),"filter"in g&&n(53,A=g.filter),"getItems"in g&&n(54,B=g.getItems),"id"in g&&n(55,L=g.id),"name"in g&&n(8,U=g.name),"container"in g&&n(0,W=g.container),"input"in g&&n(1,j=g.input),"multiple"in g&&n(9,T=g.multiple),"multiFullItemClearable"in g&&n(10,C=g.multiFullItemClearable),"disabled"in g&&n(11,q=g.disabled),"focused"in g&&n(2,K=g.focused),"value"in g&&n(3,v=g.value),"filterText"in g&&n(4,Z=g.filterText),"placeholder"in g&&n(56,oe=g.placeholder),"placeholderAlwaysShow"in g&&n(57,b=g.placeholderAlwaysShow),"items"in g&&n(51,w=g.items),"label"in g&&n(12,y=g.label),"itemFilter"in g&&n(58,x=g.itemFilter),"groupBy"in g&&n(59,S=g.groupBy),"groupFilter"in g&&n(60,M=g.groupFilter),"groupHeaderSelectable"in g&&n(61,le=g.groupHeaderSelectable),"itemId"in g&&n(13,H=g.itemId),"loadOptions"in g&&n(62,pe=g.loadOptions),"containerStyles"in g&&n(14,Je=g.containerStyles),"hasError"in g&&n(15,Se=g.hasError),"filterSelectedItems"in g&&n(63,Ne=g.filterSelectedItems),"required"in g&&n(16,ft=g.required),"createGroupHeaderItem"in g&&n(64,Ut=g.createGroupHeaderItem),"searchable"in g&&n(17,Dt=g.searchable),"inputStyles"in g&&n(18,Bn=g.inputStyles),"clearable"in g&&n(66,nn=g.clearable),"loading"in g&&n(5,Ve=g.loading),"listOpen"in g&&n(6,ce=g.listOpen),"debounce"in g&&n(67,rn=g.debounce),"debounceWait"in g&&n(68,Ot=g.debounceWait),"hideEmptyState"in g&&n(19,X=g.hideEmptyState),"inputAttributes"in g&&n(69,Ct=g.inputAttributes),"listAutoWidth"in g&&n(70,_e=g.listAutoWidth),"showChevron"in g&&n(20,fe=g.showChevron),"listOffset"in g&&n(71,dt=g.listOffset),"hoverItemIndex"in g&&n(7,ae=g.hoverItemIndex),"floatingConfig"in g&&n(72,ht=g.floatingConfig),"class"in g&&n(21,Pt=g.class),"ariaValues"in g&&n(73,gr=g.ariaValues),"ariaListOpen"in g&&n(74,mr=g.ariaListOpen),"ariaFocused"in g&&n(75,br=g.ariaFocused),"$$scope"in g&&n(79,p=g.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8|t.$$.dirty[1]&1048576&&v&&ke(),t.$$.dirty[0]&131072|t.$$.dirty[2]&128&&(Ct||!Dt)&&hr(),t.$$.dirty[0]&512&&T&&il(),t.$$.dirty[0]&512|t.$$.dirty[2]&65536&&ne&&!T&&sl(),t.$$.dirty[0]&520&&T&&v&&v.length>1&&mi(),t.$$.dirty[0]&8&&v&&rl(),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!v&&T&&V&&m("input",v),t.$$.dirty[0]&6&&!K&&j&&tt(),t.$$.dirty[0]&16|t.$$.dirty[2]&32768&&Z!==$&&al(),t.$$.dirty[0]&12824|t.$$.dirty[1]&407896064|t.$$.dirty[2]&3&&n(24,l=A({loadOptions:pe,filterText:Z,items:w,multiple:T,value:v,itemId:H,groupBy:S,label:y,filterSelectedItems:Ne,itemFilter:x,convertStringItemsToObjects:Ss,filterGroupedItems:xn})),t.$$.dirty[0]&16777800&&!T&&ce&&v&&l&&ol(),t.$$.dirty[0]&576&&ce&&T&&n(7,ae=0),t.$$.dirty[0]&128&&ll(ae),t.$$.dirty[0]&520&&n(25,r=T?v&&v.length>0:v),t.$$.dirty[0]&33554448&&n(35,s=r&&Z.length>0),t.$$.dirty[0]&33556512|t.$$.dirty[2]&16&&n(34,i=r&&nn&&!q&&!Ve),t.$$.dirty[0]&520|t.$$.dirty[1]&100663296&&n(33,o=b&&T?oe:v?"":oe),t.$$.dirty[0]&520&&n(32,a=v?ml(T):""),t.$$.dirty[0]&16777412&&n(31,c=bl()),t.$$.dirty[1]&1048576&&fl(w),t.$$.dirty[0]&8712&&n(52,_=ul()),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!T&&V&&!v&&m("input",v),t.$$.dirty[0]&16777800&&ce&&l&&!T&&!v&&gi(),t.$$.dirty[0]&16777216&&cl(l),t.$$.dirty[2]&1024&&ht&&kl(Object.assign(Si,ht)),t.$$.dirty[0]&8388608&&n(30,u=!!He),t.$$.dirty[0]&8388672&&Rl(He,ce),t.$$.dirty[0]&8388673&&ce&&W&&He&&El(),t.$$.dirty[0]&128&&n(29,f=ae)},[W,j,K,v,Z,Ve,ce,ae,U,T,C,q,y,H,Je,Se,ft,Dt,Bn,X,fe,Pt,pl,He,l,r,I,Ie,vr,f,u,c,a,o,i,s,Mn,dl,pr,yi,hl,wi,yl,wr,vi,_l,wl,vl,Sl,Al,h,w,_,A,B,L,oe,b,x,S,M,le,pe,Ne,Ut,dr,nn,rn,Ot,Ct,_e,dt,ht,gr,mr,br,V,$,ne,p,d,Tl,Ol,Cl,Bl,xl,Ml,Il,Nl,Ll,jl,Ul,Dl,Pl,Hl,zl,Fl]}class qo extends ye{constructor(e){super(),be(this,e,lf,rf,ge,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,createGroupHeaderItem:64,getFilteredItems:65,searchable:17,inputStyles:18,clearable:66,loading:5,listOpen:6,debounce:67,debounceWait:68,hideEmptyState:19,inputAttributes:69,listAutoWidth:70,showChevron:20,listOffset:71,hoverItemIndex:7,floatingConfig:72,class:21,handleClear:22,ariaValues:73,ariaListOpen:74,ariaFocused:75},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[65]}get handleClear(){return this.$$.ctx[22]}}function af(t){let e,n,r=t[10].created?"Create":"",s,i,o=t[10].label+"",a,c,l,u=t[10].description+"",f;return{c(){e=P("div"),n=P("span"),s=ve(r),i=J(),a=ve(o),c=J(),l=P("span"),f=ve(u),E(n,"class","label svelte-2scfht"),E(l,"class","description svelte-2scfht"),E(e,"class","item svelte-2scfht"),E(e,"slot","item")},m(d,p){F(d,e,p),R(e,n),R(n,s),R(n,i),R(n,a),R(e,c),R(e,l),R(l,f)},p(d,p){p&1024&&r!==(r=d[10].created?"Create":"")&&De(s,r),p&1024&&o!==(o=d[10].label+"")&&De(a,o),p&1024&&u!==(u=d[10].description+"")&&De(f,u)},d(d){d&&z(e)}}}function cf(t){let e,n,r;function s(o){t[8](o)}let i={items:t[1],value:t[2],class:"class-select",placeholder:"Select or create class",$$slots:{item:[af,({item:o})=>({10:o}),({item:o})=>o?1024:0]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.filterText=t[0]),e=new qo({props:i}),Ee.push(()=>Ue(e,"filterText",s,t[0])),e.$on("change",t[3]),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,[a]){const c={};a&2&&(c.items=o[1]),a&4&&(c.value=o[2]),a&3072&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.filterText=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function uf(t,e,n){let r,s,i;ue(t,Rt,p=>n(5,r=p)),ue(t,Wc,p=>n(6,s=p)),ue(t,It,p=>n(7,i=p));const o=en();let{selectedSubject:a=""}=e,c="",l,u=[];const f=p=>{n(1,u=u.map(h=>(delete h.created,h))),console.log("selected",p.detail),o("select",p.detail)};function d(p){c=p,n(0,c)}return t.$$set=p=>{"selectedSubject"in p&&n(4,a=p.selectedSubject)},t.$$.update=()=>{t.$$.dirty&48&&a&&(async()=>{const h=await r.getResourceAsync(a);n(2,l={label:h.get(D.properties.shortname),subject:h.getSubject(),description:h.get(D.properties.description)})})(),t.$$.dirty&1&&c!==Qt(c)&&n(0,c=Qt(c)),t.$$.dirty&224&&Promise.all([...i,...s].map(p=>{try{return r.getResourceAsync(p)}catch{return}})).then(p=>{n(1,u=p.map(h=>({label:h.get(D.properties.shortname),subject:h.getSubject(),description:h.get(D.properties.description)})))}),t.$$.dirty&3&&(c.length>0?n(1,u=[{subject:"",label:c,description:"",created:!0},...u.filter(p=>!p.created)]):n(1,u=u.filter(p=>!p.created)))},[c,u,l,f,a,r,s,i,d]}class ff extends ye{constructor(e){super(),be(this,e,uf,cf,ge,{selectedSubject:4})}}function df(t){let e,n,r,s;const i=t[1].default,o=Te(i,t,t[0],null);return{c(){e=P("button"),o&&o.c(),E(e,"type","button"),E(e,"class","svelte-k4rzb0")},m(a,c){F(a,e,c),o&&o.m(e,null),n=!0,r||(s=se(e,"click",t[2]),r=!0)},p(a,[c]){o&&o.p&&(!n||c&1)&&Ce(o,i,a,a[0],n?Oe(i,a[0],c,null):Be(a[0]),null)},i(a){n||(k(o,a),n=!0)},o(a){N(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,s()}}}function hf(t,e,n){let{$$slots:r={},$$scope:s}=e;function i(o){Fe.call(this,t,o)}return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,r,i]}class li extends ye{constructor(e){super(),be(this,e,hf,df,ge,{})}}function As(t,e,n){const r=t.slice();return r[28]=e[n],r}function ks(t){let e,n=t[28]+"",r,s,i;return{c(){e=P("option"),r=ve(n),s=J(),e.__value=he[t[28]],e.value=e.__value,e.selected=i=he[t[28]]===t[2]},m(o,a){F(o,e,a),R(e,r),R(e,s)},p(o,a){a[0]&4&&i!==(i=he[o[28]]===o[2])&&(e.selected=i)},d(o){o&&z(e)}}}function pf(t){let e,n=t[14],r=[];for(let s=0;s<n.length;s+=1)r[s]=ks(As(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ct()},m(s,i){for(let o=0;o<r.length;o+=1)r[o].m(s,i);F(s,e,i)},p(s,i){if(i[0]&16388){n=s[14];let o;for(o=0;o<n.length;o+=1){const a=As(s,n,o);r[o]?r[o].p(a,i):(r[o]=ks(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){Vr(r,s),s&&z(e)}}}function Rs(t){let e,n,r;function s(o){t[22](o)}let i={overflow:!0,$$slots:{controls:[yf],content:[mf],title:[gf]},$$scope:{ctx:t}};return t[4]!==void 0&&(i.show=t[4]),e=new No({props:i}),Ee.push(()=>Ue(e,"show",s,t[4])),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,a){const c={};a[0]&112|a[1]&1&&(c.$$scope={dirty:a,ctx:o}),!n&&a[0]&16&&(n=!0,c.show=o[4],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function gf(t){let e,n,r;return{c(){e=P("h1"),n=ve("Configure "),r=ve(t[6])},m(s,i){F(s,e,i),R(e,n),R(e,r)},p(s,i){i[0]&64&&De(r,s[6])},d(s){s&&z(e)}}}function mf(t){let e,n,r,s;return r=new ff({props:{selectedSubject:t[5]}}),r.$on("select",t[13]),{c(){e=P("label"),e.textContent="Constrain to class",n=J(),ee(r.$$.fragment),E(e,"for",""),E(e,"class","svelte-1s2kmwc")},m(i,o){F(i,e,o),F(i,n,o),Y(r,i,o),s=!0},p(i,o){const a={};o[0]&32&&(a.selectedSubject=i[5]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){N(r.$$.fragment,i),s=!1},d(i){i&&z(e),i&&z(n),Q(r,i)}}}function bf(t){let e;return{c(){e=ve("Done")},m(n,r){F(n,e,r)},d(n){n&&z(e)}}}function yf(t){let e,n;return e=new li({props:{$$slots:{default:[bf]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function _f(t){let e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_;function A(C){t[16](C)}let B={placeholder:"shortname",disabled:t[1]};t[6]!==void 0&&(B.value=t[6]),n=new $n({props:B}),Ee.push(()=>Ue(n,"value",A,t[6]));function L(C){t[17](C)}let U={placeholder:"description",disabled:t[1],required:!0};t[7]!==void 0&&(U.value=t[7]),i=new $n({props:U}),Ee.push(()=>Ue(i,"value",L,t[7]));function W(C){t[18](C)}let j={name:"type",disabled:t[1],$$slots:{default:[pf]},$$scope:{ctx:t}};t[2]!==void 0&&(j.value=t[2]),c=new zc({props:j}),Ee.push(()=>Ue(c,"value",W,t[2])),f=new $t({props:{icon:xo,disabled:!t[3],title:"Configure"}}),f.$on("click",t[19]),p=new $t({props:{icon:Co,title:"Remove property"}}),p.$on("click",t[20]);let T=t[3]&&Rs(t);return{c(){e=P("form"),ee(n.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),ee(c.$$.fragment),u=J(),ee(f.$$.fragment),d=J(),ee(p.$$.fragment),h=J(),T&&T.c(),m=ct(),E(e,"class","wrapper svelte-1s2kmwc")},m(C,q){F(C,e,q),Y(n,e,null),R(e,s),Y(i,e,null),R(e,a),Y(c,e,null),R(e,u),Y(f,e,null),R(e,d),Y(p,e,null),F(C,h,q),T&&T.m(C,q),F(C,m,q),_=!0},p(C,q){const K={};q[0]&2&&(K.disabled=C[1]),!r&&q[0]&64&&(r=!0,K.value=C[6],je(()=>r=!1)),n.$set(K);const v={};q[0]&2&&(v.disabled=C[1]),!o&&q[0]&128&&(o=!0,v.value=C[7],je(()=>o=!1)),i.$set(v);const Z={};q[0]&2&&(Z.disabled=C[1]),q[0]&4|q[1]&1&&(Z.$$scope={dirty:q,ctx:C}),!l&&q[0]&4&&(l=!0,Z.value=C[2],je(()=>l=!1)),c.$set(Z);const oe={};q[0]&8&&(oe.disabled=!C[3]),f.$set(oe),C[3]?T?(T.p(C,q),q[0]&8&&k(T,1)):(T=Rs(C),T.c(),k(T,1),T.m(m.parentNode,m)):T&&(xe(),N(T,1,1,()=>{T=null}),Me())},i(C){_||(k(n.$$.fragment,C),k(i.$$.fragment,C),k(c.$$.fragment,C),k(f.$$.fragment,C),k(p.$$.fragment,C),k(T),_=!0)},o(C){N(n.$$.fragment,C),N(i.$$.fragment,C),N(c.$$.fragment,C),N(f.$$.fragment,C),N(p.$$.fragment,C),N(T),_=!1},d(C){C&&z(e),Q(n),Q(i),Q(c),Q(f),Q(p),C&&z(h),T&&T.d(C),C&&z(m)}}}function wf(t,e,n){let r,s,i,o,a,c,l,u;ue(t,It,w=>n(23,s=w)),ue(t,Rt,w=>n(24,i=w)),ue(t,vt,w=>n(25,o=w)),ue(t,Io,w=>n(15,c=w));const f=en();let{subject:d}=e,p,h=!1,m=!1,_=Ro(d),A=Ye(_,D.properties.shortname);ue(t,A,w=>n(6,l=w));let B=Ye(_,D.properties.description);ue(t,B,w=>n(7,u=w));let L=Ye(_,D.properties.datatype);ue(t,L,w=>n(2,a=w));let U=Ye(_,D.properties.classType);ue(t,U,w=>n(5,r=w));const W=async w=>{const y=ri(o),x=i.getResourceLoading(y,{newResource:!0});return await x.set(D.properties.shortname,w,i),await x.set(D.properties.description,"",i),await x.set(D.properties.isA,[D.classes.class],i),await x.set(D.properties.parent,o,i),Qe(It,s=[...s,y],s),y},j=async w=>{const{subject:y,label:x}=w.detail;y===""?Qe(U,r=await W(x),r):Qe(U,r=y,r)},T=Object.keys(he);function C(w){l=w,A.set(l)}function q(w){u=w,B.set(u)}function K(w){a=w,L.set(a)}const v=()=>n(4,m=!0),Z=()=>f("delete",d),oe=()=>n(4,m=!1);function b(w){m=w,n(4,m)}return t.$$set=w=>{"subject"in w&&n(0,d=w.subject)},t.$$.update=()=>{t.$$.dirty[0]&32769&&n(1,p=c.includes(d)),t.$$.dirty[0]&6&&(!p&&(a===he.ATOMIC_URL||a===he.RESOURCEARRAY)?n(3,h=!0):(n(3,h=!1),Qe(U,r=void 0,r)))},[d,p,a,h,m,r,l,u,f,A,B,L,U,j,T,c,C,q,K,v,Z,oe,b]}class vf extends ye{constructor(e){super(),be(this,e,wf,_f,ge,{subject:0},null,[-1,-1])}}const Wo=t=>Object.entries(t).reduce((e,[n,r])=>typeof r=="object"?{...e,...Wo(r)}:{...e,[n]:r},{}),rr=Tn([]);function Ef(t){let e,n=t[11].created?"Create":"",r,s,i=t[11].label+"",o,a,c,l=t[2][t[11].datatype]+"",u;return{c(){e=P("div"),r=ve(n),s=J(),o=ve(i),a=J(),c=P("span"),u=ve(l),E(c,"class","datatype svelte-1ysxfpo"),E(e,"class","item svelte-1ysxfpo"),E(e,"slot","item")},m(f,d){F(f,e,d),R(e,r),R(e,s),R(e,o),R(e,a),R(e,c),R(c,u)},p(f,d){d&2048&&n!==(n=f[11].created?"Create":"")&&De(r,n),d&2048&&i!==(i=f[11].label+"")&&De(o,i),d&2048&&l!==(l=f[2][f[11].datatype]+"")&&De(u,l)},d(f){f&&z(e)}}}function Sf(t){let e,n,r,s;function i(a){t[7](a)}let o={items:t[0],placeholder:"Select or create property",class:"property-select",$$slots:{item:[Ef,({item:a})=>({11:a}),({item:a})=>a?2048:0]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.filterText=t[1]),n=new qo({props:o}),Ee.push(()=>Ue(n,"filterText",i,t[1])),n.$on("change",t[3]),n.$on("blur",t[8]),{c(){e=P("div"),ee(n.$$.fragment),E(e,"class","wrapper svelte-1ysxfpo")},m(a,c){F(a,e,c),Y(n,e,null),s=!0},p(a,[c]){const l={};c&1&&(l.items=a[0]),c&6144&&(l.$$scope={dirty:c,ctx:a}),!r&&c&2&&(r=!0,l.filterText=a[1],je(()=>r=!1)),n.$set(l)},i(a){s||(k(n.$$.fragment,a),s=!0)},o(a){N(n.$$.fragment,a),s=!1},d(a){a&&z(e),Q(n)}}}function Af(t,e,n){let r,s,i;ue(t,Rt,h=>n(4,r=h)),ue(t,Io,h=>n(5,s=h)),ue(t,rr,h=>n(6,i=h));const o=en(),a=Object.entries(he).reduce((h,[m,_])=>(h[_]=m,h),{}),c=Wo(D.properties);delete c.getAll;let l=[],u="";const f=h=>{n(0,l=l.map(m=>(delete m.created,m))),o("select",h.detail)};function d(h){u=h,n(1,u)}function p(h){Fe.call(this,t,h)}return t.$$.update=()=>{t.$$.dirty&2&&u!==Qt(u)&&n(1,u=Qt(u)),t.$$.dirty&112&&Promise.all([...i,...s].map(h=>r.getResourceAsync(h))).then(h=>{n(0,l=h.map(m=>({label:m.get(D.properties.shortname),subject:m.getSubject(),datatype:m.get(D.properties.datatype)})))}),t.$$.dirty&3&&(u.length>0?n(0,l=[{subject:"",label:u,created:!0,datatype:he.STRING},...l.filter(h=>!h.created)]):n(0,l=l.filter(h=>!h.created)))},[l,u,a,f,r,s,i,d,p]}class kf extends ye{constructor(e){super(),be(this,e,Af,Sf,ge,{})}}function Ts(t,e,n){const r=t.slice();return r[10]=e[n],r}function Os(t,e){let n,r,s;return r=new vf({props:{subject:e[10]}}),r.$on("delete",e[3]),{key:t,first:null,c(){n=P("li"),ee(r.$$.fragment),this.first=n},m(i,o){F(i,n,o),Y(r,n,null),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[10]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){N(r.$$.fragment,i),s=!1},d(i){i&&z(n),Q(r)}}}function Rf(t){let e,n;return e=new $t({props:{icon:Bo,title:"Add property"}}),e.$on("click",t[5]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p:ie,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Tf(t){let e,n;return e=new kf({}),e.$on("select",t[2]),e.$on("blur",t[4]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p:ie,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Of(t){let e,n=[],r=new Map,s,i,o,a,c,l=t[0];const u=h=>h[10];for(let h=0;h<l.length;h+=1){let m=Ts(t,l,h),_=u(m);r.set(_,n[h]=Os(_,m))}const f=[Tf,Rf],d=[];function p(h,m){return h[1]?0:1}return o=p(t),a=d[o]=f[o](t),{c(){e=P("ul");for(let h=0;h<n.length;h+=1)n[h].c();s=J(),i=P("li"),a.c(),E(e,"class","svelte-s3sb9i")},m(h,m){F(h,e,m);for(let _=0;_<n.length;_+=1)n[_].m(e,null);R(e,s),R(e,i),d[o].m(i,null),c=!0},p(h,[m]){m&9&&(l=h[0],xe(),n=io(n,m,u,1,h,l,r,e,ro,Os,s,Ts),Me());let _=o;o=p(h),o===_?d[o].p(h,m):(xe(),N(d[_],1,1,()=>{d[_]=null}),Me(),a=d[o],a?a.p(h,m):(a=d[o]=f[o](h),a.c()),k(a,1),a.m(i,null))},i(h){if(!c){for(let m=0;m<l.length;m+=1)k(n[m]);k(a),c=!0}},o(h){for(let m=0;m<n.length;m+=1)N(n[m]);N(a),c=!1},d(h){h&&z(e);for(let m=0;m<n.length;m+=1)n[m].d();d[o].d()}}}function Cf(t,e,n){let r,s,i;ue(t,rr,p=>n(6,r=p)),ue(t,Rt,p=>n(7,s=p)),ue(t,vt,p=>n(8,i=p));let{properties:o=[]}=e,a=!1;const c=async p=>{const h=ri(i),m=s.getResourceLoading(h,{newResource:!0});return await m.set(D.properties.shortname,p,s),await m.set(D.properties.datatype,he.STRING,s),await m.set(D.properties.isA,[D.classes.property],s),await m.set(D.properties.parent,i,s),Qe(rr,r=[...r,h],r),h},l=async p=>{const{subject:h,label:m}=p.detail;h===""?n(0,o=[...o,await c(m)]):n(0,o=[...o,h]),n(1,a=!1)},u=p=>{n(0,o=o.filter(h=>h!==p.detail))},f=()=>n(1,a=!1),d=()=>n(1,a=!0);return t.$$set=p=>{"properties"in p&&n(0,o=p.properties)},[o,a,l,u,f,d]}class Cs extends ye{constructor(e){super(),be(this,e,Cf,Of,ge,{properties:0})}}function Bf(t){let e,n,r;return{c(){e=P("textarea"),E(e,"name",t[2]),E(e,"id",t[1]),e.required=t[3],E(e,"rows","10"),E(e,"class","svelte-vxqza9")},m(s,i){F(s,e,i),Xt(e,t[0]),n||(r=se(e,"input",t[4]),n=!0)},p(s,[i]){i&4&&E(e,"name",s[2]),i&2&&E(e,"id",s[1]),i&8&&(e.required=s[3]),i&1&&Xt(e,s[0])},i:ie,o:ie,d(s){s&&z(e),n=!1,r()}}}function xf(t,e,n){let{value:r=""}=e,{id:s=""}=e,{name:i=""}=e,{required:o=!1}=e;function a(){r=this.value,n(0,r)}return t.$$set=c=>{"value"in c&&n(0,r=c.value),"id"in c&&n(1,s=c.id),"name"in c&&n(2,i=c.name),"required"in c&&n(3,o=c.required)},[r,s,i,o,a]}class Vo extends ye{constructor(e){super(),be(this,e,xf,Bf,ge,{value:0,id:1,name:2,required:3})}}function Mf(t){let e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_,A,B,L,U,W,j,T,C,q,K,v,Z;r=new On({props:{data:Oc}});function oe(H){t[10](H)}let b={};t[1]!==void 0&&(b.title=t[1]),i=new jc({props:b}),Ee.push(()=>Ue(i,"title",oe,t[1])),l=new $t({props:{icon:Co,title:"Delete class"}}),l.$on("click",t[11]);function w(H){t[12](H)}let y={};t[2]!==void 0&&(y.properties=t[2]),h=new Cs({props:y}),Ee.push(()=>Ue(h,"properties",w,t[2]));function x(H){t[13](H)}let S={};t[3]!==void 0&&(S.properties=t[3]),U=new Cs({props:S}),Ee.push(()=>Ue(U,"properties",x,t[3]));function M(H){t[14](H)}let le={required:!0};return t[4]!==void 0&&(le.value=t[4]),K=new Vo({props:le}),Ee.push(()=>Ue(K,"value",M,t[4])),{c(){e=P("div"),n=P("div"),ee(r.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),c=P("span"),ee(l.$$.fragment),u=J(),f=P("div"),d=P("h3"),d.textContent="Requires",p=J(),ee(h.$$.fragment),_=J(),A=P("div"),B=P("h3"),B.textContent="Recommends",L=J(),ee(U.$$.fragment),j=J(),T=P("div"),C=P("h3"),C.textContent="Description",q=J(),ee(K.$$.fragment),E(c,"class","delete-icon-wrapper svelte-1hwulyb"),Nn(n,"grid-area","title"),E(n,"class","title svelte-1hwulyb"),Nn(f,"grid-area","requires"),E(f,"class","form-container svelte-1hwulyb"),Nn(A,"grid-area","recommends"),E(A,"class","form-container svelte-1hwulyb"),Nn(T,"grid-area","description"),E(T,"class","form-container svelte-1hwulyb"),E(e,"class","wrapper svelte-1hwulyb")},m(H,pe){F(H,e,pe),R(e,n),Y(r,n,null),R(n,s),Y(i,n,null),R(n,a),R(n,c),Y(l,c,null),R(e,u),R(e,f),R(f,d),R(f,p),Y(h,f,null),R(e,_),R(e,A),R(A,B),R(A,L),Y(U,A,null),R(e,j),R(e,T),R(T,C),R(T,q),Y(K,T,null),Z=!0},p(H,[pe]){const Je={};!o&&pe&2&&(o=!0,Je.title=H[1],je(()=>o=!1)),i.$set(Je);const Se={};!m&&pe&4&&(m=!0,Se.properties=H[2],je(()=>m=!1)),h.$set(Se);const Ne={};!W&&pe&8&&(W=!0,Ne.properties=H[3],je(()=>W=!1)),U.$set(Ne);const ft={};!v&&pe&16&&(v=!0,ft.value=H[4],je(()=>v=!1)),K.$set(ft)},i(H){Z||(k(r.$$.fragment,H),k(i.$$.fragment,H),k(l.$$.fragment,H),k(h.$$.fragment,H),k(U.$$.fragment,H),k(K.$$.fragment,H),Z=!0)},o(H){N(r.$$.fragment,H),N(i.$$.fragment,H),N(l.$$.fragment,H),N(h.$$.fragment,H),N(U.$$.fragment,H),N(K.$$.fragment,H),Z=!1},d(H){H&&z(e),Q(r),Q(i),Q(l),Q(h),Q(U),Q(K)}}}function If(t,e,n){let r,s,i,o,a;ue(t,vt,j=>n(15,s=j));const c=en();let{subject:l}=e,u=Ro(l,{newResource:!0}),f=Ye(u,D.properties.shortname);ue(t,f,j=>n(1,r=j));let d=Ye(u,D.properties.description);ue(t,d,j=>n(4,a=j));let p=Ye(u,D.properties.requires);ue(t,p,j=>n(2,i=j));let h=Ye(u,D.properties.recommends);ue(t,h,j=>n(3,o=j));let m=Ye(u,D.properties.isA),_=Ye(u,D.properties.parent);m.set([D.classes.class]),_.set(s);function A(j){r=j,f.set(r)}const B=()=>c("delete",l);function L(j){i=j,p.set(i)}function U(j){o=j,h.set(o)}function W(j){a=j,d.set(a)}return t.$$set=j=>{"subject"in j&&n(0,l=j.subject)},t.$$.update=()=>{t.$$.dirty&2&&r===void 0&&Qe(f,r="untitled",r)},[l,r,i,o,a,c,f,d,p,h,A,B,L,U,W]}class Nf extends ye{constructor(e){super(),be(this,e,If,Mf,ge,{subject:0})}}function Bs(t,e,n){const r=t.slice();return r[4]=e[n],r}function xs(t,e){let n,r,s;return r=new Nf({props:{subject:e[4]}}),r.$on("delete",e[2]),{key:t,first:null,c(){n=ct(),ee(r.$$.fragment),this.first=n},m(i,o){F(i,n,o),Y(r,i,o),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[4]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){N(r.$$.fragment,i),s=!1},d(i){i&&z(n),Q(r,i)}}}function Lf(t){let e,n,r;return e=new On({props:{data:Bo}}),{c(){ee(e.$$.fragment),n=ve(`
  New Class`)},m(s,i){Y(e,s,i),F(s,n,i),r=!0},p:ie,i(s){r||(k(e.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),r=!1},d(s){Q(e,s),s&&z(n)}}}function jf(t){let e=[],n=new Map,r,s,i,o=t[0];const a=c=>c[4];for(let c=0;c<o.length;c+=1){let l=Bs(t,o,c),u=a(l);n.set(u,e[c]=xs(u,l))}return s=new li({props:{$$slots:{default:[Lf]},$$scope:{ctx:t}}}),s.$on("click",t[1]),{c(){for(let c=0;c<e.length;c+=1)e[c].c();r=J(),ee(s.$$.fragment)},m(c,l){for(let u=0;u<e.length;u+=1)e[u].m(c,l);F(c,r,l),Y(s,c,l),i=!0},p(c,[l]){l&5&&(o=c[0],xe(),e=io(e,l,a,1,c,o,n,r.parentNode,ro,xs,r,Bs),Me());const u={};l&128&&(u.$$scope={dirty:l,ctx:c}),s.$set(u)},i(c){if(!i){for(let l=0;l<o.length;l+=1)k(e[l]);k(s.$$.fragment,c),i=!0}},o(c){for(let l=0;l<e.length;l+=1)N(e[l]);N(s.$$.fragment,c),i=!1},d(c){for(let l=0;l<e.length;l+=1)e[l].d(c);c&&z(r),Q(s,c)}}}function Uf(t,e,n){let r,s;return ue(t,It,a=>n(0,r=a)),ue(t,vt,a=>n(3,s=a)),[r,()=>{const a=ri(s);Qe(It,r=[...r,a],r)},a=>{Qe(It,r=r.filter(c=>c!==a.detail),r)}]}class Df extends ye{constructor(e){super(),be(this,e,Uf,jf,ge,{})}}const Pf='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><rect width="24" height="24" opacity="0"/><path d="M16.24 22a1 1 0 0 1-1-1v-2.6a2.15 2.15 0 0 0-.54-1.66 1 1 0 0 1 .61-1.67C17.75 14.78 20 14 20 9.77a4 4 0 0 0-.67-2.22 2.75 2.75 0 0 1-.41-2.06 3.71 3.71 0 0 0 0-1.41 7.65 7.65 0 0 0-2.09 1.09 1 1 0 0 1-.84.15 10.15 10.15 0 0 0-5.52 0 1 1 0 0 1-.84-.15 7.4 7.4 0 0 0-2.11-1.09 3.52 3.52 0 0 0 0 1.41 2.84 2.84 0 0 1-.43 2.08 4.07 4.07 0 0 0-.67 2.23c0 3.89 1.88 4.93 4.7 5.29a1 1 0 0 1 .82.66 1 1 0 0 1-.21 1 2.06 2.06 0 0 0-.55 1.56V21a1 1 0 0 1-2 0v-.57a6 6 0 0 1-5.27-2.09 3.9 3.9 0 0 0-1.16-.88 1 1 0 1 1 .5-1.94 4.93 4.93 0 0 1 2 1.36c1 1 2 1.88 3.9 1.52a3.89 3.89 0 0 1 .23-1.58c-2.06-.52-5-2-5-7a6 6 0 0 1 1-3.33.85.85 0 0 0 .13-.62 5.69 5.69 0 0 1 .33-3.21 1 1 0 0 1 .63-.57c.34-.1 1.56-.3 3.87 1.2a12.16 12.16 0 0 1 5.69 0c2.31-1.5 3.53-1.31 3.86-1.2a1 1 0 0 1 .63.57 5.71 5.71 0 0 1 .33 3.22.75.75 0 0 0 .11.57 6 6 0 0 1 1 3.34c0 5.07-2.92 6.54-5 7a4.28 4.28 0 0 1 .22 1.67V21a1 1 0 0 1-.94 1z"/></g></svg>';function Hf(t){let e;return{c(){e=P("h1"),e.textContent="Config"},m(n,r){F(n,e,r)},p:ie,d(n){n&&z(e)}}}function zf(t){let e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_,A;function B(j){t[5](j)}let L={id:"localURL"};t[2]!==void 0&&(L.value=t[2]),i=new $n({props:L}),Ee.push(()=>Ue(i,"value",B,t[2])),i.$on("blur",t[4]);function U(j){t[6](j)}let W={id:"data-sources"};return t[1]!==void 0&&(W.value=t[1]),p=new Vo({props:W}),Ee.push(()=>Ue(p,"value",U,t[1])),{c(){e=P("form"),n=P("div"),r=P("label"),r.textContent="Local URL:",s=J(),ee(i.$$.fragment),a=J(),c=P("p"),c.textContent="The url used to generate subjects for new classes and properties",l=J(),u=P("div"),f=P("label"),f.textContent="Data Sources:",d=J(),ee(p.$$.fragment),m=J(),_=P("p"),_.textContent=`Atomic data servers to pull property and class data from. (seperated
          by newline)`,E(r,"for","localURL"),E(r,"class","svelte-h5oczp"),E(c,"class","helper svelte-h5oczp"),E(n,"class","form-field svelte-h5oczp"),E(f,"for","data-sources"),E(f,"class","svelte-h5oczp"),E(_,"class","helper svelte-h5oczp"),E(u,"class","form-field svelte-h5oczp"),E(e,"class","svelte-h5oczp")},m(j,T){F(j,e,T),R(e,n),R(n,r),R(n,s),Y(i,n,null),R(n,a),R(n,c),R(e,l),R(e,u),R(u,f),R(u,d),Y(p,u,null),R(u,m),R(u,_),A=!0},p(j,T){const C={};!o&&T&4&&(o=!0,C.value=j[2],je(()=>o=!1)),i.$set(C);const q={};!h&&T&2&&(h=!0,q.value=j[1],je(()=>h=!1)),p.$set(q)},i(j){A||(k(i.$$.fragment,j),k(p.$$.fragment,j),A=!0)},o(j){N(i.$$.fragment,j),N(p.$$.fragment,j),A=!1},d(j){j&&z(e),Q(i),Q(p)}}}function Ff(t){let e;return{c(){e=ve("Done")},m(n,r){F(n,e,r)},d(n){n&&z(e)}}}function qf(t){let e,n;return e=new li({props:{$$slots:{default:[Ff]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p(r,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Wf(t){let e,n,r;function s(o){t[7](o)}let i={$$slots:{controls:[qf],content:[zf],title:[Hf]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.show=t[0]),e=new No({props:i}),Ee.push(()=>Ue(e,"show",s,t[0])),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,[a]){const c={};a&518&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.show=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function Vf(t,e,n){let r,s;ue(t,vt,d=>n(2,r=d)),ue(t,gn,d=>n(8,s=d));let{show:i=!1}=e,o=qr(gn).join(`
`);const a=()=>{const p=o.split(`
`).filter(h=>{try{return new URL(h),!0}catch{return!1}});Qe(gn,s=p,s),n(0,i=!1)},c=()=>{r.endsWith("/")||Qe(vt,r=r+"/",r)};function l(d){r=d,vt.set(r)}function u(d){o=d,n(1,o)}function f(d){i=d,n(0,i)}return t.$$set=d=>{"show"in d&&n(0,i=d.show)},[i,o,r,a,c,l,u,f]}class Gf extends ye{constructor(e){super(),be(this,e,Vf,Wf,ge,{show:0})}}function Kf(t){let e,n,r,s,i,o,a,c,l;return i=new $t({props:{icon:xo,size:"1.5rem",title:"Configure app"}}),i.$on("click",t[1]),c=new On({props:{data:Pf,size:"1.5rem"}}),{c(){e=P("div"),n=P("h1"),n.textContent="Atomic Data Model Builder",r=J(),s=P("div"),ee(i.$$.fragment),o=J(),a=P("a"),ee(c.$$.fragment),E(a,"href","https://github.com/atomicdata-dev/atomic-data-model-builder"),E(a,"rel","noopener noreferrer"),E(a,"target","_blank"),E(a,"title","View source on GitHub"),E(a,"class","svelte-abg2td"),E(s,"class","links svelte-abg2td"),E(e,"class","wrapper svelte-abg2td")},m(u,f){F(u,e,f),R(e,n),R(e,r),R(e,s),Y(i,s,null),R(s,o),R(s,a),Y(c,a,null),l=!0},p:ie,i(u){l||(k(i.$$.fragment,u),k(c.$$.fragment,u),l=!0)},o(u){N(i.$$.fragment,u),N(c.$$.fragment,u),l=!1},d(u){u&&z(e),Q(i),Q(c)}}}function Jf(t){let e,n,r,s,i,o;n=new To({props:{$$slots:{default:[Kf]},$$scope:{ctx:t}}});function a(l){t[2](l)}let c={};return t[0]!==void 0&&(c.show=t[0]),s=new Gf({props:c}),Ee.push(()=>Ue(s,"show",a,t[0])),{c(){e=P("header"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),E(e,"class","svelte-abg2td")},m(l,u){F(l,e,u),Y(n,e,null),F(l,r,u),Y(s,l,u),o=!0},p(l,[u]){const f={};u&9&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const d={};!i&&u&1&&(i=!0,d.show=l[0],je(()=>i=!1)),s.$set(d)},i(l){o||(k(n.$$.fragment,l),k(s.$$.fragment,l),o=!0)},o(l){N(n.$$.fragment,l),N(s.$$.fragment,l),o=!1},d(l){l&&z(e),Q(n),l&&z(r),Q(s,l)}}}function Xf(t,e,n){let r=!1;const s=()=>n(0,r=!0);function i(o){r=o,n(0,r)}return[r,s,i]}class Zf extends ye{constructor(e){super(),be(this,e,Xf,Jf,ge,{})}}var ai={exports:{}};function ci(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&ci(n)}),t}ai.exports=ci;ai.exports.default=ci;class Ms{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Go(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function wt(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const Yf="</span>",Is=t=>!!t.scope||t.sublanguage&&t.language,Qf=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class $f{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Go(e)}openNode(e){if(!Is(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=Qf(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!Is(e)||(this.buffer+=Yf)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Ns=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class ui{constructor(){this.rootNode=Ns(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=Ns({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{ui._collapse(n)})))}}class ed extends ui{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new $f(this,this.options).value()}finalize(){return!0}}function En(t){return t?typeof t=="string"?t:t.source:null}function Ko(t){return jt("(?=",t,")")}function td(t){return jt("(?:",t,")*")}function nd(t){return jt("(?:",t,")?")}function jt(...t){return t.map(n=>En(n)).join("")}function rd(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function fi(...t){return"("+(rd(t).capture?"":"?:")+t.map(r=>En(r)).join("|")+")"}function Jo(t){return new RegExp(t.toString()+"|").exec("").length-1}function id(t,e){const n=t&&t.exec(e);return n&&n.index===0}const sd=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function di(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const s=n;let i=En(r),o="";for(;i.length>0;){const a=sd.exec(i);if(!a){o+=i;break}o+=i.substring(0,a.index),i=i.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+s):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const od=/\b\B/,Xo="[a-zA-Z]\\w*",hi="[a-zA-Z_]\\w*",Zo="\\b\\d+(\\.\\d+)?",Yo="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Qo="\\b(0b[01]+)",ld="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ad=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=jt(e,/.*\b/,t.binary,/\b.*/)),wt({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},Sn={begin:"\\\\[\\s\\S]",relevance:0},cd={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Sn]},ud={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Sn]},fd={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},fr=function(t,e,n={}){const r=wt({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=fi("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:jt(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},dd=fr("//","$"),hd=fr("/\\*","\\*/"),pd=fr("#","$"),gd={scope:"number",begin:Zo,relevance:0},md={scope:"number",begin:Yo,relevance:0},bd={scope:"number",begin:Qo,relevance:0},yd={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Sn,{begin:/\[/,end:/\]/,relevance:0,contains:[Sn]}]}]},_d={scope:"title",begin:Xo,relevance:0},wd={scope:"title",begin:hi,relevance:0},vd={begin:"\\.\\s*"+hi,relevance:0},Ed=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Fn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:od,IDENT_RE:Xo,UNDERSCORE_IDENT_RE:hi,NUMBER_RE:Zo,C_NUMBER_RE:Yo,BINARY_NUMBER_RE:Qo,RE_STARTERS_RE:ld,SHEBANG:ad,BACKSLASH_ESCAPE:Sn,APOS_STRING_MODE:cd,QUOTE_STRING_MODE:ud,PHRASAL_WORDS_MODE:fd,COMMENT:fr,C_LINE_COMMENT_MODE:dd,C_BLOCK_COMMENT_MODE:hd,HASH_COMMENT_MODE:pd,NUMBER_MODE:gd,C_NUMBER_MODE:md,BINARY_NUMBER_MODE:bd,REGEXP_MODE:yd,TITLE_MODE:_d,UNDERSCORE_TITLE_MODE:wd,METHOD_GUARD:vd,END_SAME_AS_BEGIN:Ed});function Sd(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function Ad(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function kd(t,e){!e||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=Sd,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function Rd(t,e){!Array.isArray(t.illegal)||(t.illegal=fi(...t.illegal))}function Td(t,e){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function Od(t,e){t.relevance===void 0&&(t.relevance=1)}const Cd=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=jt(n.beforeMatch,Ko(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},Bd=["of","and","for","in","not","or","if","then","parent","list","value"],xd="keyword";function $o(t,e,n=xd){const r=Object.create(null);return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(i){Object.assign(r,$o(t[i],e,i))}),r;function s(i,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const c=a.split("|");r[c[0]]=[i,Md(c[0],c[1])]})}}function Md(t,e){return e?Number(e):Id(t)?0:1}function Id(t){return Bd.includes(t.toLowerCase())}const Ls={},Nt=t=>{console.error(t)},js=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Vt=(t,e)=>{Ls[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Ls[`${t}/${e}`]=!0)},ir=new Error;function el(t,e,{key:n}){let r=0;const s=t[n],i={},o={};for(let a=1;a<=e.length;a++)o[a+r]=s[a],i[a+r]=!0,r+=Jo(e[a-1]);t[n]=o,t[n]._emit=i,t[n]._multi=!0}function Nd(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Nt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ir;if(typeof t.beginScope!="object"||t.beginScope===null)throw Nt("beginScope must be object"),ir;el(t,t.begin,{key:"beginScope"}),t.begin=di(t.begin,{joinWith:""})}}function Ld(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Nt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ir;if(typeof t.endScope!="object"||t.endScope===null)throw Nt("endScope must be object"),ir;el(t,t.end,{key:"endScope"}),t.end=di(t.end,{joinWith:""})}}function jd(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function Ud(t){jd(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),Nd(t),Ld(t)}function Dd(t){function e(o,a){return new RegExp(En(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,a]),this.matchAt+=Jo(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(c=>c[1]);this.matcherRe=e(di(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(a);if(!c)return null;const l=c.findIndex((f,d)=>d>0&&f!==void 0),u=this.matchIndexes[l];return c.splice(0,l),Object.assign(c,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const c=new n;return this.rules.slice(a).forEach(([l,u])=>c.addRule(l,u)),c.compile(),this.multiRegexes[a]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,c){this.rules.push([a,c]),c.type==="begin"&&this.count++}exec(a){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let l=c.exec(a);if(this.resumingScanAtSamePosition()&&!(l&&l.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,l=u.exec(a)}return l&&(this.regexIndex+=l.position+1,this.regexIndex===this.count&&this.considerAll()),l}}function s(o){const a=new r;return o.contains.forEach(c=>a.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function i(o,a){const c=o;if(o.isCompiled)return c;[Ad,Td,Ud,Cd].forEach(u=>u(o,a)),t.compilerExtensions.forEach(u=>u(o,a)),o.__beforeBegin=null,[kd,Rd,Od].forEach(u=>u(o,a)),o.isCompiled=!0;let l=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=$o(o.keywords,t.case_insensitive)),c.keywordPatternRe=e(l,!0),a&&(o.begin||(o.begin=/\B|\b/),c.beginRe=e(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=e(c.end)),c.terminatorEnd=En(c.end)||"",o.endsWithParent&&a.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(c.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(u){return Pd(u==="self"?o:u)})),o.contains.forEach(function(u){i(u,c)}),o.starts&&i(o.starts,a),c.matcher=s(c),c}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=wt(t.classNameAliases||{}),i(t)}function tl(t){return t?t.endsWithParent||tl(t.starts):!1}function Pd(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return wt(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:tl(t)?wt(t,{starts:t.starts?wt(t.starts):null}):Object.isFrozen(t)?wt(t):t}var Hd="11.6.0";class zd extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const Mr=Go,Us=wt,Ds=Symbol("nomatch"),Fd=7,qd=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:ed};function c(y){return a.noHighlightRe.test(y)}function l(y){let x=y.className+" ";x+=y.parentNode?y.parentNode.className:"";const S=a.languageDetectRe.exec(x);if(S){const M=q(S[1]);return M||(js(i.replace("{}",S[1])),js("Falling back to no-highlight mode for this block.",y)),M?S[1]:"no-highlight"}return x.split(/\s+/).find(M=>c(M)||q(M))}function u(y,x,S){let M="",le="";typeof x=="object"?(M=y,S=x.ignoreIllegals,le=x.language):(Vt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Vt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),le=y,M=x),S===void 0&&(S=!0);const H={code:M,language:le};b("before:highlight",H);const pe=H.result?H.result:f(H.language,H.code,S);return pe.code=H.code,b("after:highlight",pe),pe}function f(y,x,S,M){const le=Object.create(null);function H(I,V){return I.keywords[V]}function pe(){if(!X.keywords){_e.addText(fe);return}let I=0;X.keywordPatternRe.lastIndex=0;let V=X.keywordPatternRe.exec(fe),$="";for(;V;){$+=fe.substring(I,V.index);const ne=Ge.case_insensitive?V[0].toLowerCase():V[0],ke=H(X,ne);if(ke){const[Ie,hr]=ke;if(_e.addText($),$="",le[ne]=(le[ne]||0)+1,le[ne]<=Fd&&(dt+=hr),Ie.startsWith("_"))$+=V[0];else{const xn=Ge.classNameAliases[Ie]||Ie;_e.addKeyword(V[0],xn)}}else $+=V[0];I=X.keywordPatternRe.lastIndex,V=X.keywordPatternRe.exec(fe)}$+=fe.substring(I),_e.addText($)}function Je(){if(fe==="")return;let I=null;if(typeof X.subLanguage=="string"){if(!e[X.subLanguage]){_e.addText(fe);return}I=f(X.subLanguage,fe,!0,Ct[X.subLanguage]),Ct[X.subLanguage]=I._top}else I=p(fe,X.subLanguage.length?X.subLanguage:null);X.relevance>0&&(dt+=I.relevance),_e.addSublanguage(I._emitter,I.language)}function Se(){X.subLanguage!=null?Je():pe(),fe=""}function Ne(I,V){let $=1;const ne=V.length-1;for(;$<=ne;){if(!I._emit[$]){$++;continue}const ke=Ge.classNameAliases[I[$]]||I[$],Ie=V[$];ke?_e.addKeyword(Ie,ke):(fe=Ie,pe(),fe=""),$++}}function ft(I,V){return I.scope&&typeof I.scope=="string"&&_e.openNode(Ge.classNameAliases[I.scope]||I.scope),I.beginScope&&(I.beginScope._wrap?(_e.addKeyword(fe,Ge.classNameAliases[I.beginScope._wrap]||I.beginScope._wrap),fe=""):I.beginScope._multi&&(Ne(I.beginScope,V),fe="")),X=Object.create(I,{parent:{value:X}}),X}function Ut(I,V,$){let ne=id(I.endRe,$);if(ne){if(I["on:end"]){const ke=new Ms(I);I["on:end"](V,ke),ke.isMatchIgnored&&(ne=!1)}if(ne){for(;I.endsParent&&I.parent;)I=I.parent;return I}}if(I.endsWithParent)return Ut(I.parent,V,$)}function dr(I){return X.matcher.regexIndex===0?(fe+=I[0],1):(Pt=!0,0)}function Dt(I){const V=I[0],$=I.rule,ne=new Ms($),ke=[$.__beforeBegin,$["on:begin"]];for(const Ie of ke)if(!!Ie&&(Ie(I,ne),ne.isMatchIgnored))return dr(V);return $.skip?fe+=V:($.excludeBegin&&(fe+=V),Se(),!$.returnBegin&&!$.excludeBegin&&(fe=V)),ft($,I),$.returnBegin?0:V.length}function Bn(I){const V=I[0],$=x.substring(I.index),ne=Ut(X,I,$);if(!ne)return Ds;const ke=X;X.endScope&&X.endScope._wrap?(Se(),_e.addKeyword(V,X.endScope._wrap)):X.endScope&&X.endScope._multi?(Se(),Ne(X.endScope,I)):ke.skip?fe+=V:(ke.returnEnd||ke.excludeEnd||(fe+=V),Se(),ke.excludeEnd&&(fe=V));do X.scope&&_e.closeNode(),!X.skip&&!X.subLanguage&&(dt+=X.relevance),X=X.parent;while(X!==ne.parent);return ne.starts&&ft(ne.starts,I),ke.returnEnd?0:V.length}function nn(){const I=[];for(let V=X;V!==Ge;V=V.parent)V.scope&&I.unshift(V.scope);I.forEach(V=>_e.openNode(V))}let Ve={};function ce(I,V){const $=V&&V[0];if(fe+=I,$==null)return Se(),0;if(Ve.type==="begin"&&V.type==="end"&&Ve.index===V.index&&$===""){if(fe+=x.slice(V.index,V.index+1),!s){const ne=new Error(`0 width match regex (${y})`);throw ne.languageName=y,ne.badRule=Ve.rule,ne}return 1}if(Ve=V,V.type==="begin")return Dt(V);if(V.type==="illegal"&&!S){const ne=new Error('Illegal lexeme "'+$+'" for mode "'+(X.scope||"<unnamed>")+'"');throw ne.mode=X,ne}else if(V.type==="end"){const ne=Bn(V);if(ne!==Ds)return ne}if(V.type==="illegal"&&$==="")return 1;if(ht>1e5&&ht>V.index*3)throw new Error("potential infinite loop, way more iterations than matches");return fe+=$,$.length}const Ge=q(y);if(!Ge)throw Nt(i.replace("{}",y)),new Error('Unknown language: "'+y+'"');const rn=Dd(Ge);let Ot="",X=M||rn;const Ct={},_e=new a.__emitter(a);nn();let fe="",dt=0,ae=0,ht=0,Pt=!1;try{for(X.matcher.considerAll();;){ht++,Pt?Pt=!1:X.matcher.considerAll(),X.matcher.lastIndex=ae;const I=X.matcher.exec(x);if(!I)break;const V=x.substring(ae,I.index),$=ce(V,I);ae=I.index+$}return ce(x.substring(ae)),_e.closeAllNodes(),_e.finalize(),Ot=_e.toHTML(),{language:y,value:Ot,relevance:dt,illegal:!1,_emitter:_e,_top:X}}catch(I){if(I.message&&I.message.includes("Illegal"))return{language:y,value:Mr(x),illegal:!0,relevance:0,_illegalBy:{message:I.message,index:ae,context:x.slice(ae-100,ae+100),mode:I.mode,resultSoFar:Ot},_emitter:_e};if(s)return{language:y,value:Mr(x),illegal:!1,relevance:0,errorRaised:I,_emitter:_e,_top:X};throw I}}function d(y){const x={value:Mr(y),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return x._emitter.addText(y),x}function p(y,x){x=x||a.languages||Object.keys(e);const S=d(y),M=x.filter(q).filter(v).map(Se=>f(Se,y,!1));M.unshift(S);const le=M.sort((Se,Ne)=>{if(Se.relevance!==Ne.relevance)return Ne.relevance-Se.relevance;if(Se.language&&Ne.language){if(q(Se.language).supersetOf===Ne.language)return 1;if(q(Ne.language).supersetOf===Se.language)return-1}return 0}),[H,pe]=le,Je=H;return Je.secondBest=pe,Je}function h(y,x,S){const M=x&&n[x]||S;y.classList.add("hljs"),y.classList.add(`language-${M}`)}function m(y){let x=null;const S=l(y);if(c(S))return;if(b("before:highlightElement",{el:y,language:S}),y.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(y)),a.throwUnescapedHTML))throw new zd("One of your code blocks includes unescaped HTML.",y.innerHTML);x=y;const M=x.textContent,le=S?u(M,{language:S,ignoreIllegals:!0}):p(M);y.innerHTML=le.value,h(y,S,le.language),y.result={language:le.language,re:le.relevance,relevance:le.relevance},le.secondBest&&(y.secondBest={language:le.secondBest.language,relevance:le.secondBest.relevance}),b("after:highlightElement",{el:y,result:le,text:M})}function _(y){a=Us(a,y)}const A=()=>{U(),Vt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function B(){U(),Vt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let L=!1;function U(){if(document.readyState==="loading"){L=!0;return}document.querySelectorAll(a.cssSelector).forEach(m)}function W(){L&&U()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",W,!1);function j(y,x){let S=null;try{S=x(t)}catch(M){if(Nt("Language definition for '{}' could not be registered.".replace("{}",y)),s)Nt(M);else throw M;S=o}S.name||(S.name=y),e[y]=S,S.rawDefinition=x.bind(null,t),S.aliases&&K(S.aliases,{languageName:y})}function T(y){delete e[y];for(const x of Object.keys(n))n[x]===y&&delete n[x]}function C(){return Object.keys(e)}function q(y){return y=(y||"").toLowerCase(),e[y]||e[n[y]]}function K(y,{languageName:x}){typeof y=="string"&&(y=[y]),y.forEach(S=>{n[S.toLowerCase()]=x})}function v(y){const x=q(y);return x&&!x.disableAutodetect}function Z(y){y["before:highlightBlock"]&&!y["before:highlightElement"]&&(y["before:highlightElement"]=x=>{y["before:highlightBlock"](Object.assign({block:x.el},x))}),y["after:highlightBlock"]&&!y["after:highlightElement"]&&(y["after:highlightElement"]=x=>{y["after:highlightBlock"](Object.assign({block:x.el},x))})}function oe(y){Z(y),r.push(y)}function b(y,x){const S=y;r.forEach(function(M){M[S]&&M[S](x)})}function w(y){return Vt("10.7.0","highlightBlock will be removed entirely in v12.0"),Vt("10.7.0","Please use highlightElement now."),m(y)}Object.assign(t,{highlight:u,highlightAuto:p,highlightAll:U,highlightElement:m,highlightBlock:w,configure:_,initHighlighting:A,initHighlightingOnLoad:B,registerLanguage:j,unregisterLanguage:T,listLanguages:C,getLanguage:q,registerAliases:K,autoDetection:v,inherit:Us,addPlugin:oe}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=Hd,t.regex={concat:jt,lookahead:Ko,either:fi,optional:nd,anyNumberOfTimes:td};for(const y in Fn)typeof Fn[y]=="object"&&ai.exports(Fn[y]);return Object.assign(t,Fn),t};var An=qd({}),Wd=An;An.HighlightJS=An;An.default=An;const Ps=Wd,Vd=t=>({highlighted:t&8}),Hs=t=>({highlighted:t[3]});function Gd(t){let e;return{c(){e=ve(t[1])},m(n,r){F(n,e,r)},p(n,r){r&2&&De(e,n[1])},d(n){n&&z(e)}}}function Kd(t){let e,n;return{c(){e=new eo(!1),n=ct(),e.a=n},m(r,s){e.m(t[3],r,s),F(r,n,s)},p(r,s){s&8&&e.p(r[3])},d(r){r&&z(n),r&&e.d()}}}function Jd(t){let e,n,r;function s(l,u){return l[3]!==void 0?Kd:Gd}let i=s(t),o=i(t),a=[{"data-language":r=t[0].name||"plaintext"},t[4]],c={};for(let l=0;l<a.length;l+=1)c=Et(c,a[l]);return{c(){e=P("pre"),n=P("code"),o.c(),E(n,"class","hljs"),Jn(e,c),te(e,"langtag",t[2]),te(e,"svelte-4cqgwq",!0)},m(l,u){F(l,e,u),R(e,n),o.m(n,null)},p(l,u){i===(i=s(l))&&o?o.p(l,u):(o.d(1),o=i(l),o&&(o.c(),o.m(n,null))),Jn(e,c=Gr(a,[u&1&&r!==(r=l[0].name||"plaintext")&&{"data-language":r},u&16&&l[4]])),te(e,"langtag",l[2]),te(e,"svelte-4cqgwq",!0)},d(l){l&&z(e),o.d()}}}function Xd(t){let e;const n=t[6].default,r=Te(n,t,t[5],Hs),s=r||Jd(t);return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,[o]){r?r.p&&(!e||o&40)&&Ce(r,n,i,i[5],e?Oe(n,i[5],o,Vd):Be(i[5]),Hs):s&&s.p&&(!e||o&31)&&s.p(i,e?o:-1)},i(i){e||(k(s,i),e=!0)},o(i){N(s,i),e=!1},d(i){s&&s.d(i)}}}function Zd(t,e,n){const r=["language","code","langtag"];let s=Gn(e,r),{$$slots:i={},$$scope:o}=e,{language:a={name:void 0,register:void 0}}=e,{code:c=void 0}=e,{langtag:l=!1}=e;const u=en();let f;return ra(()=>{f&&u("highlight",{highlighted:f})}),t.$$set=d=>{e=Et(Et({},e),Xs(d)),n(4,s=Gn(e,r)),"language"in d&&n(0,a=d.language),"code"in d&&n(1,c=d.code),"langtag"in d&&n(2,l=d.langtag),"$$scope"in d&&n(5,o=d.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a.name&&a.register&&(Ps.registerLanguage(a.name,a.register),n(3,f=Ps.highlight(c,{language:a.name}).value))},[a,c,l,f,s,o,i]}class Yd extends ye{constructor(e){super(),be(this,e,Zd,Xd,ge,{language:0,code:1,langtag:2})}}const Qd=Yd;function $d(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],s={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,s,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}const eh={name:"json",register:$d},th=eh,nh="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>",rh=nh;function zs(t,{delay:e=0,duration:n=400,easing:r=Vs}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}const pi="https://atomicdata.dev/properties/localId",sr=(t,e)=>{if(!e)return t;const n=qr(vt);return t.replace(n,"")},nl=(t,e,n)=>(r,s=!1)=>{const i=t.get(r);if(i!==void 0)if(s){const o=Array.isArray(i)?i.map(a=>sr(a,n.includes(a))):sr(i,n.includes(i));e[r]=o}else e[r]=i},ih=(t,e,n)=>{const s={[n?pi:"@id"]:sr(t.getSubject(),n)},i=nl(t,s,e);return i(D.properties.shortname),i(D.properties.isA,n),i(D.properties.description),i(D.properties.requires,n),i(D.properties.recommends,n),!n&&i(D.properties.parent),s},sh=(t,e,n)=>{const s={[n?pi:"@id"]:sr(t.getSubject(),n)},i=nl(t,s,e);return i(D.properties.shortname),i(D.properties.isA,n),i(D.properties.description),i(D.properties.datatype),i(D.properties.classType,n),!n&&i(D.properties.parent),s},oh=(t,e,n,r)=>{const s=[],i=[...n,...t];for(const o of t){const a=e.getResourceLoading(o);s.push(ih(a,i,r));const c=Array.from(new Set([...a.get(D.properties.requires),...a.get(D.properties.recommends)]));for(const l of c){if(!n.includes(l)||s.some(f=>f["@id"]===l||f[pi]===l))continue;const u=e.getResourceLoading(l);s.push(sh(u,i,r))}}return JSON.stringify(s,null,2)},{document:Fs}=ua;function qs(t){let e,n,r,s;return{c(){e=P("p"),n=ve(t[2]),E(e,"class","waring svelte-2y9ym9")},m(i,o){F(i,e,o),R(e,n),s=!0},p(i,o){(!s||o&4)&&De(n,i[2])},i(i){s||(Zt(()=>{r||(r=Oi(e,zs,{duration:100},!0)),r.run(1)}),s=!0)},o(i){r||(r=Oi(e,zs,{duration:100},!1)),r.run(0),s=!1},d(i){i&&z(e),i&&r&&r.end()}}}function lh(t){let e,n,r,s,i,o,a,c,l,u,f,d,p,h,m,_=t[2]&&qs(t);return d=new Qd({props:{language:th,code:t[0]}}),{c(){e=new eo(!1),n=ct(),r=J(),s=P("section"),i=P("h2"),i.textContent="Output",o=J(),_&&_.c(),a=J(),c=P("input"),l=J(),u=P("label"),u.textContent="Importer compatible JSON",f=J(),ee(d.$$.fragment),e.a=n,E(c,"type","checkbox"),E(c,"id","import-toggle"),E(u,"for","import-toggle")},m(A,B){e.m(rh,Fs.head),R(Fs.head,n),F(A,r,B),F(A,s,B),R(s,i),R(s,o),_&&_.m(s,null),R(s,a),R(s,c),c.checked=t[1],R(s,l),R(s,u),R(s,f),Y(d,s,null),p=!0,h||(m=[se(c,"change",t[6]),se(c,"input",t[3])],h=!0)},p(A,[B]){A[2]?_?(_.p(A,B),B&4&&k(_,1)):(_=qs(A),_.c(),k(_,1),_.m(s,a)):_&&(xe(),N(_,1,1,()=>{_=null}),Me()),B&2&&(c.checked=A[1]);const L={};B&1&&(L.code=A[0]),d.$set(L)},i(A){p||(k(_),k(d.$$.fragment,A),p=!0)},o(A){N(_),N(d.$$.fragment,A),p=!1},d(A){z(n),A&&e.d(),A&&z(r),A&&z(s),_&&_.d(),Q(d),h=!1,Pe(m)}}}function ah(t,e,n){let r,s,i;ue(t,rr,m=>n(4,r=m)),ue(t,It,m=>n(5,s=m)),ue(t,Rt,m=>n(7,i=m));const o=new Set,a=new Set;let c="Add some classes and properties to see the output.",l=!1,u="";const f=()=>{n(0,c=oh(s,i,r,l)),document.querySelectorAll(":invalid").length>0?n(2,u="Warning: Some required fields are empty."):n(2,u="")},d=(m,_)=>{for(const A of m)_.has(A)||i.subscribe(A,f);for(const A of _)m.includes(A)||i.unsubscribe(A,f)},p=m=>{n(1,l=m.target.checked),f()};function h(){l=this.checked,n(1,l)}return t.$$.update=()=>{t.$$.dirty&48&&(d(s,o),d(r,a))},[c,l,u,p,r,s,h]}class ch extends ye{constructor(e){super(),be(this,e,ah,lh,ge,{})}}const Ws="/atomic-data-model-builder/assets/cover-ccf54e3f.jpg";function uh(t){let e,n,r,s,i;return n=new Df({}),s=new ch({}),{c(){e=P("div"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),E(e,"class","wrapper svelte-ntiweo")},m(o,a){F(o,e,a),Y(n,e,null),R(e,r),Y(s,e,null),i=!0},p:ie,i(o){i||(k(n.$$.fragment,o),k(s.$$.fragment,o),i=!0)},o(o){N(n.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&z(e),Q(n),Q(s)}}}function fh(t){let e,n,r,s,i,o,a,c;return s=new Zf({}),a=new To({props:{$$slots:{default:[uh]},$$scope:{ctx:t}}}),{c(){e=P("meta"),n=P("meta"),r=J(),ee(s.$$.fragment),i=J(),o=P("main"),ee(a.$$.fragment),E(e,"property","og:image"),E(e,"content",Ws),E(n,"property","twitter:image"),E(n,"content",Ws)},m(l,u){R(document.head,e),R(document.head,n),F(l,r,u),Y(s,l,u),F(l,i,u),F(l,o,u),Y(a,o,null),c=!0},p(l,[u]){const f={};u&1&&(f.$$scope={dirty:u,ctx:l}),a.$set(f)},i(l){c||(k(s.$$.fragment,l),k(a.$$.fragment,l),c=!0)},o(l){N(s.$$.fragment,l),N(a.$$.fragment,l),c=!1},d(l){z(e),z(n),l&&z(r),Q(s,l),l&&z(i),l&&z(o),Q(a)}}}function dh(t){return to(()=>{const e=new mc;Ec(e)}),[]}class hh extends ye{constructor(e){super(),be(this,e,dh,fh,ge,{})}}new hh({target:document.getElementById("app")})});export default ph();
