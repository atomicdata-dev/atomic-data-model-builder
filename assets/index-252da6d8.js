var Ll=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var sh=Ll((lh,un)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ie(){}const Fs=t=>t;function Et(t,e){for(const n in e)t[n]=e[n];return t}function qs(t){return t()}function Si(){return Object.create(null)}function Pe(t){t.forEach(qs)}function Kt(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function jl(t){return Object.keys(t).length===0}function Ws(t,...e){if(t==null)return ie;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Jt(t){let e;return Ws(t,n=>e=n)(),e}function ce(t,e,n){t.$$.on_destroy.push(Ws(e,n))}function Te(t,e,n,r){if(t){const s=Vs(t,e,n,r);return t[0](s)}}function Vs(t,e,n,r){return t[1]&&r?Et(n.ctx.slice(),t[1](r(e))):n.ctx}function Oe(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Ce(t,e,n,r,s,i){if(s){const o=Vs(e,n,r,i);t.p(o,s)}}function Be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Gs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Vn(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Ul(t){const e={};for(const n in t)e[n]=!0;return e}function Qe(t,e,n){return t.set(n),e}function Gn(t){return t&&Kt(t.destroy)?t.destroy:ie}const Ks=typeof window<"u";let Dl=Ks?()=>window.performance.now():()=>Date.now(),Fr=Ks?t=>requestAnimationFrame(t):ie;const Gt=new Set;function Js(t){Gt.forEach(e=>{e.c(t)||(Gt.delete(e),e.f())}),Gt.size!==0&&Fr(Js)}function Pl(t){let e;return Gt.size===0&&Fr(Js),{promise:new Promise(n=>{Gt.add(e={c:t,f:n})}),abort(){Gt.delete(e)}}}function O(t,e){t.appendChild(e)}function Xs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hl(t){const e=D("style");return zl(Xs(t),e),e.sheet}function zl(t,e){return O(t.head||t,e),e.sheet}function q(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function qr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function At(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ve(t){return document.createTextNode(t)}function J(){return ve(" ")}function ut(){return ve("")}function se(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $e(t){return function(e){return e.preventDefault(),t.call(this,e)}}function at(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Kn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:S(t,r,e[r])}function Ei(t,e){for(const n in e)S(t,n,e[n])}function Fl(t){return Array.from(t.childNodes)}function De(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Xt(t,e){t.value=e??""}function Nn(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Ai(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function ql(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function te(t,e,n){t.classList[n?"add":"remove"](e)}function Zs(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}class Ys{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=At(n.nodeName):this.e=D(n.nodeName),this.t=n,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)q(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(z)}}const Jn=new Map;let Xn=0;function Wl(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Vl(t,e){const n={stylesheet:Hl(e),rules:{}};return Jn.set(t,n),n}function ki(t,e,n,r,s,i,o,a=0){const c=16.666/r;let l=`{
`;for(let _=0;_<=1;_+=c){const E=e+(n-e)*i(_);l+=_*100+`%{${o(E,1-E)}}
`}const u=l+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Wl(u)}_${a}`,d=Xs(t),{stylesheet:g,rules:h}=Jn.get(d)||Vl(d,t);h[f]||(h[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Xn+=1,f}function Gl(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Xn-=s,Xn||Kl())}function Kl(){Fr(()=>{Xn||(Jn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&z(e)}),Jn.clear())})}let yn;function fn(t){yn=t}function kn(){if(!yn)throw new Error("Function called outside component initialization");return yn}function Jl(t){kn().$$.before_update.push(t)}function Xl(t){kn().$$.on_mount.push(t)}function Zl(t){kn().$$.after_update.push(t)}function Yl(t){kn().$$.on_destroy.push(t)}function en(){const t=kn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Zs(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function Fe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const an=[],Se=[],qn=[],Ir=[],Ql=Promise.resolve();let Nr=!1;function $l(){Nr||(Nr=!0,Ql.then(Qs))}function Zt(t){qn.push(t)}function je(t){Ir.push(t)}const Sr=new Set;let Ln=0;function Qs(){const t=yn;do{for(;Ln<an.length;){const e=an[Ln];Ln++,fn(e),ea(e.$$)}for(fn(null),an.length=0,Ln=0;Se.length;)Se.pop()();for(let e=0;e<qn.length;e+=1){const n=qn[e];Sr.has(n)||(Sr.add(n),n())}qn.length=0}while(an.length);for(;Ir.length;)Ir.pop()();Nr=!1,Sr.clear(),fn(t)}function ea(t){if(t.fragment!==null){t.update(),Pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Zt)}}let sn;function ta(){return sn||(sn=Promise.resolve(),sn.then(()=>{sn=null})),sn}function Er(t,e,n){t.dispatchEvent(Zs(`${e?"intro":"outro"}${n}`))}const Wn=new Set;let ot;function xe(){ot={r:0,c:[],p:ot}}function Me(){ot.r||Pe(ot.c),ot=ot.p}function k(t,e){t&&t.i&&(Wn.delete(t),t.i(e))}function I(t,e,n,r){if(t&&t.o){if(Wn.has(t))return;Wn.add(t),ot.c.push(()=>{Wn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const na={duration:0};function Ri(t,e,n,r){const s={direction:"both"};let i=e(t,n,s),o=r?0:1,a=null,c=null,l=null;function u(){l&&Gl(t,l)}function f(g,h){const m=g.b-o;return h*=Math.abs(m),{a:o,b:g.b,d:m,duration:h,start:g.start,end:g.start+h,group:g.group}}function d(g){const{delay:h=0,duration:m=300,easing:_=Fs,tick:E=ie,css:P}=i||na,U={start:Dl()+h,b:g};g||(U.group=ot,ot.r+=1),a||c?c=U:(P&&(u(),l=ki(t,o,g,m,h,_,P)),g&&E(0,1),a=f(U,m),Zt(()=>Er(t,g,"start")),Pl(L=>{if(c&&L>c.start&&(a=f(c,m),c=null,Er(t,a.b,"start"),P&&(u(),l=ki(t,o,a.b,a.duration,0,_,i.css))),a){if(L>=a.end)E(o=a.b,1-o),Er(t,a.b,"end"),c||(a.b?u():--a.group.r||Pe(a.group.c)),a=null;else if(L>=a.start){const W=L-a.start;o=a.a+a.d*_(W/a.duration),E(o,1-o)}}return!!(a||c)}))}return{run(g){Kt(i)?ta().then(()=>{i=i(s),d(g)}):d(g)},end(){u(),a=c=null}}}const ra=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function $s(t,e){I(t,1,1,()=>{e.delete(t.key)})}function eo(t,e,n,r,s,i,o,a,c,l,u,f){let d=t.length,g=i.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const _=[],E=new Map,P=new Map;for(h=g;h--;){const N=f(s,i,h),R=n(N);let C=o.get(R);C?r&&C.p(N,e):(C=l(R,N),C.c()),E.set(R,_[h]=C),R in m&&P.set(R,Math.abs(h-m[R]))}const U=new Set,L=new Set;function W(N){k(N,1),N.m(a,u),o.set(N.key,N),u=N.first,g--}for(;d&&g;){const N=_[g-1],R=t[d-1],C=N.key,F=R.key;N===R?(u=N.first,d--,g--):E.has(F)?!o.has(C)||U.has(C)?W(N):L.has(F)?d--:P.get(C)>P.get(F)?(L.add(C),W(N)):(U.add(F),d--):(c(R,o),d--)}for(;d--;){const N=t[d];E.has(N.key)||c(N,o)}for(;g;)W(_[g-1]);return _}function Wr(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const c in o)c in a||(r[c]=1);for(const c in a)s[c]||(n[c]=a[c],s[c]=1);t[i]=a}else for(const c in o)s[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ue(t,e,n,r){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,r===void 0&&n(t.$$.ctx[s]))}function ee(t){t&&t.c()}function Y(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||Zt(()=>{const o=t.$$.on_mount.map(qs).filter(Kt);t.$$.on_destroy?t.$$.on_destroy.push(...o):Pe(o),t.$$.on_mount=[]}),i.forEach(Zt)}function Q(t,e){const n=t.$$;n.fragment!==null&&(Pe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ia(t,e){t.$$.dirty[0]===-1&&(an.push(t),$l(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,s,i,o,a=[-1]){const c=yn;fn(t);const l=t.$$={fragment:null,ctx:[],props:i,update:ie,not_equal:s,bound:Si(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Si(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(f,d,...g)=>{const h=g.length?g[0]:d;return l.ctx&&s(l.ctx[f],l.ctx[f]=h)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](h),u&&ia(t,f)),d}):[],l.update(),u=!0,Pe(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=Fl(e.target);l.fragment&&l.fragment.l(f),f.forEach(z)}else l.fragment&&l.fragment.c();e.intro&&k(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),Qs()}fn(c)}class ye{$destroy(){Q(this,1),this.$destroy=ie}$on(e,n){if(!Kt(n))return ie;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!jl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function sa(t){let e,n;const r=t[1].default,s=Te(r,t,t[0],null);return{c(){e=D("div"),s&&s.c(),S(e,"class","svelte-p007f4")},m(i,o){q(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&1)&&Ce(s,r,i,i[0],n?Oe(r,i[0],o,null):Be(i[0]),null)},i(i){n||(k(s,i),n=!0)},o(i){I(s,i),n=!1},d(i){i&&z(e),s&&s.d(i)}}}function oa(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,r]}class to extends ye{constructor(e){super(),be(this,e,oa,sa,ge,{})}}const zt=[];function sr(t,e){return{subscribe:Rn(t,e).subscribe}}function Rn(t,e=ie){let n;const r=new Set;function s(a){if(ge(t,a)&&(t=a,n)){const c=!zt.length;for(const l of r)l[1](),zt.push(l,t);if(c){for(let l=0;l<zt.length;l+=2)zt[l][0](zt[l+1]);zt.length=0}}}function i(a){s(a(t))}function o(a,c=ie){const l=[a,c];return r.add(l),r.size===1&&(n=e(s)||ie),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const St=Rn([]),Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Vr=(t,e=10)=>{let n=t;for(let r=0;r<e;r++)n+=Ti.charAt(Math.floor(Math.random()*Ti.length));return n},lt=Rn("https://localhost/");globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Gr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Kr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function no(t,e){return Gr(this,void 0,void 0,function(){var n,r,s,i,o;return Kr(this,function(a){switch(a.label){case 0:if(n=$r(),!e.subject)throw new Error("Agent has no subject, cannot authenticate");return o={"https://atomicdata.dev/properties/auth/agent":e.subject,"https://atomicdata.dev/properties/auth/requestedSubject":t},s="https://atomicdata.dev/properties/auth/publicKey",[4,e.getPublicKey()];case 1:return o[s]=a.sent(),o["https://atomicdata.dev/properties/auth/timestamp"]=n,i="https://atomicdata.dev/properties/auth/signature",[4,ro(t,e,n)];case 2:return r=(o[i]=a.sent(),o),[2,r]}})})}function ro(t,e,n){return Gr(this,void 0,void 0,function(){var r;return Kr(this,function(s){switch(s.label){case 0:return r="".concat(t," ").concat(n),[4,po(r,e.privateKey)];case 1:return[2,s.sent()]}})})}function la(t,e){var n;return!t.startsWith("http://localhost")&&((n=e==null?void 0:e.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))}function aa(t,e,n){return Gr(this,void 0,void 0,function(){var r,s,i,o,a;return Kr(this,function(c){switch(c.label){case 0:return r=$r(),(e==null?void 0:e.subject)&&!la(t,e)?(s=n,i="x-atomic-public-key",[4,e.getPublicKey()]):[3,3];case 1:return s[i]=c.sent(),o=n,a="x-atomic-signature",[4,ro(t,e,r)];case 2:o[a]=c.sent(),n["x-atomic-timestamp"]=r,n["x-atomic-agent"]=e==null?void 0:e.subject,c.label=3;case 3:return[2,n]}})})}var ca=24*60*60*1e3,ua=function(t,e,n,r){r===void 0&&(r=ca);var s=new Date(Date.now()+r).toUTCString(),i=encodeURIComponent(e),o=new URL(n.getServerUrl()).hostname,a="".concat(t,"=").concat(i,";Expires=").concat(s,";Domain=").concat(o,";SameSite=Lax;path=/");document.cookie=a},io=function(t,e){no(t.getServerUrl(),e).then(function(n){ua("atomic_session",btoa(JSON.stringify(n)),t)})},fa=function(){var t=document.cookie.match(/^(.*;)?\s*atomic_session\s*=\s*[^;]+(.*)?$/);return t?t.length>0:!1};globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lr={exports:{}};(function(t,e){var n=typeof self<"u"?self:da,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(b){return b&&DataView.prototype.isPrototypeOf(b)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&l.indexOf(Object.prototype.toString.call(b))>-1};function f(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function d(b){return typeof b!="string"&&(b=String(b)),b}function g(b){var w={next:function(){var y=b.shift();return{done:y===void 0,value:y}}};return a.iterable&&(w[Symbol.iterator]=function(){return w}),w}function h(b){this.map={},b instanceof h?b.forEach(function(w,y){this.append(y,w)},this):Array.isArray(b)?b.forEach(function(w){this.append(w[0],w[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(w){this.append(w,b[w])},this)}h.prototype.append=function(b,w){b=f(b),w=d(w);var y=this.map[b];this.map[b]=y?y+", "+w:w},h.prototype.delete=function(b){delete this.map[f(b)]},h.prototype.get=function(b){return b=f(b),this.has(b)?this.map[b]:null},h.prototype.has=function(b){return this.map.hasOwnProperty(f(b))},h.prototype.set=function(b,w){this.map[f(b)]=d(w)},h.prototype.forEach=function(b,w){for(var y in this.map)this.map.hasOwnProperty(y)&&b.call(w,this.map[y],y,this)},h.prototype.keys=function(){var b=[];return this.forEach(function(w,y){b.push(y)}),g(b)},h.prototype.values=function(){var b=[];return this.forEach(function(w){b.push(w)}),g(b)},h.prototype.entries=function(){var b=[];return this.forEach(function(w,y){b.push([y,w])}),g(b)},a.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function m(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function _(b){return new Promise(function(w,y){b.onload=function(){w(b.result)},b.onerror=function(){y(b.error)}})}function E(b){var w=new FileReader,y=_(w);return w.readAsArrayBuffer(b),y}function P(b){var w=new FileReader,y=_(w);return w.readAsText(b),y}function U(b){for(var w=new Uint8Array(b),y=new Array(w.length),B=0;B<w.length;B++)y[B]=String.fromCharCode(w[B]);return y.join("")}function L(b){if(b.slice)return b.slice(0);var w=new Uint8Array(b.byteLength);return w.set(new Uint8Array(b)),w.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:a.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:a.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():a.arrayBuffer&&a.blob&&c(b)?(this._bodyArrayBuffer=L(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=L(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(U(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(b){var w=b.toUpperCase();return N.indexOf(w)>-1?w:b}function C(b,w){w=w||{};var y=w.body;if(b instanceof C){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,w.headers||(this.headers=new h(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!y&&b._bodyInit!=null&&(y=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new h(w.headers)),this.method=R(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function F(b){var w=new FormData;return b.trim().split("&").forEach(function(y){if(y){var B=y.split("="),A=B.shift().replace(/\+/g," "),x=B.join("=").replace(/\+/g," ");w.append(decodeURIComponent(A),decodeURIComponent(x))}}),w}function K(b){var w=new h,y=b.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(B){var A=B.split(":"),x=A.shift().trim();if(x){var le=A.join(":").trim();w.append(x,le)}}),w}W.call(C.prototype);function v(b,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new h(w.headers),this.url=w.url||"",this._initBody(b)}W.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},v.error=function(){var b=new v(null,{status:0,statusText:""});return b.type="error",b};var Z=[301,302,303,307,308];v.redirect=function(b,w){if(Z.indexOf(w)===-1)throw new RangeError("Invalid status code");return new v(null,{status:w,headers:{location:b}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,y){this.message=w,this.name=y;var B=Error(w);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function oe(b,w){return new Promise(function(y,B){var A=new C(b,w);if(A.signal&&A.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function le(){x.abort()}x.onload=function(){var H={status:x.status,statusText:x.statusText,headers:K(x.getAllResponseHeaders()||"")};H.url="responseURL"in x?x.responseURL:H.headers.get("X-Request-URL");var pe="response"in x?x.response:x.responseText;y(new v(pe,H))},x.onerror=function(){B(new TypeError("Network request failed"))},x.ontimeout=function(){B(new TypeError("Network request failed"))},x.onabort=function(){B(new o.DOMException("Aborted","AbortError"))},x.open(A.method,A.url,!0),A.credentials==="include"?x.withCredentials=!0:A.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&a.blob&&(x.responseType="blob"),A.headers.forEach(function(H,pe){x.setRequestHeader(pe,H)}),A.signal&&(A.signal.addEventListener("abort",le),x.onreadystatechange=function(){x.readyState===4&&A.signal.removeEventListener("abort",le)}),x.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return oe.polyfill=!0,i.fetch||(i.fetch=oe,i.Headers=h,i.Request=C,i.Response=v),o.Headers=h,o.Request=C,o.Response=v,o.fetch=oe,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Lr,Lr.exports);const jr=ha(Lr.exports);var Ur=globalThis&&globalThis.__assign||function(){return Ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ur.apply(this,arguments)},so=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},oo=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};globalThis&&globalThis.__values;var pa="application/ad+json";function Dr(t,e,n){return so(this,void 0,void 0,function(){var r,s,i,o,a,c,l,u,f;return oo(this,function(d){switch(d.label){case 0:r=new It(t),d.label=1;case 1:return d.trys.push([1,7,,8]),Yt(t),s={},s.Accept=pa,i=e==null?void 0:e.getAgent(),i&&e?t.startsWith(window.location.origin)?(fa()||io(e,i),[3,4]):[3,2]:[3,4];case 2:return[4,aa(t,i,s)];case 3:d.sent(),d.label=4;case 4:if(o=t,n!==void 0&&(a=new URL("".concat(n,"/path")),a.searchParams.set("path",t),o=a.href),jr===void 0)throw new Ze("No window object available this lib currently requires the DOM for fetching");return[4,jr(o,{headers:s})];case 5:return c=d.sent(),[4,c.text()];case 6:if(l=d.sent(),c.status===200)try{u=JSON.parse(l),r=ti(u,r,e)}catch(g){throw new Ze("Could not parse JSON from fetching ".concat(t,". Is it an Atomic Data resource? Error message: ").concat(g.message))}else throw c.status===401?new Ze(l,Ke.Unauthorized):c.status===500?new Ze(l,Ke.Server):c.status===404?new Ze(l,Ke.NotFound):new Ze(l);return[3,8];case 7:return f=d.sent(),r.setError(f),[3,8];case 8:return r.loading=!1,e&&e.addResource(r),[2,r]}})})}function Oi(t,e){return so(this,void 0,void 0,function(){var n,r,s,i,o;return oo(this,function(a){switch(a.label){case 0:n=ho(Ur({},t)),r=new Headers,r.set("Content-Type","application/ad+json"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,jr(e,{headers:r,method:"POST",body:n})];case 2:return s=a.sent(),[3,4];case 3:throw i=a.sent(),new Ze("Posting Commit to ".concat(e," failed: ").concat(i));case 4:return[4,s.text()];case 5:if(o=a.sent(),s.status!==200)throw new Ze(o,Ke.Server);return[2,go(o)]}})})}function Yt(t){try{new URL(t)}catch(e){throw new Error("Not a valid URL: ".concat(t,". ").concat(e))}}function ga(t){return t==null?void 0:t.split("?")[0]}const ma={};const Re=BigInt(0),re=BigInt(1),Le=BigInt(2),lo=BigInt(255),Ci=Le**BigInt(252)+BigInt("27742317777372353535851937790883648493"),me={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Le**lo-BigInt(19),l:Ci,n:Ci,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},ao=Le**BigInt(256),dn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const ba=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),ya=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),_a=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),wa=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class de{constructor(e,n,r,s){this.x=e,this.y=n,this.z=r,this.t=s}static fromAffine(e){if(!(e instanceof Ae))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ae.ZERO)?de.ZERO:new de(e.x,e.y,re,T(e.x*e.y))}static toAffineBatch(e){const n=Ea(e.map(r=>r.z));return e.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Bi(e);const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=e,c=T(n*a),l=T(i*s),u=T(r*a),f=T(o*s);return c===l&&u===f}negate(){return new de(T(-this.x),this.y,this.z,T(-this.t))}double(){const{x:e,y:n,z:r}=this,{a:s}=me,i=T(e**Le),o=T(n**Le),a=T(Le*T(r**Le)),c=T(s*i),l=T(T((e+n)**Le)-i-o),u=c+o,f=u-a,d=c-o,g=T(l*f),h=T(u*d),m=T(l*d),_=T(f*u);return new de(g,h,_,m)}add(e){Bi(e);const{x:n,y:r,z:s,t:i}=this,{x:o,y:a,z:c,t:l}=e,u=T((r-n)*(a+o)),f=T((r+n)*(a-o)),d=T(f-u);if(d===Re)return this.double();const g=T(s*Le*l),h=T(i*Le*c),m=h+g,_=f+u,E=h-g,P=T(m*d),U=T(_*E),L=T(m*E),W=T(d*_);return new de(P,U,W,L)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const n=1+256/e,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(e,n){!n&&this.equals(de.BASE)&&(n=Ae.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&Pr.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=de.normalizeZ(s),Pr.set(n,s)));let i=de.ZERO,o=de.ZERO;const a=1+256/r,c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<a;d++){const g=d*c;let h=Number(e&l);if(e>>=f,h>c&&(h-=u,e+=re),h===0){let m=s[g];d%2&&(m=m.negate()),o=o.add(m)}else{let m=s[g+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}}return de.normalizeZ([i,o])[0]}multiply(e,n){return this.wNAF(Zn(e,me.l),n)}multiplyUnsafe(e){let n=Zn(e,me.l,!1);const r=de.BASE,s=de.ZERO;if(n===Re)return s;if(this.equals(s)||n===re)return this;if(this.equals(r))return this.wNAF(n);let i=s,o=this;for(;n>Re;)n&re&&(i=i.add(o)),o=o.double(),n>>=re;return i}isSmallOrder(){return this.multiplyUnsafe(me.h).equals(de.ZERO)}isTorsionFree(){return this.multiplyUnsafe(me.l).equals(de.ZERO)}toAffine(e=or(this.z)){const{x:n,y:r,z:s}=this,i=T(n*e),o=T(r*e);if(T(s*e)!==re)throw new Error("invZ was invalid");return new Ae(i,o)}fromRistrettoBytes(){kr()}toRistrettoBytes(){kr()}fromRistrettoHash(){kr()}}de.BASE=new de(me.Gx,me.Gy,re,T(me.Gx*me.Gy));de.ZERO=new de(Re,re,re,Re);function Bi(t){if(!(t instanceof de))throw new TypeError("ExtendedPoint expected")}function Ar(t){if(!(t instanceof qe))throw new TypeError("RistrettoPoint expected")}function kr(){throw new Error("Legacy method: switch to RistrettoPoint")}class qe{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:n}=me,r=T(dn*e*e),s=T((r+re)*_a);let i=BigInt(-1);const o=T((i-n*r)*T(r+n));let{isValid:a,value:c}=Xr(s,o),l=T(c*e);wt(l)||(l=T(-l)),a||(c=l),a||(i=r);const u=T(i*(r-re)*wa-o),f=c*c,d=T((c+c)*o),g=T(u*ba),h=T(re-f),m=T(re+f);return new de(T(d*m),T(h*g),T(g*m),T(d*h))}static hashToCurve(e){e=Lt(e,64);const n=Rr(e.slice(0,32)),r=this.calcElligatorRistrettoMap(n),s=Rr(e.slice(32,64)),i=this.calcElligatorRistrettoMap(s);return new qe(r.add(i))}static fromHex(e){e=Lt(e,32);const{a:n,d:r}=me,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Rr(e);if(!ka(_n(i),e)||wt(i))throw new Error(s);const o=T(i*i),a=T(re+n*o),c=T(re-n*o),l=T(a*a),u=T(c*c),f=T(n*r*l-u),{isValid:d,value:g}=xi(T(f*u)),h=T(g*c),m=T(g*h*f);let _=T((i+i)*h);wt(_)&&(_=T(-_));const E=T(a*m),P=T(_*E);if(!d||wt(P)||E===Re)throw new Error(s);return new qe(new de(_,E,re,P))}toRawBytes(){let{x:e,y:n,z:r,t:s}=this.ep;const i=T(T(r+n)*T(r-n)),o=T(e*n),{value:a}=xi(T(i*o**Le)),c=T(a*i),l=T(a*o),u=T(c*l*s);let f;if(wt(s*u)){let g=T(n*dn),h=T(e*dn);e=g,n=h,f=T(c*ya)}else f=l;wt(e*u)&&(n=T(-n));let d=T((r-n)*f);return wt(d)&&(d=T(-d)),_n(d)}toHex(){return Tn(this.toRawBytes())}toString(){return this.toHex()}equals(e){Ar(e);const n=this.ep,r=e.ep,s=T(n.x*r.y)===T(n.y*r.x),i=T(n.y*r.y)===T(n.x*r.x);return s||i}add(e){return Ar(e),new qe(this.ep.add(e.ep))}subtract(e){return Ar(e),new qe(this.ep.subtract(e.ep))}multiply(e){return new qe(this.ep.multiply(e))}multiplyUnsafe(e){return new qe(this.ep.multiplyUnsafe(e))}}qe.BASE=new qe(de.BASE);qe.ZERO=new qe(de.ZERO);const Pr=new WeakMap;class Ae{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Pr.delete(this)}static fromHex(e,n=!0){const{d:r,P:s}=me;e=Lt(e,32);const i=e.slice();i[31]=e[31]&-129;const o=tn(i);if(n&&o>=s)throw new Error("Expected 0 < hex < P");if(!n&&o>=ao)throw new Error("Expected 0 < hex < 2**256");const a=T(o*o),c=T(a-re),l=T(r*a+re);let{isValid:u,value:f}=Xr(c,l);if(!u)throw new Error("Point.fromHex: invalid y coordinate");const d=(f&re)===re;return(e[31]&128)!==0!==d&&(f=T(-f)),new Ae(f,o)}static async fromPrivateKey(e){return(await Zr(e)).point}toRawBytes(){const e=_n(this.y);return e[31]|=this.x&re?128:0,e}toHex(){return Tn(this.toRawBytes())}toX25519(){const{y:e}=this,n=T((re+e)*or(re-e));return _n(n)}isTorsionFree(){return de.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ae(T(-this.x),this.y)}add(e){return de.fromAffine(this).add(de.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return de.fromAffine(this).multiply(e,this).toAffine()}}Ae.BASE=new Ae(me.Gx,me.Gy);Ae.ZERO=new Ae(Re,re);class Jr{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromHex(e){const n=Lt(e,64),r=Ae.fromHex(n.slice(0,32),!1),s=tn(n.slice(32,64));return new Jr(r,s)}assertValidity(){const{r:e,s:n}=this;if(!(e instanceof Ae))throw new Error("Expected Point instance");return Zn(n,me.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(_n(this.s),32),e}toHex(){return Tn(this.toRawBytes())}}function va(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Sa=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tn(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Sa[t[n]];return e}function co(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,s=t.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function uo(t){const n=t.toString(16).padStart(64,"0");return co(n)}function _n(t){return uo(t).reverse()}function wt(t){return(T(t)&re)===re}function tn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Tn(Uint8Array.from(t).reverse()))}function Rr(t){return T(tn(t)&Le**lo-re)}function T(t,e=me.P){const n=t%e;return n>=Re?n:e+n}function or(t,e=me.P){if(t===Re||e<=Re)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=T(t,e),r=e,s=Re,i=re;for(;n!==Re;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==re)throw new Error("invert: does not exist");return T(s,e)}function Ea(t,e=me.P){const n=new Array(t.length),r=t.reduce((i,o,a)=>o===Re?i:(n[a]=i,T(i*o,e)),re),s=or(r,e);return t.reduceRight((i,o,a)=>o===Re?i:(n[a]=T(i*n[a],e),T(i*o,e)),s),n}function Xe(t,e){const{P:n}=me;let r=t;for(;e-- >Re;)r*=r,r%=n;return r}function Aa(t){const{P:e}=me,n=BigInt(5),r=BigInt(10),s=BigInt(20),i=BigInt(40),o=BigInt(80),c=t*t%e*t%e,l=Xe(c,Le)*c%e,u=Xe(l,re)*t%e,f=Xe(u,n)*u%e,d=Xe(f,r)*f%e,g=Xe(d,s)*d%e,h=Xe(g,i)*g%e,m=Xe(h,o)*h%e,_=Xe(m,o)*h%e,E=Xe(_,r)*f%e;return{pow_p_5_8:Xe(E,Le)*t%e,b2:c}}function Xr(t,e){const n=T(e*e*e),r=T(n*n*e),s=Aa(t*r).pow_p_5_8;let i=T(t*n*s);const o=T(e*i*i),a=i,c=T(i*dn),l=o===t,u=o===T(-t),f=o===T(-t*dn);return l&&(i=a),(u||f)&&(i=c),wt(i)&&(i=T(-i)),{isValid:l||u,value:i}}function xi(t){return Xr(re,t)}async function Mi(...t){const e=await lr.sha512(va(...t)),n=tn(e);return T(n,me.l)}function ka(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Lt(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):co(t);if(typeof e=="number"&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function Zn(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(n){if(Re<t)return t}else if(Re<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Ra(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}async function Zr(t){if(t=typeof t=="bigint"||typeof t=="number"?uo(Zn(t,ao)):Lt(t),t.length!==32)throw new Error("Expected 32 bytes");const e=await lr.sha512(t),n=Ra(e.slice(0,32)),r=e.slice(32,64),s=T(tn(n),me.l),i=Ae.BASE.multiply(s),o=i.toRawBytes();return{head:n,prefix:r,scalar:s,point:i,pointBytes:o}}async function Ta(t,e){t=Lt(t);const{prefix:n,scalar:r,pointBytes:s}=await Zr(e),i=await Mi(n,t),o=Ae.BASE.multiply(i),a=await Mi(o.toRawBytes(),s,t),c=T(i+a*r,me.l);return new Jr(o,c).toRawBytes()}Ae.BASE._setWindowSize(8);const gt={node:ma,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},lr={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Tn,getExtendedPublicKey:Zr,mod:T,invert:or,hashToPrivateScalar:t=>{if(t=Lt(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=T(tn(t),me.l);if(e===Re||e===re)throw new Error("Invalid private key");return e},randomBytes:(t=32)=>{if(gt.web)return gt.web.getRandomValues(new Uint8Array(t));if(gt.node){const{randomBytes:e}=gt.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>lr.randomBytes(32),sha512:async t=>{if(gt.web){const e=await gt.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(gt.node)return Uint8Array.from(gt.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ae.BASE){const n=e.equals(Ae.BASE)?e:new Ae(e.x,e.y);return n._setWindowSize(t),n.multiply(Le),n}};var Oa=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,r=e.cmp&&function(i){return function(o){return function(a,c){var l={key:a,value:o[a]},u={key:c,value:o[c]};return i(l,u)}}}(e.cmp),s=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var a,c;if(Array.isArray(o)){for(c="[",a=0;a<o.length;a++)a&&(c+=","),c+=i(o[a])||"null";return c+"]"}if(o===null)return"null";if(s.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=s.push(o)-1,u=Object.keys(o).sort(r&&r(o));for(c="",a=0;a<u.length;a++){var f=u[a],d=i(o[f]);!d||(c&&(c+=","),c+=JSON.stringify(f)+":"+d)}return s.splice(l,1),"{"+c+"}"}}(t)},Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jn=0;jn<Vt.length;jn++)cn[Vt.charCodeAt(jn)]=jn;var Ca=function(t){var e=new Uint8Array(t),n,r=e.length,s="";for(n=0;n<r;n+=3)s+=Vt[e[n]>>2],s+=Vt[(e[n]&3)<<4|e[n+1]>>4],s+=Vt[(e[n+1]&15)<<2|e[n+2]>>6],s+=Vt[e[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s},Ba=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)i=cn[t.charCodeAt(r)],o=cn[t.charCodeAt(r+1)],a=cn[t.charCodeAt(r+2)],c=cn[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l};const Tr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xa)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));(()=>{const t=typeof un<"u"&&typeof un.require=="function"&&un.require.bind(un);try{if(t){const{setImmediate:e}=t("timers");return()=>new Promise(n=>e(n))}}catch{}return()=>new Promise(e=>setTimeout(e,0))})();function Ma(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function fo(t){if(typeof t=="string"&&(t=Ma(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Ia{clone(){return this._cloneInto()}}function Yr(t){const e=r=>t().update(fo(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e.init=e.create,e}function Na(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class La extends Ia{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tr(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:n,buffer:r,blockLen:s,finished:i}=this;if(i)throw new Error("digest() was already called");e=fo(e);const o=e.length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c===s){const l=Tr(e);for(;s<=o-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let c=o;c<s;c++)n[c]=0;Na(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Tr(e);this.get().forEach((c,l)=>a.setUint32(4*l,c,i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const Un=BigInt(2**32-1),Ii=BigInt(32);function ja(t,e=!1){return e?{h:Number(t&Un),l:Number(t>>Ii&Un)}:{h:Number(t>>Ii&Un)|0,l:Number(t&Un)|0}}function Ua(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=ja(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Ni=(t,e,n)=>t>>>n,Li=(t,e,n)=>t<<32-n|e>>>n,Ft=(t,e,n)=>t>>>n|e<<32-n,qt=(t,e,n)=>t<<32-n|e>>>n,Dn=(t,e,n)=>t<<64-n|e>>>n-32,Pn=(t,e,n)=>t>>>n-32|e<<64-n;function it(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Da=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Pa=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ha=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),za=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Fa=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),qa=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,[Wa,Va]=Ua(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mt=new Uint32Array(80),bt=new Uint32Array(80);class Qr extends La{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:g,Gl:h,Hh:m,Hl:_}=this;return[e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_]}set(e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=g|0,this.Gl=h|0,this.Hh=m|0,this.Hl=_|0}process(e,n){for(let U=0;U<16;U++,n+=4)mt[U]=e.getUint32(n),bt[U]=e.getUint32(n+=4);for(let U=16;U<80;U++){const L=mt[U-15]|0,W=bt[U-15]|0,N=Ft(L,W,1)^Ft(L,W,8)^Ni(L,W,7),R=qt(L,W,1)^qt(L,W,8)^Li(L,W,7),C=mt[U-2]|0,F=bt[U-2]|0,K=Ft(C,F,19)^Dn(C,F,61)^Ni(C,F,6),v=qt(C,F,19)^Pn(C,F,61)^Li(C,F,6),Z=Ha(R,v,bt[U-7],bt[U-16]),oe=za(Z,N,K,mt[U-7],mt[U-16]);mt[U]=oe|0,bt[U]=Z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:g,Fl:h,Gh:m,Gl:_,Hh:E,Hl:P}=this;for(let U=0;U<80;U++){const L=Ft(f,d,14)^Ft(f,d,18)^Dn(f,d,41),W=qt(f,d,14)^qt(f,d,18)^Pn(f,d,41),N=f&g^~f&m,R=d&h^~d&_,C=Fa(P,W,R,Va[U],bt[U]),F=qa(C,E,L,N,Wa[U],mt[U]),K=C|0,v=Ft(r,s,28)^Dn(r,s,34)^Dn(r,s,39),Z=qt(r,s,28)^Pn(r,s,34)^Pn(r,s,39),oe=r&i^r&a^i&a,b=s&o^s&c^o&c;E=m|0,P=_|0,m=g|0,_=h|0,g=f|0,h=d|0,{h:f,l:d}=it(l|0,u|0,F|0,K|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const w=Da(K,Z,b);r=Pa(w,F,v,oe),s=w|0}({h:r,l:s}=it(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=it(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=it(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=it(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=it(this.Eh|0,this.El|0,f|0,d|0),{h:g,l:h}=it(this.Fh|0,this.Fl|0,g|0,h|0),{h:m,l:_}=it(this.Gh|0,this.Gl|0,m|0,_|0),{h:E,l:P}=it(this.Hh|0,this.Hl|0,E|0,P|0),this.set(r,s,i,o,a,c,l,u,f,d,g,h,m,_,E,P)}roundClean(){mt.fill(0),bt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ga extends Qr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Ka extends Qr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ja=Yr(()=>new Qr);Yr(()=>new Ga);Yr(()=>new Ka);var xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xt.apply(this,arguments)},Hr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},zr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Xa=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Za=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};lr.sha512=function(t){return Promise.resolve(Ja(t))};function $r(){return Math.round(new Date().getTime())}var Or=function(){function t(e,n){n===void 0&&(n={});var r,s,i;this._subject=ga(e),this._set=(r=n.set)!==null&&r!==void 0?r:new Map,this._push=(s=n.push)!==null&&s!==void 0?s:new Map,this._remove=(i=n.remove)!==null&&i!==void 0?i:new Set,this._destroy=n.destroy,this._previousCommit=n.previousCommit}return Object.defineProperty(t.prototype,"subject",{get:function(){return this._subject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set",{get:function(){return this._set},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){return this._push},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remove",{get:function(){return this._remove},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroy",{get:function(){return this._destroy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCommit",{get:function(){return this._previousCommit},enumerable:!1,configurable:!0}),t.prototype.addSetAction=function(e,n){return this.removeRemoveAction(e),this._set.set(e,n),this},t.prototype.addPushAction=function(e){for(var n,r,s,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(s=this._push.get(e))!==null&&s!==void 0?s:new Set;try{for(var c=Xa(i),l=c.next();!l.done;l=c.next()){var u=l.value;a.add(u)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return this._push.set(e,a),this},t.prototype.addRemoveAction=function(e){return this._set.delete(e),this._push.delete(e),this._remove.add(e),this},t.prototype.removeRemoveAction=function(e){return this._remove.delete(e),this},t.prototype.setDestroy=function(e){return this._destroy=e,this},t.prototype.setPreviousCommit=function(e){return this._previousCommit=e,this},t.prototype.setSubject=function(e){return this._subject=e,this},t.prototype.sign=function(e,n){return Hr(this,void 0,void 0,function(){var r;return zr(this,function(s){switch(s.label){case 0:return[4,this.signAt(n,e,$r())];case 1:return r=s.sent(),[2,r]}})})},t.prototype.hasUnsavedChanges=function(){return this.set.size>0||this.push.size>0||this.destroy||this.remove.size>0},t.prototype.clone=function(){var e={set:this.set,push:this.push,remove:this.remove,destroy:this.destroy,previousCommit:this.previousCommit};return new t(this.subject,structuredClone(e))},t.prototype.toPlainObject=function(){return{subject:this.subject,set:Object.fromEntries(this.set.entries()),push:Object.fromEntries(Array.from(this.push.entries()).map(function(e){var n=Za(e,2),r=n[0],s=n[1];return[r,Array.from(s)]})),remove:Array.from(this.remove),destroy:this.destroy,previousCommit:this.previousCommit}},t.prototype.signAt=function(e,n,r){return Hr(this,void 0,void 0,function(){var s,i,o,a;return zr(this,function(c){switch(c.label){case 0:if(e===void 0)throw new Error("No agent passed to sign commit");return s=xt(xt({},this.clone().toPlainObject()),{createdAt:r,signer:e}),i=ho(xt({},s)),[4,po(i,n)];case 1:return o=c.sent(),a=xt(xt({},s),{signature:o}),[2,a]}})})},t}();function st(t,e,n){e in t&&e!==n&&(Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(t,e)),delete t[e])}function ho(t){return t.remove&&Object.keys(t.remove).length===0&&delete t.remove,t.set&&Object.keys(t.set).length===0&&delete t.set,t.push&&Object.keys(t.push).length===0&&delete t.push,t.destroy===!1&&delete t.destroy,st(t,"createdAt",j.properties.commit.createdAt),st(t,"subject",j.properties.commit.subject),st(t,"set",j.properties.commit.set),st(t,"push",j.properties.commit.push),st(t,"signer",j.properties.commit.signer),st(t,"signature",j.properties.commit.signature),st(t,"remove",j.properties.commit.remove),st(t,"destroy",j.properties.commit.destroy),st(t,"previousCommit",j.properties.commit.previousCommit),t[j.properties.isA]=[j.classes.commit],Oa(t)}var po=function(t,e){return Hr(void 0,void 0,void 0,function(){var n,r,s,i,o,a;return zr(this,function(c){switch(c.label){case 0:return n=Ba(e),r=new Uint8Array(n),s=new TextEncoder,i=s.encode(t),[4,Ta(i,r)];case 1:return o=c.sent(),a=Ca(o),[2,a]}})})};function go(t){try{var e=JSON.parse(t),n=e[j.properties.commit.subject],r=e[j.properties.commit.set],s=e[j.properties.commit.push],i=e[j.properties.commit.signer],o=e[j.properties.commit.createdAt],a=e[j.properties.commit.remove],c=e[j.properties.commit.destroy],l=e[j.properties.commit.signature],u=e["@id"],f=e[j.properties.commit.previousCommit];return{subject:n,set:r,push:s,signer:i,createdAt:o,remove:a,destroy:c,signature:l,id:u,previousCommit:f}}catch(d){throw new Error("Could not parse commit: ".concat(d))}}function Ya(t,e){var n=go(t),r=n.subject,s=n.set,i=n.remove,o=n.id,a=n.destroy,c=n.signature,l=n.push,u=e.resources.get(r);if(!u)u=new It(r);else if(u.appliedCommitSignatures.has(c))return;if(s&&Object.keys(s).forEach(function(f){var d=s[f];(d==null?void 0:d.constructor)==={}.constructor&&(d=hn(d,u,f,e)),ei(d)&&(d=d.map(function(g){return hn(g,u,f,e)})),u.setUnsafe(f,d)}),i&&i.forEach(function(f){u.removePropValLocally(f)}),l&&Object.keys(l).forEach(function(f){var d=u.get(f)||[],g=l[f],h=g.map(function(_){return hn(_,u,f,e)}),m=d.concat(h);u.setUnsafe(f,m)}),o&&u.setUnsafe(ze.commit.lastCommit,o),a){e.removeResource(r);return}else u.appliedCommitSignatures.add(c),e.addResource(u)}var Qa=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke;(function(t){t.Unauthorized="Unauthorized",t.NotFound="NotFound",t.Server="Server",t.Client="Client"})(Ke||(Ke={}));function $a(t){if(t instanceof Ze){if(t.type===Ke.Unauthorized)return!0;if(t.message.includes("Unauthorized"))return!0}return!1}var Ze=function(t){Qa(e,t);function e(n,r){r===void 0&&(r=Ke.Client);var s=t.call(this,n)||this;Object.setPrototypeOf(s,e.prototype),s.type=r,s.message=n;try{var i=JSON.parse(n),o=i[ze.description];o&&(s.message=o)}catch{}return s.message||(s.message=s.createMessage()),s}return e.fromResource=function(n){var r=new e(n.get(ze.description).toString());return r},e.prototype.createMessage=function(){switch(this.type){case Ke.Unauthorized:return"You don't have the rights to do this.";case Ke.NotFound:return"404 Not found.";case Ke.Server:return"500 Unknown server error.";default:return"Unknown error."}},e}(Error),he;(function(t){t.ATOMIC_URL="https://atomicdata.dev/datatypes/atomicURL",t.BOOLEAN="https://atomicdata.dev/datatypes/boolean",t.DATE="https://atomicdata.dev/datatypes/date",t.FLOAT="https://atomicdata.dev/datatypes/float",t.INTEGER="https://atomicdata.dev/datatypes/integer",t.MARKDOWN="https://atomicdata.dev/datatypes/markdown",t.RESOURCEARRAY="https://atomicdata.dev/datatypes/resourceArray",t.SLUG="https://atomicdata.dev/datatypes/slug",t.STRING="https://atomicdata.dev/datatypes/string",t.TIMESTAMP="https://atomicdata.dev/datatypes/timestamp",t.UNKNOWN="unknown-datatype"})(he||(he={}));var ec=function(t){switch(t){case j.datatypes.atomicUrl:return he.ATOMIC_URL;case j.datatypes.boolean:return he.BOOLEAN;case j.datatypes.date:return he.DATE;case j.datatypes.float:return he.FLOAT;case j.datatypes.integer:return he.INTEGER;case j.datatypes.markdown:return he.MARKDOWN;case j.datatypes.resourceArray:return he.RESOURCEARRAY;case j.datatypes.slug:return he.SLUG;case j.datatypes.string:return he.STRING;case j.datatypes.timestamp:return he.TIMESTAMP;default:return he.UNKNOWN}},tc=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,nc=/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,rc=function(t,e){var n=null;if(t===void 0)throw new Error("Value is undefined, expected ".concat(e));switch(e){case he.STRING:{if(!Hn(t)){n="Not a string";break}break}case he.SLUG:{if(!Hn(t)){n="Not a slug, not even a string";break}t.match(tc)===null&&(n="Not a valid slug. Only lowercase letters and numbers with dashes `-` between them");break}case he.ATOMIC_URL:{if(!Hn(t)){n="Not a string. Should be a URL";break}Yt(t);break}case he.RESOURCEARRAY:{if(!ei(t)){n="Not an array";break}t.map(function(r,s){try{Yt(r)}catch{var i=new Error("Invalid URL");throw i.index=s,i}});break}case he.INTEGER:{if(!ic(t)){n="Not a number";break}t%1!==0&&(n="Not an integer");break}case he.DATE:{if(!Hn(t)){n="Not a string";break}t.match(nc)===null&&(n="Not a date string: YYYY-MM-DD");break}}if(n!==null)throw new Error(n)};function ei(t){return Object.prototype.toString.call(t)==="[object Array]"}function Hn(t){return typeof t=="string"}function ic(t){return typeof t=="number"}globalThis&&globalThis.__values;function ti(t,e,n){try{var r=function(i){if(i==="@id"){var o=t["@id"];if(typeof o!="string")throw new Error("'@id' field must be a string");if(e.getSubject()!=="undefined"&&e.getSubject()!==Mt&&o!==e.getSubject())throw new Error("Resource has wrong subject in @id. Received subject was ".concat(o,", expected ").concat(e.getSubject(),"."));return e.setSubject(o),"continue"}var a=t[i];try{if(ei(a)){var c=a.map(function(f){return hn(f,e,i,n)});e.setUnsafe(i,c)}else if(typeof a=="string")e.setUnsafe(i,a);else if(typeof a=="number")e.setUnsafe(i,a);else if(typeof a=="boolean")e.setUnsafe(i,a);else{var o=hn(a,e,i,n);e.setUnsafe(i,o)}}catch(f){var l="Failed creating value ".concat(a," for key ").concat(i," in resource ").concat(e.getSubject()),u="".concat(l,". ").concat(f.message);throw new Error(u)}};for(var s in t)r(s);e.loading=!1,e.getClasses().includes(j.classes.error)&&(e.error=Ze.fromResource(e)),n&&n.addResource(e)}catch(i){throw i.message="Failed parsing JSON "+i.message,e.setError(i),e.loading=!1,n&&n.addResource(e),i}return e}function hn(t,e,n,r){if(typeof t=="string")return t;if((t==null?void 0:t.constructor)==={}.constructor)if(Object.keys(t).includes("@id")){var s=t["@id"],i=new It(s);return ti(t,i,r),s}else return t;throw new Error("Value ".concat(t," in ").concat(n," not a string or a nested Resource"))}var on=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},ln=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Cr=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Br=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Mt="unknown-subject",It=function(){function t(e,n){if(typeof e!="string")throw new Error("Invalid subject given to resource, must be a string, found "+e);this.new=!!n,this.loading=!1,this.subject=e,this.propvals=new Map,this.appliedCommitSignatures=new Set,this.commitBuilder=new Or(e)}return t.prototype.canWrite=function(e,n,r){return on(this,void 0,void 0,function(){var s,i,o;return ln(this,function(a){switch(a.label){case 0:return s=this.get(ze.write),n?s&&xr(s).includes(n)?[2,[!0,void 0]]:s&&xr(s).includes(_o.publicAgent)?[2,[!0,void 0]]:(i=this.get(ze.parent),i?i===n?[2,[!0,void 0]]:r===i?(console.warn("Circular parent",r),[2,[!0,"Circular parent in ".concat(this.getSubject())]]):[4,e.getResourceAsync(i)]:[2,[!1,"No write right or parent in ".concat(this.getSubject())]]):[2,[!1,"No agent given"]];case 1:return o=a.sent(),[4,o.canWrite(e,n,this.getSubject())];case 2:return[2,a.sent()]}})})},t.prototype.clone=function(){var e=new t(this.subject);return e.propvals=this.propvals,e.destroy=this.destroy,e.loading=this.loading,e.new=this.new,e.error=this.error,e.commitError=this.commitError,e.commitBuilder=this.commitBuilder.clone(),e.appliedCommitSignatures=this.appliedCommitSignatures,e},t.prototype.isReady=function(){return!this.loading&&this.error===void 0},t.prototype.get=function(e){return this.propvals.get(e)},t.prototype.getSubjects=function(e){return this.getArray(e).map(function(n){return typeof n=="string"?n:n["@id"]})},t.prototype.getArray=function(e){var n,r=(n=this.propvals.get(e))!==null&&n!==void 0?n:[];return xr(r)},t.prototype.getClasses=function(){return this.getSubjects(ze.isA)},t.prototype.getCommitBuilder=function(){return this.commitBuilder},t.prototype.getSubject=function(){return this.subject},t.prototype.getSubjectNoParams=function(){var e=new URL(this.subject);return e.origin+e.pathname},t.prototype.getPropVals=function(){return this.propvals},t.prototype.getRights=function(e){return on(this,void 0,void 0,function(){var n,r,s,i,o,a,c=this;return ln(this,function(l){switch(l.label){case 0:return n=[],r=this.getSubjects(ze.write),r.forEach(function(u){n.push({for:u,type:Yn.WRITE,setIn:c.subject})}),s=this.getSubjects(ze.read),s.forEach(function(u){n.push({for:u,type:Yn.READ,setIn:c.subject})}),i=this.get(ze.parent),i?i===this.getSubject()?(console.warn("Circular parent",i),[2,n]):[4,e.getResourceAsync(i)]:[3,3];case 1:return o=l.sent(),[4,o.getRights(e)];case 2:a=l.sent(),n.push.apply(n,Br([],Cr(a),!1)),l.label=3;case 3:return[2,n]}})})},t.prototype.isUnauthorized=function(){return!!this.error&&$a(this.error)},t.prototype.destroy=function(e,n){return on(this,void 0,void 0,function(){var r,s,i;return ln(this,function(o){switch(o.label){case 0:if(r=new Or(this.getSubject()),r.setDestroy(!0),n===void 0&&(n=e.getAgent()),(n==null?void 0:n.subject)===void 0)throw new Error("No agent has been set or passed, you cannot delete this.");return[4,r.sign(n.privateKey,n.subject)];case 1:return s=o.sent(),i=new URL(this.getSubject()).origin+"/commit",[4,Oi(s,i)];case 2:return o.sent(),e.removeResource(this.getSubject()),[2]}})})},t.prototype.pushPropVal=function(e){for(var n,r,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];var o=(r=this.get(e))!==null&&r!==void 0?r:[];o.push.apply(o,Br([],Cr(s),!1)),(n=this.commitBuilder).addPushAction.apply(n,Br([e],Cr(s),!1)),this.propvals.set(e,o)},t.prototype.removePropVal=function(e){this.propvals.delete(e),this.commitBuilder.addRemoveAction(e)},t.prototype.removePropValLocally=function(e){this.propvals.delete(e)},t.prototype.save=function(e,n){var r,s,i;return on(this,void 0,void 0,function(){var o,a,c,l,u,f,d,g,h;return ln(this,function(m){switch(m.label){case 0:if(e.addResource(this),o=(r=e.getAgent())!==null&&r!==void 0?r:n,!o)throw new Error("No agent has been set or passed, you cannot save.");return a=(s=this.get(ze.commit.lastCommit))===null||s===void 0?void 0:s.toString(),a&&this.commitBuilder.setPreviousCommit(a),c=this.commitBuilder.clone(),this.commitBuilder=new Or(this.getSubject()),[4,c.sign(o.privateKey,o.subject)];case 1:l=m.sent(),this.appliedCommitSignatures.add(l.signature),this.loading=!1,this.new=!1,u=new URL(this.getSubject()).origin+"/commit",m.label=2;case 2:return m.trys.push([2,4,,8]),this.commitError=void 0,[4,Oi(l,u)];case 3:return f=m.sent(),this.setUnsafe(ze.commit.lastCommit,f.id),e.subscribeWebSocket(this.subject),e.notifyResourceSaved(this),[2,f.id];case 4:return d=m.sent(),d.message.includes("previousCommit")?(console.warn("previousCommit missing or mismatch, retrying..."),[4,Dr(this.getSubject(),e)]):[3,7];case 5:return g=m.sent(),h=(i=g.get(ze.commit.lastCommit))===null||i===void 0?void 0:i.toString(),h&&this.setUnsafe(ze.commit.lastCommit,h),[4,this.save(e,o)];case 6:return[2,m.sent()];case 7:throw this.commitBuilder=c,this.commitError=d,e.addResource(this),d;case 8:return[2]}})})},t.prototype.set=function(e,n,r,s){return s===void 0&&(s=!0),on(this,void 0,void 0,function(){var i;return ln(this,function(o){switch(o.label){case 0:return r.isOffline()&&(console.warn("Offline, not validating"),s=!1),s?[4,r.getProperty(e)]:[3,2];case 1:i=o.sent(),rc(n,i.datatype),o.label=2;case 2:return this.propvals.set(e,n),this.commitBuilder.addSetAction(e,n),[2]}})})},t.prototype.setUnsafe=function(e,n){this.propvals.set(e,n)},t.prototype.setError=function(e){this.error=e},t.prototype.setSubject=function(e){Yt(e),this.commitBuilder.setSubject(e),this.subject=e},t}(),Yn;(function(t){t.READ="read",t.WRITE="write"})(Yn||(Yn={}));var ji=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ui=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Di=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Pi=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},sc=function(){function t(){this.subscriptions=new Map}return t.prototype.register=function(e,n){var r,s=(r=this.subscriptions.get(e))!==null&&r!==void 0?r:new Set;return s.add(n),this.subscriptions.set(e,s),function(){s.delete(n)}},t.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return ji(this,void 0,void 0,function(){var s,i,o=this;return Ui(this,function(a){switch(a.label){case 0:return this.subscriptions.has(e)?(s=this.subscriptions.get(e),i=function(c){return ji(o,void 0,void 0,function(){return Ui(this,function(l){return c.apply(void 0,Pi([],Di(n),!1)),[2]})})},s?[4,Promise.allSettled(Pi([],Di(s),!1).map(function(c){return i(c)}))]:[2]):[2];case 1:return a.sent(),[2]}})})},t}(),mo=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},bo=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},oc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Hi(t,e){var n=new URL(t);n.protocol==="http:"?n.protocol="ws":n.protocol="wss",n.pathname="/ws";var r=new WebSocket(n.toString());return r.onopen=function(s){return lc(e,r)},r.onmessage=function(s){return ac(s,e)},r.onerror=cc,r}function lc(t,e){yo(e,t).then(function(){var n,r;try{for(var s=oc(t.subscribers.keys()),i=s.next();!i.done;i=s.next()){var o=i.value;t.subscribeWebSocket(o)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})}function ac(t,e){if(t.data.startsWith("COMMIT ")){var n=t.data.slice(7);Ya(n,e)}else if(t.data.startsWith("ERROR "))e.handleError(t.data.slice(6));else if(t.data.startsWith("RESOURCE ")){var r=t.data.slice(9),s=JSON.parse(r),i=new It(Mt);ti(s,i,e)}else console.warn("Unknown websocket message:",t)}function cc(t){console.error("websocket error:",t)}function yo(t,e){var n;return mo(this,void 0,void 0,function(){var r,s;return bo(this,function(i){switch(i.label){case 0:return r=e.getAgent(),r?!t.url.startsWith("ws://localhost:")&&((n=r==null?void 0:r.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))?(console.warn("Can't authenticate localhost Agent over websocket"),[2]):[4,no(t.url,r)]:[2];case 1:return s=i.sent(),t.send("AUTHENTICATE "+JSON.stringify(s)),[2]}})})}function uc(t,e){return mo(this,void 0,void 0,function(){return bo(this,function(n){return t.send("GET "+e),[2]})})}var yt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},_t=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},pn;(function(t){t.ResourceSaved="resource-saved",t.ResourceRemoved="resource-removed",t.ResourceManuallyCreated="resource-manually-created"})(pn||(pn={}));var fc=function(){function t(e){e===void 0&&(e={}),this.eventManager=new sc,this._resources=new Map,this.webSockets=new Map,this.subscribers=new Map,e.serverUrl&&this.setServerUrl(e.serverUrl),e.agent&&this.setAgent(e.agent),this.errorHandler=function(n){throw n}}return Object.defineProperty(t.prototype,"resources",{get:function(){return this._resources},enumerable:!1,configurable:!0}),t.prototype.addResource=function(e){if(e.get(j.properties.incomplete)){var n=this.resources.get(e.getSubject());if(n&&!n.loading)return}this.resources.set(e.getSubject(),e),this.notify(e.clone())},t.prototype.checkSubjectTaken=function(e){return yt(this,void 0,void 0,function(){var n;return _t(this,function(r){switch(r.label){case 0:return[4,this.getResourceAsync(e)];case 1:return n=r.sent(),n.isReady()?[2,!0]:[2,!1]}})})},t.prototype.buildUniqueSubjectFromParts=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return yt(this,void 0,void 0,function(){var r;return _t(this,function(s){return r=e.join("/"),[2,this.findAvailableSubject(r)]})})},t.prototype.createSubject=function(e){var n=this.randomPart();return e=e||"things","".concat(this.getServerUrl(),"/").concat(e,"/").concat(n)},t.prototype.fetchResource=function(e,n){if(n===void 0&&(n={}),n.setLoading){var r=new It(e);r.loading=!0,this.addResource(r)}var s=this.getWebSocketForSubject(e);!n.noWebSocket&&(s==null?void 0:s.readyState)===WebSocket.OPEN?uc(s,e):Dr(e,this,n.fromProxy?this.getServerUrl():void 0)},t.prototype.getAllSubjects=function(){return Array.from(this.resources.keys())},t.prototype.getDefaultWebSocket=function(){return this.webSockets.get(this.getServerUrl())},t.prototype.getWebSocketForSubject=function(e){var n=new URL(e),r=this.webSockets.get(n.origin);if(r)return r;this.webSockets.set(n.origin,Hi(n.origin,this))},t.prototype.getServerUrl=function(){return this.serverUrl},t.prototype.getAgent=function(){var e;return(e=this.agent)!==null&&e!==void 0?e:void 0},t.prototype.getResourceLoading=function(e,n){if(e===void 0&&(e=Mt),n===void 0&&(n={}),e===Mt||e===null){var r=new It(Mt,n.newResource);return r}var s=this.resources.get(e);if(s)!n.allowIncomplete&&s.loading===!1&&s.get(j.properties.incomplete)&&(s.loading=!0,this.addResource(s),this.fetchResource(e,n));else{var r=new It(e,n.newResource);return r.loading=!0,this.addResource(r),n.newResource||this.fetchResource(e,n),r}return s},t.prototype.getResourceAsync=function(e){return yt(this,void 0,void 0,function(){var n,r;return _t(this,function(s){switch(s.label){case 0:return n=this.resources.get(e),n?[3,2]:[4,Dr(e,this)];case 1:return r=s.sent(),[2,r];case 2:return[2,n]}})})},t.prototype.getProperty=function(e){var n;return yt(this,void 0,void 0,function(){var r,s,i,o,a,c;return _t(this,function(l){switch(l.label){case 0:return[4,this.getResourceAsync(e)];case 1:if(r=l.sent(),r===void 0)throw Error("Property ".concat(e," is not found"));if(r.error)throw Error("Property ".concat(e," cannot be loaded: ").concat(r.error));if(s=new dc,i=r.get(j.properties.datatype),i===void 0)throw Error("Property ".concat(e," has no datatype: ").concat(r.getPropVals()));if(o=r.get(j.properties.shortname),o===void 0)throw Error("Property ".concat(e," has no shortname: ").concat(r.getPropVals()));if(a=r.get(j.properties.description),a===void 0)throw Error("Property ".concat(e," has no description: ").concat(r.getPropVals()));return c=(n=r.get(j.properties.classType))===null||n===void 0?void 0:n.toString(),s.classType=c,s.shortname=o.toString(),s.description=a.toString(),s.datatype=ec(i.toString()),[2,s]}})})},t.prototype.handleError=function(e){typeof e=="string"&&(e=new Error(e)),this.errorHandler(e)||console.error(e)},t.prototype.isOffline=function(){var e;return!(!((e=window==null?void 0:window.navigator)===null||e===void 0)&&e.onLine)},t.prototype.notify=function(e){return yt(this,void 0,void 0,function(){var n,r,s=this;return _t(this,function(i){return n=e.getSubject(),r=this.subscribers.get(n),r===void 0?[2]:(Promise.allSettled(r.map(function(o){return yt(s,void 0,void 0,function(){return _t(this,function(a){return[2,o(e)]})})})),[2])})})},t.prototype.notifyResourceSaved=function(e){this.eventManager.emit(pn.ResourceSaved,e)},t.prototype.notifyResourceManuallyCreated=function(e){this.eventManager.emit(pn.ResourceManuallyCreated,e)},t.prototype.removeResource=function(e){var n=this.resources.get(e);this.resources.delete(e),n&&this.eventManager.emit(pn.ResourceRemoved,n)},t.prototype.renameSubject=function(e,n){return yt(this,void 0,void 0,function(){var r;return _t(this,function(s){switch(s.label){case 0:if(Yt(n),r=this.resources.get(e),r===void 0)throw Error("Old subject does not exist in store: ".concat(e));return[4,this.checkSubjectTaken(n)];case 1:if(s.sent())throw Error("New subject name is already taken: ".concat(n));return r.setSubject(n),this.resources.set(n,r),this.removeResource(e),[2]}})})},t.prototype.setAgent=function(e){var n=this;this.agent=e,e&&(io(this,e),this.webSockets.forEach(function(r){yo(r,n)}),this.resources.forEach(function(r){r.isUnauthorized()&&n.fetchResource(r.getSubject())}))},t.prototype.setServerUrl=function(e){if(Yt(e),e.substr(-1)==="/")throw Error("baseUrl should not have a trailing slash");this.serverUrl=e,this.openWebSocket(e)},t.prototype.openWebSocket=function(e){if(typeof window<"u"){if(this.webSockets.has(e))return;this.webSockets.set(e,Hi(e,this))}else console.warn("WebSockets not supported, no window available")},t.prototype.subscribe=function(e,n){if(e===void 0)throw Error("Cannot subscribe to undefined subject");var r=this.subscribers.get(e);r===void 0&&(this.subscribeWebSocket(e),r=[]),r.push(n),this.subscribers.set(e,r)},t.prototype.subscribeWebSocket=function(e){if(e!==Mt)try{var n=this.getWebSocketForSubject(e);(n==null?void 0:n.readyState)===1&&(n==null||n.send("SUBSCRIBE ".concat(e)))}catch(r){console.error(r)}},t.prototype.unSubscribeWebSocket=function(e){var n;if(e!==Mt)try{(n=this.getDefaultWebSocket())===null||n===void 0||n.send("UNSUBSCRIBE ".concat(e))}catch(r){console.error(r)}},t.prototype.unsubscribe=function(e,n){if(e!==void 0){var r=this.subscribers.get(e);r&&(r=r==null?void 0:r.filter(function(s){return s!==n}),this.subscribers.set(e,r))}},t.prototype.on=function(e,n){return this.eventManager.register(e,n)},t.prototype.randomPart=function(){return Math.random().toString(36).substring(2)},t.prototype.findAvailableSubject=function(e,n){return n===void 0&&(n=!0),yt(this,void 0,void 0,function(){var r,s,i;return _t(this,function(o){switch(o.label){case 0:return r="".concat(this.getServerUrl(),"/").concat(e),n||(s=this.randomPart(),r+="-".concat(s)),[4,this.checkSubjectTaken(r)];case 1:return i=o.sent(),i?[2,this.findAvailableSubject(e,!1)]:[2,r]}})})},t}(),dc=function(){function t(){}return t}();function xr(t){if(t===void 0)throw new Error("Not an array: ".concat(t,", is ").concat(typeof t));if(t.constructor===Array)return t;throw new Error("Not an array: ".concat(t,", is a ").concat(typeof t))}var hc={getAll:"https://atomicdata.dev/classes/?page_size=999",agent:"https://atomicdata.dev/classes/Agent",chatRoom:"https://atomicdata.dev/classes/ChatRoom",collection:"https://atomicdata.dev/classes/Collection",commit:"https://atomicdata.dev/classes/Commit",class:"https://atomicdata.dev/classes/Class",document:"https://atomicdata.dev/classes/Document",bookmark:"https://atomicdata.dev/class/Bookmark",elements:{paragraph:"https://atomicdata.dev/classes/elements/Paragraph"},error:"https://atomicdata.dev/classes/Error",property:"https://atomicdata.dev/classes/Property",datatype:"https://atomicdata.dev/classes/Datatype",endpoint:"https://atomicdata.dev/classes/Endpoint",drive:"https://atomicdata.dev/classes/Drive",redirect:"https://atomicdata.dev/classes/Redirect",invite:"https://atomicdata.dev/classes/Invite",file:"https://atomicdata.dev/classes/File",message:"https://atomicdata.dev/classes/Message",importer:"https://atomicdata.dev/classes/Importer",folder:"https://atomicdata.dev/classes/Folder",displayStyle:"https://atomicdata.dev/class/DisplayStyle",displayStyles:{grid:"https://atomicdata.dev/display-style/grid",list:"https://atomicdata.dev/display-style/list"}},ze={getAll:"https://atomicdata.dev/properties/?page_size=999",children:"https://atomicdata.dev/properties/children",classType:"https://atomicdata.dev/properties/classtype",createdBy:"https://atomicdata.dev/properties/createdBy",datatype:"https://atomicdata.dev/properties/datatype",description:"https://atomicdata.dev/properties/description",drives:"https://atomicdata.dev/properties/drives",incomplete:"https://atomicdata.dev/properties/incomplete",isA:"https://atomicdata.dev/properties/isA",isDynamic:"https://atomicdata.dev/properties/isDynamic",name:"https://atomicdata.dev/properties/name",parent:"https://atomicdata.dev/properties/parent",paymentPointer:"https://atomicdata.dev/properties/paymentPointer",read:"https://atomicdata.dev/properties/read",recommends:"https://atomicdata.dev/properties/recommends",requires:"https://atomicdata.dev/properties/requires",shortname:"https://atomicdata.dev/properties/shortname",subResources:"https://atomicdata.dev/properties/subresources",write:"https://atomicdata.dev/properties/write",displayStyle:"https://atomicdata.dev/property/display-style",agent:{publicKey:"https://atomicdata.dev/properties/publicKey"},collection:{members:"https://atomicdata.dev/properties/collection/members",currentPage:"https://atomicdata.dev/properties/collection/currentPage",pageSize:"https://atomicdata.dev/properties/collection/pageSize",property:"https://atomicdata.dev/properties/collection/property",totalMembers:"https://atomicdata.dev/properties/collection/totalMembers",totalPages:"https://atomicdata.dev/properties/collection/totalPages",value:"https://atomicdata.dev/properties/collection/value"},commit:{subject:"https://atomicdata.dev/properties/subject",createdAt:"https://atomicdata.dev/properties/createdAt",lastCommit:"https://atomicdata.dev/properties/lastCommit",previousCommit:"https://atomicdata.dev/properties/previousCommit",signer:"https://atomicdata.dev/properties/signer",set:"https://atomicdata.dev/properties/set",push:"https://atomicdata.dev/properties/push",remove:"https://atomicdata.dev/properties/remove",destroy:"https://atomicdata.dev/properties/destroy",signature:"https://atomicdata.dev/properties/signature"},document:{elements:"https://atomicdata.dev/properties/documents/elements"},endpoint:{parameters:"https://atomicdata.dev/properties/endpoint/parameters",results:"https://atomicdata.dev/properties/endpoint/results"},search:{query:"https://atomicdata.dev/properties/search/query",limit:"https://atomicdata.dev/properties/search/limit",property:"https://atomicdata.dev/properties/search/property"},redirect:{destination:"https://atomicdata.dev/properties/destination",redirectAgent:"https://atomicdata.dev/properties/invite/redirectAgent"},invite:{agent:"https://atomicdata.dev/properties/invite/agent",publicKey:"https://atomicdata.dev/properties/invite/publicKey",target:"https://atomicdata.dev/properties/invite/target",usagesLeft:"https://atomicdata.dev/properties/invite/usagesLeft",users:"https://atomicdata.dev/properties/invite/users",write:"https://atomicdata.dev/properties/invite/write"},file:{filename:"https://atomicdata.dev/properties/filename",filesize:"https://atomicdata.dev/properties/filesize",downloadUrl:"https://atomicdata.dev/properties/downloadURL",mimetype:"https://atomicdata.dev/properties/mimetype",attachments:"https://atomicdata.dev/properties/attachments"},chatRoom:{messages:"https://atomicdata.dev/properties/messages",nextPage:"https://atomicdata.dev/properties/nextPage",replyTo:"https://atomicdata.dev/properties/replyTo"},bookmark:{url:"https://atomicdata.dev/property/url",preview:"https://atomicdata.dev/property/preview",imageUrl:"https://atomicdata.dev/properties/imageUrl"}},pc={atomicUrl:"https://atomicdata.dev/datatypes/atomicURL",boolean:"https://atomicdata.dev/datatypes/boolean",date:"https://atomicdata.dev/datatypes/date",float:"https://atomicdata.dev/datatypes/float",integer:"https://atomicdata.dev/datatypes/integer",markdown:"https://atomicdata.dev/datatypes/markdown",resourceArray:"https://atomicdata.dev/datatypes/resourceArray",slug:"https://atomicdata.dev/datatypes/slug",string:"https://atomicdata.dev/datatypes/string",timestamp:"https://atomicdata.dev/datatypes/timestamp"},_o={publicAgent:"https://atomicdata.dev/agents/publicAgent"},j={properties:ze,classes:hc,datatypes:pc,instances:_o};function gc(t){let e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:t[1]},{height:t[2]},{viewBox:t[0]},{stroke:t[3]},{fill:t[4]},t[6]],r={};for(let s=0;s<n.length;s+=1)r=Et(r,n[s]);return{c(){e=At("svg"),Ei(e,r)},m(s,i){q(s,e,i),e.innerHTML=t[5]},p(s,[i]){i&32&&(e.innerHTML=s[5]),Ei(e,r=Wr(n,[{xmlns:"http://www.w3.org/2000/svg"},i&2&&{width:s[1]},i&4&&{height:s[2]},i&1&&{viewBox:s[0]},i&8&&{stroke:s[3]},i&16&&{fill:s[4]},i&64&&s[6]]))},i:ie,o:ie,d(s){s&&z(e)}}}function mc(t){const n=/viewBox="([\d\- \.]+)"/.exec(t);return n?n[1]:"0 0 20 20"}function bc(t,e,n){let r;const s=["data","viewBox","size","width","height","color","stroke","fill"];let i=Vn(e,s),{data:o=""}=e,{viewBox:a=mc(o)}=e,{size:c="20px"}=e,{width:l=c}=e,{height:u=c}=e,{color:f="currentColor"}=e,{stroke:d=f}=e,{fill:g=f}=e;return t.$$set=h=>{e=Et(Et({},e),Gs(h)),n(6,i=Vn(e,s)),"data"in h&&n(7,o=h.data),"viewBox"in h&&n(0,a=h.viewBox),"size"in h&&n(8,c=h.size),"width"in h&&n(1,l=h.width),"height"in h&&n(2,u=h.height),"color"in h&&n(9,f=h.color),"stroke"in h&&n(3,d=h.stroke),"fill"in h&&n(4,g=h.fill)},t.$$.update=()=>{t.$$.dirty&128&&n(5,r=o.replace(/<svg ([^>]*)>/,"").replace("</svg>",""))},[a,l,u,d,g,r,i,o,c,f]}class On extends ye{constructor(e){super(),be(this,e,bc,gc,ge,{data:7,viewBox:0,size:8,width:1,height:2,color:9,stroke:3,fill:4})}}const yc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g></svg>',wo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g></svg>',_c=new fc({serverUrl:"https://atomicdata.dev"}),Tt=sr(_c),vo=(t,e)=>{const n=Jt(Tt);return sr(void 0,s=>{s(n.getResourceLoading(t,e));const i=o=>{s(o)};return n.subscribe(t,i),()=>n.unsubscribe(t,i)})},Ye=(t,e,n=!1)=>{const r=Jt(Tt);let s=Jt(t);t.subscribe(d=>s=d);let i=s.get(e);const o=new Set;let a=!1;const c=d=>{i=d.get(e),l()},l=()=>{for(const d of o)d(i)},u=async d=>{i=d,d===void 0?s.removePropVal(e):s.set(e,d,r,!1),n&&await s.save(r),await r.notify(s)};return{set(d){u(d).then(()=>{}),l()},subscribe(d){return a||(r.subscribe(s.getSubject(),c),a=!0),o.add(d),d(i),()=>{o.delete(d),o.size===0&&(r.unsubscribe(s.getSubject(),c),a=!1)}},update(d){u(d(i)).then(()=>{l()})}}},wc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g></svg>';function vc(t){let e,n,r;return{c(){e=D("input"),S(e,"type","text"),S(e,"placeholder",t[1]),e.disabled=t[2],e.required=t[3],S(e,"id",t[4]),e.autofocus=t[5],S(e,"class","svelte-1r0gtd3")},m(s,i){q(s,e,i),Xt(e,t[0]),t[5]&&e.focus(),n||(r=[se(e,"input",t[8]),se(e,"blur",t[6]),se(e,"keydown",t[7])],n=!0)},p(s,[i]){i&2&&S(e,"placeholder",s[1]),i&4&&(e.disabled=s[2]),i&8&&(e.required=s[3]),i&16&&S(e,"id",s[4]),i&32&&(e.autofocus=s[5]),i&1&&e.value!==s[0]&&Xt(e,s[0])},i:ie,o:ie,d(s){s&&z(e),n=!1,Pe(r)}}}function Sc(t,e,n){let{value:r}=e,{placeholder:s=void 0}=e,{disabled:i=void 0}=e,{required:o=void 0}=e,{id:a=void 0}=e,{autofocus:c=void 0}=e;function l(d){Fe.call(this,t,d)}function u(d){Fe.call(this,t,d)}function f(){r=this.value,n(0,r)}return t.$$set=d=>{"value"in d&&n(0,r=d.value),"placeholder"in d&&n(1,s=d.placeholder),"disabled"in d&&n(2,i=d.disabled),"required"in d&&n(3,o=d.required),"id"in d&&n(4,a=d.id),"autofocus"in d&&n(5,c=d.autofocus)},[r,s,i,o,a,c,l,u,f]}class Qn extends ye{constructor(e){super(),be(this,e,Sc,vc,ge,{value:0,placeholder:1,disabled:2,required:3,id:4,autofocus:5})}}const Qt=t=>t.toLowerCase().replace(/\s/g,"-");function Ec(t){let e,n,r,s,i,o,a,c,l;return o=new On({props:{data:wc,fill:"white"}}),{c(){e=D("button"),n=D("h2"),r=ve(t[0]),s=J(),i=D("span"),ee(o.$$.fragment),S(n,"class","svelte-nu5lcg"),S(i,"class","icon svelte-nu5lcg"),S(e,"class","svelte-nu5lcg")},m(u,f){q(u,e,f),O(e,n),O(n,r),O(e,s),O(e,i),Y(o,i,null),a=!0,c||(l=se(e,"click",t[2]),c=!0)},p(u,f){(!a||f&1)&&De(r,u[0])},i(u){a||(k(o.$$.fragment,u),a=!0)},o(u){I(o.$$.fragment,u),a=!1},d(u){u&&z(e),Q(o),c=!1,l()}}}function Ac(t){let e,n,r;function s(o){t[5](o)}let i={autofocus:!0};return t[0]!==void 0&&(i.value=t[0]),e=new Qn({props:i}),Se.push(()=>Ue(e,"value",s,t[0])),e.$on("blur",t[3]),e.$on("keydown",t[4]),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,a){const c={};!n&&a&1&&(n=!0,c.value=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function kc(t){let e,n,r,s;const i=[Ac,Ec],o=[];function a(c,l){return c[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ut()},m(c,l){o[e].m(c,l),q(c,r,l),s=!0},p(c,[l]){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),I(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){I(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Rc(t,e,n){let{title:r}=e,s=!1;const i=()=>{n(1,s=!0)},o=()=>{n(1,s=!1)},a=l=>{l.key==="Enter"&&o()};function c(l){r=l,n(0,r)}return t.$$set=l=>{"title"in l&&n(0,r=l.title)},t.$$.update=()=>{t.$$.dirty&1&&r!==Qt(r)&&n(0,r=Qt(r))},[r,s,i,o,a,c]}class Tc extends ye{constructor(e){super(),be(this,e,Rc,kc,ge,{title:0})}}function Oc(t){let e,n,r,s,i;return n=new On({props:{data:t[0],size:t[1]}}),{c(){e=D("button"),ee(n.$$.fragment),e.disabled=t[2],S(e,"title",t[3]),S(e,"type","button"),S(e,"class","svelte-1vch9z4")},m(o,a){q(o,e,a),Y(n,e,null),r=!0,s||(i=se(e,"click",t[4]),s=!0)},p(o,[a]){const c={};a&1&&(c.data=o[0]),a&2&&(c.size=o[1]),n.$set(c),(!r||a&4)&&(e.disabled=o[2]),(!r||a&8)&&S(e,"title",o[3])},i(o){r||(k(n.$$.fragment,o),r=!0)},o(o){I(n.$$.fragment,o),r=!1},d(o){o&&z(e),Q(n),s=!1,i()}}}function Cc(t,e,n){let{icon:r}=e,{size:s="1rem"}=e,{disabled:i=!1}=e,{title:o}=e;function a(c){Fe.call(this,t,c)}return t.$$set=c=>{"icon"in c&&n(0,r=c.icon),"size"in c&&n(1,s=c.size),"disabled"in c&&n(2,i=c.disabled),"title"in c&&n(3,o=c.title)},[r,s,i,o,a]}class $t extends ye{constructor(e){super(),be(this,e,Cc,Oc,ge,{icon:0,size:1,disabled:2,title:3})}}const So='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g></svg>',Eo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g></svg>';function Bc(t){let e,n,r,s;const i=t[6].default,o=Te(i,t,t[5],null);return{c(){e=D("select"),o&&o.c(),S(e,"name",t[1]),S(e,"id",t[2]),e.disabled=t[3],e.required=t[4],S(e,"class","svelte-10ivlg5"),t[0]===void 0&&Zt(()=>t[8].call(e))},m(a,c){q(a,e,c),o&&o.m(e,null),Ai(e,t[0]),n=!0,r||(s=[se(e,"change",t[7]),se(e,"change",t[8])],r=!0)},p(a,[c]){o&&o.p&&(!n||c&32)&&Ce(o,i,a,a[5],n?Oe(i,a[5],c,null):Be(a[5]),null),(!n||c&2)&&S(e,"name",a[1]),(!n||c&4)&&S(e,"id",a[2]),(!n||c&8)&&(e.disabled=a[3]),(!n||c&16)&&(e.required=a[4]),c&1&&Ai(e,a[0])},i(a){n||(k(o,a),n=!0)},o(a){I(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,Pe(s)}}}function xc(t,e,n){let{$$slots:r={},$$scope:s}=e,{name:i=void 0}=e,{id:o=void 0}=e,{disabled:a=void 0}=e,{required:c=void 0}=e,{value:l=void 0}=e;function u(d){Fe.call(this,t,d)}function f(){l=ql(this),n(0,l)}return t.$$set=d=>{"name"in d&&n(1,i=d.name),"id"in d&&n(2,o=d.id),"disabled"in d&&n(3,a=d.disabled),"required"in d&&n(4,c=d.required),"value"in d&&n(0,l=d.value),"$$scope"in d&&n(5,s=d.$$scope)},[l,i,o,a,c,s,r,u,f]}class Mc extends ye{constructor(e){super(),be(this,e,xc,Bc,ge,{name:1,id:2,disabled:3,required:4,value:0})}}const Ic=(t,e)=>{const n=new URL(`${t}/collections`);return n.searchParams.set("property",j.properties.isA),n.searchParams.set("value",e),n.searchParams.set("page_size","1000"),n.toString()},Nc=async t=>Jt(Tt).getResourceAsync(t),Ao=async(t,e)=>{const n=await Promise.all(t.map(async r=>{const s=Ic(r,e);return(await Nc(s)).get(j.properties.collection.members)}));return Array.from(new Set(n.flat()))},gn=Rn(["https://atomicdata.dev"]),ko=sr([],t=>gn.subscribe(e=>{Ao(e,j.classes.property).then(n=>{t(n)})})),Lc=sr([],t=>gn.subscribe(e=>{Ao(e,j.classes.class).then(n=>{t(n)})})),jc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',Uc=t=>({}),zi=t=>({}),Dc=t=>({}),Fi=t=>({}),Pc=t=>({}),qi=t=>({});function Hc(t){let e,n,r,s,i,o,a,c,l,u;const f=t[4].title,d=Te(f,t,t[3],qi);s=new $t({props:{icon:jc,title:"close"}}),s.$on("click",t[1]);const g=t[4].content,h=Te(g,t,t[3],Fi),m=t[4].controls,_=Te(m,t,t[3],zi);return{c(){e=D("dialog"),n=D("div"),d&&d.c(),r=J(),ee(s.$$.fragment),i=J(),h&&h.c(),o=J(),a=D("div"),c=J(),l=D("div"),_&&_.c(),S(n,"class","titlebar svelte-m4sz2l"),S(a,"class","line svelte-m4sz2l"),S(l,"class","controls svelte-m4sz2l"),S(e,"class","svelte-m4sz2l")},m(E,P){q(E,e,P),O(e,n),d&&d.m(n,null),O(n,r),Y(s,n,null),O(e,i),h&&h.m(e,null),O(e,o),O(e,a),O(e,c),O(e,l),_&&_.m(l,null),t[5](e),u=!0},p(E,[P]){d&&d.p&&(!u||P&8)&&Ce(d,f,E,E[3],u?Oe(f,E[3],P,Pc):Be(E[3]),qi),h&&h.p&&(!u||P&8)&&Ce(h,g,E,E[3],u?Oe(g,E[3],P,Dc):Be(E[3]),Fi),_&&_.p&&(!u||P&8)&&Ce(_,m,E,E[3],u?Oe(m,E[3],P,Uc):Be(E[3]),zi)},i(E){u||(k(d,E),k(s.$$.fragment,E),k(h,E),k(_,E),u=!0)},o(E){I(d,E),I(s.$$.fragment,E),I(h,E),I(_,E),u=!1},d(E){E&&z(e),d&&d.d(E),Q(s),h&&h.d(E),_&&_.d(E),t[5](null)}}}function zc(t,e,n){let{$$slots:r={},$$scope:s}=e,{show:i=!1}=e,o;const a=()=>{n(2,i=!1)};function c(l){Se[l?"unshift":"push"](()=>{o=l,n(0,o)})}return t.$$set=l=>{"show"in l&&n(2,i=l.show),"$$scope"in l&&n(3,s=l.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&o&&i&&o.showModal(),t.$$.dirty&5&&o&&!i&&o.close()},[o,a,i,s,r,c]}class Ro extends ye{constructor(e){super(),be(this,e,zc,Hc,ge,{show:2})}}function Cn(t){return t.split("-")[0]}function ni(t){return t.split("-")[1]}function ar(t){return["top","bottom"].includes(Cn(t))?"x":"y"}function To(t){return t==="y"?"height":"width"}function Wi(t,e,n){let{reference:r,floating:s}=t;const i=r.x+r.width/2-s.width/2,o=r.y+r.height/2-s.height/2,a=ar(e),c=To(a),l=r[c]/2-s[c]/2,u=Cn(e),f=a==="x";let d;switch(u){case"top":d={x:i,y:r.y-s.height};break;case"bottom":d={x:i,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:o};break;case"left":d={x:r.x-s.width,y:o};break;default:d={x:r.x,y:r.y}}switch(ni(e)){case"start":d[a]-=l*(n&&f?-1:1);break;case"end":d[a]+=l*(n&&f?-1:1);break}return d}const Fc=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=Wi(l,r,c),d=r,g={},h=0;for(let m=0;m<a.length;m++){const{name:_,fn:E}=a[m],{x:P,y:U,data:L,reset:W}=await E({x:u,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:g,rects:l,platform:o,elements:{reference:t,floating:e}});if(u=P??u,f=U??f,g={...g,[_]:{...g[_],...L}},W&&h<=50){h++,typeof W=="object"&&(W.placement&&(d=W.placement),W.rects&&(l=W.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):W.rects),{x:u,y:f}=Wi(l,d,c)),m=-1;continue}}return{x:u,y:f,placement:d,strategy:s,middlewareData:g}};function qc(t){return{top:0,right:0,bottom:0,left:0,...t}}function Wc(t){return typeof t!="number"?qc(t):{top:t,right:t,bottom:t,left:t}}function $n(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function Oo(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:g=0}=e,h=Wc(g),_=a[d?f==="floating"?"reference":"floating":f],E=$n(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),P=f==="floating"?{...o.floating,x:r,y:s}:o.reference,U=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),L=await(i.isElement==null?void 0:i.isElement(U))?await(i.getScale==null?void 0:i.getScale(U))||{x:1,y:1}:{x:1,y:1},W=$n(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:P,offsetParent:U,strategy:c}):P);return{top:(E.top-W.top+h.top)/L.y,bottom:(W.bottom-E.bottom+h.bottom)/L.y,left:(E.left-W.left+h.left)/L.x,right:(W.right-E.right+h.right)/L.x}}const Vc=Math.min,Gc=Math.max;function Vi(t,e,n){return Gc(t,Vc(e,n))}const Kc={left:"right",right:"left",bottom:"top",top:"bottom"};function er(t){return t.replace(/left|right|bottom|top/g,e=>Kc[e])}function Jc(t,e,n){n===void 0&&(n=!1);const r=ni(t),s=ar(t),i=To(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=er(o)),{main:o,cross:er(o)}}const Xc={start:"end",end:"start"};function Gi(t){return t.replace(/start|end/g,e=>Xc[e])}function Zc(t){const e=er(t);return[Gi(t),e,Gi(e)]}const Yc=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:a,elements:c}=e,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:g=!0,...h}=t,m=Cn(r),E=f||(m===o||!g?[er(o)]:Zc(o)),P=[o,...E],U=await Oo(e,h),L=[];let W=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&L.push(U[m]),u){const{main:F,cross:K}=Jc(r,i,await(a.isRTL==null?void 0:a.isRTL(c.floating)));L.push(U[F],U[K])}if(W=[...W,{placement:r,overflows:L}],!L.every(F=>F<=0)){var N,R;const F=((N=(R=s.flip)==null?void 0:R.index)!=null?N:0)+1,K=P[F];if(K)return{data:{index:F,overflows:W},reset:{placement:K}};let v="bottom";switch(d){case"bestFit":{var C;const Z=(C=W.map(oe=>[oe,oe.overflows.filter(b=>b>0).reduce((b,w)=>b+w,0)]).sort((oe,b)=>oe[1]-b[1])[0])==null?void 0:C[0].placement;Z&&(v=Z);break}case"initialPlacement":v=o;break}if(r!==v)return{reset:{placement:v}}}return{}}}};async function Qc(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cn(n),a=ni(n),c=ar(n)==="x",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=typeof e=="function"?e(t):e;let{mainAxis:d,crossAxis:g,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof h=="number"&&(g=a==="end"?h*-1:h),c?{x:g*u,y:d*l}:{x:d*l,y:g*u}}const $c=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,s=await Qc(e,t);return{x:n+s.x,y:r+s.y,data:s}}}};function eu(t){return t==="x"?"y":"x"}const tu=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:E,y:P}=_;return{x:E,y:P}}},...c}=t,l={x:n,y:r},u=await Oo(e,c),f=ar(Cn(s)),d=eu(f);let g=l[f],h=l[d];if(i){const _=f==="y"?"top":"left",E=f==="y"?"bottom":"right",P=g+u[_],U=g-u[E];g=Vi(P,g,U)}if(o){const _=d==="y"?"top":"left",E=d==="y"?"bottom":"right",P=h+u[_],U=h-u[E];h=Vi(P,h,U)}const m=a.fn({...e,[f]:g,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function ft(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function et(t){return ft(t).getComputedStyle(t)}function kt(t){return Bo(t)?(t.nodeName||"").toLowerCase():""}let zn;function Co(){if(zn)return zn;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(zn=t.brands.map(e=>e.brand+"/"+e.version).join(" "),zn):navigator.userAgent}function ct(t){return t instanceof ft(t).HTMLElement}function We(t){return t instanceof ft(t).Element}function Bo(t){return t instanceof ft(t).Node}function Ki(t){if(typeof ShadowRoot>"u")return!1;const e=ft(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=et(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(s)}function nu(t){return["table","td","th"].includes(kt(t))}function ri(t){const e=/firefox/i.test(Co()),n=et(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(r?r!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{const i=n.contain;return i!=null?i.includes(s):!1})}function xo(){return!/^((?!chrome|android).)*safari/i.test(Co())}function ii(t){return["html","body","#document"].includes(kt(t))}const Mo={x:1,y:1};function wn(t){const e=!We(t)&&t.contextElement?t.contextElement:We(t)?t:null;if(!e)return Mo;const n=e.getBoundingClientRect(),r=et(e);let s=n.width/parseFloat(r.width),i=n.height/parseFloat(r.height);return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}function Rt(t,e,n,r){var s,i,o,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect();let l=Mo;e&&(r?We(r)&&(l=wn(r)):l=wn(t));const u=We(t)?ft(t):window,f=!xo()&&n,d=(c.left+(f&&(s=(i=u.visualViewport)==null?void 0:i.offsetLeft)!=null?s:0))/l.x,g=(c.top+(f&&(o=(a=u.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/l.y,h=c.width/l.x,m=c.height/l.y;return{width:h,height:m,top:g,right:d+h,bottom:g+m,left:d,x:d,y:g}}function Ot(t){return((Bo(t)?t.ownerDocument:t.document)||window.document).documentElement}function ur(t){return We(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Io(t){return Rt(Ot(t)).left+ur(t).scrollLeft}function ru(t,e,n){const r=ct(e),s=Ot(e),i=Rt(t,!0,n==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((kt(e)!=="body"||cr(s))&&(o=ur(e)),ct(e)){const c=Rt(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else s&&(a.x=Io(s));return{x:i.left+o.scrollLeft-a.x,y:i.top+o.scrollTop-a.y,width:i.width,height:i.height}}function vn(t){if(kt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(Ki(t)?t.host:null)||Ot(t);return Ki(e)?e.host:e}function Ji(t){return!ct(t)||et(t).position==="fixed"?null:t.offsetParent}function iu(t){let e=vn(t);for(;ct(e)&&!ii(e);){if(ri(e))return e;e=vn(e)}return null}function Xi(t){const e=ft(t);let n=Ji(t);for(;n&&nu(n)&&et(n).position==="static";)n=Ji(n);return n&&(kt(n)==="html"||kt(n)==="body"&&et(n).position==="static"&&!ri(n))?e:n||iu(t)||e}function su(t){if(ct(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Rt(t);return{width:e.width,height:e.height}}function ou(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=ct(n),i=Ot(n);if(n===i)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((s||!s&&r!=="fixed")&&((kt(n)!=="body"||cr(i))&&(o=ur(n)),ct(n))){const l=Rt(n);a=wn(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function lu(t,e){const n=ft(t),r=Ot(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=xo();(l||!l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const Zi=Math.min,mn=Math.max;function au(t){var e;const n=Ot(t),r=ur(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=mn(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=mn(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let a=-r.scrollLeft+Io(t);const c=-r.scrollTop;return et(s||n).direction==="rtl"&&(a+=mn(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function No(t){const e=vn(t);return ii(e)?t.ownerDocument.body:ct(e)&&cr(e)?e:No(e)}function bn(t,e){var n;e===void 0&&(e=[]);const r=No(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ft(r);return s?e.concat(i,i.visualViewport||[],cr(r)?r:[]):e.concat(r,bn(r))}function cu(t,e){const n=Rt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ct(t)?wn(t):{x:1,y:1},o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{top:l,left:c,right:c+o,bottom:l+a,x:c,y:l,width:o,height:a}}function Yi(t,e,n){return e==="viewport"?$n(lu(t,n)):We(e)?cu(e,n):$n(au(Ot(t)))}function uu(t,e){const n=e.get(t);if(n)return n;let r=bn(t).filter(a=>We(a)&&kt(a)!=="body"),s=null;const i=et(t).position==="fixed";let o=i?vn(t):t;for(;We(o)&&!ii(o);){const a=et(o),c=ri(o);(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position))?r=r.filter(u=>u!==o):s=a,o=vn(o)}return e.set(t,r),r}function fu(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?uu(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=Yi(e,u,s);return l.top=mn(f.top,l.top),l.right=Zi(f.right,l.right),l.bottom=Zi(f.bottom,l.bottom),l.left=mn(f.left,l.left),l},Yi(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const du={getClippingRect:fu,convertOffsetParentRelativeRectToViewportRelativeRect:ou,isElement:We,getDimensions:su,getOffsetParent:Xi,getDocumentElement:Ot,getScale:wn,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const s=this.getOffsetParent||Xi,i=this.getDimensions;return{reference:ru(e,await s(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>et(t).direction==="rtl"};function hu(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=!0,animationFrame:a=!1}=r,c=s&&!a,l=c||i?[...We(t)?bn(t):t.contextElement?bn(t.contextElement):[],...bn(e)]:[];l.forEach(h=>{c&&h.addEventListener("scroll",n,{passive:!0}),i&&h.addEventListener("resize",n)});let u=null;if(o){let h=!0;u=new ResizeObserver(()=>{h||n(),h=!1}),We(t)&&!a&&u.observe(t),!We(t)&&t.contextElement&&!a&&u.observe(t.contextElement),u.observe(e)}let f,d=a?Rt(t):null;a&&g();function g(){const h=Rt(t);d&&(h.x!==d.x||h.y!==d.y||h.width!==d.width||h.height!==d.height)&&n(),d=h,f=requestAnimationFrame(g)}return n(),()=>{var h;l.forEach(m=>{c&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),(h=u)==null||h.disconnect(),u=null,a&&cancelAnimationFrame(f)}}const pu=(t,e,n)=>{const r=new Map,s={platform:du,...n},i={...s.platform,_c:r};return Fc(t,e,{...s,platform:i})};function gu(t){let e,n;const r={autoUpdate:!0};let s=t;const i=l=>({...r,...t||{},...l||{}}),o=l=>{e&&n&&(s=i(l),pu(e,n,s).then(u=>{Object.assign(n.style,{position:u.strategy,left:`${u.x}px`,top:`${u.y}px`}),s!=null&&s.onComputed&&s.onComputed(u)}))};return[l=>{e=l,o()},(l,u)=>{let f;n=l,s=i(u),setTimeout(()=>o(u),0),o(u);const d=()=>{f&&(f(),f=void 0)},g=({autoUpdate:h}=s||{})=>{if(d(),h!==!1)return hu(e,n,()=>o(s),h===!0?{}:h)};return f=g(),{update(h){o(h),f=g(h)},destroy(){d()}}},o]}function mu({loadOptions:t,filterText:e,items:n,multiple:r,value:s,itemId:i,groupBy:o,filterSelectedItems:a,itemFilter:c,convertStringItemsToObjects:l,filterGroupedItems:u,label:f}){if(n&&t)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!="object"&&(n=l(n));let d=n.filter(g=>{let h=c(g[f],e,g);return h&&r&&(s==null?void 0:s.length)&&(h=!s.some(m=>a?m[i]===g[i]:!1)),h});return o&&(d=u(d)),d}async function bu({dispatch:t,loadOptions:e,convertStringItemsToObjects:n,filterText:r}){let s=await e(r).catch(i=>{console.warn("svelte-select loadOptions error :>> ",i),t("error",{type:"loadOptions",details:i})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=n(s)),t("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function yu(t){let e,n;return{c(){e=At("svg"),n=At("path"),S(n,"fill","currentColor"),S(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),S(e,"width","100%"),S(e,"height","100%"),S(e,"viewBox","0 0 20 20"),S(e,"focusable","false"),S(e,"aria-hidden","true"),S(e,"class","svelte-qbd276")},m(r,s){q(r,e,s),O(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class _u extends ye{constructor(e){super(),be(this,e,null,yu,ge,{})}}function wu(t){let e,n;return{c(){e=At("svg"),n=At("path"),S(n,"fill","currentColor"),S(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),S(e,"width","100%"),S(e,"height","100%"),S(e,"viewBox","-2 -2 50 50"),S(e,"focusable","false"),S(e,"aria-hidden","true"),S(e,"role","presentation"),S(e,"class","svelte-whdbu1")},m(r,s){q(r,e,s),O(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class tr extends ye{constructor(e){super(),be(this,e,null,wu,ge,{})}}function vu(t){let e,n;return{c(){e=At("svg"),n=At("circle"),S(n,"class","circle_path svelte-1p3nqvd"),S(n,"cx","50"),S(n,"cy","50"),S(n,"r","20"),S(n,"fill","none"),S(n,"stroke","currentColor"),S(n,"stroke-width","5"),S(n,"stroke-miterlimit","10"),S(e,"class","loading svelte-1p3nqvd"),S(e,"viewBox","25 25 50 50")},m(r,s){q(r,e,s),O(e,n)},p:ie,i:ie,o:ie,d(r){r&&z(e)}}}class Su extends ye{constructor(e){super(),be(this,e,null,vu,ge,{})}}const Eu=t=>({value:t[0]&8}),Qi=t=>({value:t[3]}),Au=t=>({listOpen:t[0]&64}),$i=t=>({listOpen:t[6]}),ku=t=>({}),es=t=>({}),Ru=t=>({}),ts=t=>({}),Tu=t=>({selection:t[0]&8}),ns=t=>({selection:t[3]});function rs(t,e,n){const r=t.slice();return r[127]=e[n],r[129]=n,r}const Ou=t=>({}),is=t=>({}),Cu=t=>({selection:t[0]&8}),ss=t=>({selection:t[127],index:t[129]}),Bu=t=>({}),os=t=>({}),xu=t=>({}),ls=t=>({});function as(t,e,n){const r=t.slice();return r[127]=e[n],r[129]=n,r}const Mu=t=>({item:t[0]&16777216}),cs=t=>({item:t[127],index:t[129]}),Iu=t=>({filteredItems:t[0]&16777216}),us=t=>({filteredItems:t[24]});function fs(t){let e,n,r,s,i,o;const a=[ju,Lu,Nu],c=[];function l(u,f){return u[50].list?0:u[24].length>0?1:u[19]?-1:2}return~(n=l(t))&&(r=c[n]=a[n](t)),{c(){e=D("div"),r&&r.c(),S(e,"class","svelte-select-list svelte-18e845"),te(e,"prefloat",t[28])},m(u,f){q(u,e,f),~n&&c[n].m(e,null),t[91](e),s=!0,i||(o=[Gn(t[49].call(null,e)),se(e,"scroll",t[41]),se(e,"pointerdown",at($e(t[85]))),se(e,"pointerup",at($e(t[86])))],i=!0)},p(u,f){let d=n;n=l(u),n===d?~n&&c[n].p(u,f):(r&&(xe(),I(c[d],1,1,()=>{c[d]=null}),Me()),~n?(r=c[n],r?r.p(u,f):(r=c[n]=a[n](u),r.c()),k(r,1),r.m(e,null)):r=null),(!s||f[0]&268435456)&&te(e,"prefloat",u[28])},i(u){s||(k(r),s=!0)},o(u){I(r),s=!1},d(u){u&&z(e),~n&&c[n].d(),t[91](null),i=!1,Pe(o)}}}function Nu(t){let e;const n=t[80].empty,r=Te(n,t,t[79],ls),s=r||Uu();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,xu):Be(i[79]),ls)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function Lu(t){let e,n,r=t[24],s=[];for(let o=0;o<r.length;o+=1)s[o]=ds(as(t,r,o));const i=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);q(o,e,a),n=!0},p(o,a){if(a[0]&1627402376|a[1]&28672|a[2]&131072){r=o[24];let c;for(c=0;c<r.length;c+=1){const l=as(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=ds(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){qr(s,o),o&&z(e)}}}function ju(t){let e;const n=t[80].list,r=Te(n,t,t[79],us);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i[0]&16777216|i[2]&131072)&&Ce(r,n,s,s[79],e?Oe(n,s[79],i,Iu):Be(s[79]),us)},i(s){e||(k(r,s),e=!0)},o(s){I(r,s),e=!1},d(s){r&&r.d(s)}}}function Uu(t){let e;return{c(){e=D("div"),e.textContent="No options",S(e,"class","empty svelte-18e845")},m(n,r){q(n,e,r)},p:ie,d(n){n&&z(e)}}}function Du(t){var r;let e=((r=t[127])==null?void 0:r[t[12]])+"",n;return{c(){n=ve(e)},m(s,i){q(s,n,i)},p(s,i){var o;i[0]&16781312&&e!==(e=((o=s[127])==null?void 0:o[s[12]])+"")&&De(n,e)},d(s){s&&z(n)}}}function ds(t){let e,n,r,s,i,o,a,c;const l=t[80].item,u=Te(l,t,t[79],cs),f=u||Du(t);function d(){return t[88](t[129])}function g(){return t[89](t[129])}function h(){return t[90](t[127],t[129])}return{c(){var m;e=D("div"),n=D("div"),f&&f.c(),i=J(),S(n,"class","item svelte-18e845"),te(n,"list-group-title",t[127].groupHeader),te(n,"active",t[45](t[127],t[3],t[13])),te(n,"first",Xu(t[129])),te(n,"hover",t[7]===t[129]),te(n,"group-item",t[127].groupItem),te(n,"not-selectable",((m=t[127])==null?void 0:m.selectable)===!1),S(e,"class","list-item svelte-18e845"),S(e,"tabindex","-1")},m(m,_){q(m,e,_),O(e,n),f&&f.m(n,null),O(e,i),o=!0,a||(c=[Gn(r=t[46].call(null,n,{scroll:t[45](t[127],t[3],t[13]),listDom:t[30]})),Gn(s=t[47].call(null,n,{scroll:t[29]===t[129],listDom:t[30]})),se(e,"mouseover",d),se(e,"focus",g),se(e,"click",at(h)),se(e,"keydown",at($e(t[87])))],a=!0)},p(m,_){var E;t=m,u?u.p&&(!o||_[0]&16777216|_[2]&131072)&&Ce(u,l,t,t[79],o?Oe(l,t[79],_,Mu):Be(t[79]),cs):f&&f.p&&(!o||_[0]&16781312)&&f.p(t,o?_:[-1,-1,-1,-1,-1]),r&&Kt(r.update)&&_[0]&1090527240&&r.update.call(null,{scroll:t[45](t[127],t[3],t[13]),listDom:t[30]}),s&&Kt(s.update)&&_[0]&1610612736&&s.update.call(null,{scroll:t[29]===t[129],listDom:t[30]}),(!o||_[0]&16777216)&&te(n,"list-group-title",t[127].groupHeader),(!o||_[0]&16785416|_[1]&16384)&&te(n,"active",t[45](t[127],t[3],t[13])),(!o||_[0]&128)&&te(n,"hover",t[7]===t[129]),(!o||_[0]&16777216)&&te(n,"group-item",t[127].groupItem),(!o||_[0]&16777216)&&te(n,"not-selectable",((E=t[127])==null?void 0:E.selectable)===!1)},i(m){o||(k(f,m),o=!0)},o(m){I(f,m),o=!1},d(m){m&&z(e),f&&f.d(m),a=!1,Pe(c)}}}function hs(t){let e,n,r,s,i;return{c(){e=D("span"),n=ve(t[32]),r=J(),s=D("span"),i=ve(t[31]),S(e,"id","aria-selection"),S(e,"class","svelte-18e845"),S(s,"id","aria-context"),S(s,"class","svelte-18e845")},m(o,a){q(o,e,a),O(e,n),q(o,r,a),q(o,s,a),O(s,i)},p(o,a){a[1]&2&&De(n,o[32]),a[1]&1&&De(i,o[31])},d(o){o&&z(e),o&&z(r),o&&z(s)}}}function ps(t){let e,n,r,s;const i=[Hu,Pu],o=[];function a(c,l){return c[9]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ut()},m(c,l){o[e].m(c,l),q(c,r,l),s=!0},p(c,l){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),I(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){I(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Pu(t){let e,n;const r=t[80].selection,s=Te(r,t,t[79],ns),i=s||zu(t);return{c(){e=D("div"),i&&i.c(),S(e,"class","selected-item svelte-18e845"),te(e,"hide-selected-item",t[35])},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s?s.p&&(!n||a[0]&8|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Tu):Be(o[79]),ns):i&&i.p&&(!n||a[0]&4104)&&i.p(o,n?a:[-1,-1,-1,-1,-1]),(!n||a[1]&16)&&te(e,"hide-selected-item",o[35])},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Hu(t){let e,n,r=t[3],s=[];for(let o=0;o<r.length;o+=1)s[o]=ms(rs(t,r,o));const i=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);q(o,e,a),n=!0},p(o,a){if(a[0]&67116040|a[1]&32|a[2]&131072){r=o[3];let c;for(c=0;c<r.length;c+=1){const l=rs(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=ms(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){qr(s,o),o&&z(e)}}}function zu(t){let e=t[3][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){q(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[3][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function Fu(t){let e=t[127][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){q(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[127][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function gs(t){let e,n,r,s;const i=t[80]["multi-clear-icon"],o=Te(i,t,t[79],is),a=o||qu();function c(){return t[92](t[129])}return{c(){e=D("div"),a&&a.c(),S(e,"class","multi-item-clear svelte-18e845")},m(l,u){q(l,e,u),a&&a.m(e,null),n=!0,r||(s=[se(e,"pointerdown",at($e(t[83]))),se(e,"click",c),se(e,"keydown",at($e(t[84])))],r=!0)},p(l,u){t=l,o&&o.p&&(!n||u[2]&131072)&&Ce(o,i,t,t[79],n?Oe(i,t[79],u,Ou):Be(t[79]),is)},i(l){n||(k(a,l),n=!0)},o(l){I(a,l),n=!1},d(l){l&&z(e),a&&a.d(l),r=!1,Pe(s)}}}function qu(t){let e,n;return e=new tr({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ms(t){let e,n,r,s,i,o,a;const c=t[80].selection,l=Te(c,t,t[79],ss),u=l||Fu(t);let f=!t[11]&&!t[10]&&tr&&gs(t);function d(){return t[93](t[129])}return{c(){e=D("div"),n=D("span"),u&&u.c(),r=J(),f&&f.c(),s=J(),S(n,"class","multi-item-text svelte-18e845"),S(e,"class","multi-item svelte-18e845"),te(e,"active",t[26]===t[129]),te(e,"disabled",t[11])},m(g,h){q(g,e,h),O(e,n),u&&u.m(n,null),O(e,r),f&&f.m(e,null),O(e,s),i=!0,o||(a=[se(e,"click",$e(d)),se(e,"keydown",at($e(t[82])))],o=!0)},p(g,h){t=g,l?l.p&&(!i||h[0]&8|h[2]&131072)&&Ce(l,c,t,t[79],i?Oe(c,t[79],h,Cu):Be(t[79]),ss):u&&u.p&&(!i||h[0]&4104)&&u.p(t,i?h:[-1,-1,-1,-1,-1]),!t[11]&&!t[10]&&tr?f?(f.p(t,h),h[0]&3072&&k(f,1)):(f=gs(t),f.c(),k(f,1),f.m(e,s)):f&&(xe(),I(f,1,1,()=>{f=null}),Me()),(!i||h[0]&67108864)&&te(e,"active",t[26]===t[129]),(!i||h[0]&2048)&&te(e,"disabled",t[11])},i(g){i||(k(u,g),k(f),i=!0)},o(g){I(u,g),I(f),i=!1},d(g){g&&z(e),u&&u.d(g),f&&f.d(),o=!1,Pe(a)}}}function bs(t){let e,n;const r=t[80]["loading-icon"],s=Te(r,t,t[79],ts),i=s||Wu();return{c(){e=D("div"),i&&i.c(),S(e,"class","icon loading svelte-18e845"),S(e,"aria-hidden","true")},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Ru):Be(o[79]),ts)},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Wu(t){let e,n;return e=new Su({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ys(t){let e,n,r,s;const i=t[80]["clear-icon"],o=Te(i,t,t[79],es),a=o||Vu();return{c(){e=D("button"),a&&a.c(),S(e,"class","icon clear-select svelte-18e845"),S(e,"tabindex","0")},m(c,l){q(c,e,l),a&&a.m(e,null),n=!0,r||(s=[se(e,"click",at($e(t[22]))),se(e,"pointerdown",at($e(t[81])))],r=!0)},p(c,l){o&&o.p&&(!n||l[2]&131072)&&Ce(o,i,c,c[79],n?Oe(i,c[79],l,ku):Be(c[79]),es)},i(c){n||(k(a,c),n=!0)},o(c){I(a,c),n=!1},d(c){c&&z(e),a&&a.d(c),r=!1,Pe(s)}}}function Vu(t){let e,n;return e=new tr({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function _s(t){let e,n;const r=t[80]["chevron-icon"],s=Te(r,t,t[79],$i),i=s||Gu();return{c(){e=D("div"),i&&i.c(),S(e,"class","icon chevron svelte-18e845"),S(e,"aria-hidden","true")},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[0]&64|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Au):Be(o[79]),$i)},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Gu(t){let e,n;return e=new _u({}),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function ws(t){let e;const n=t[80].required,r=Te(n,t,t[79],Qi),s=r||Ku();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[0]&8|o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,Eu):Be(i[79]),Qi)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function Ku(t){let e;return{c(){e=D("select"),S(e,"class","required svelte-18e845"),e.required=!0},m(n,r){q(n,e,r)},p:ie,d(n){n&&z(e)}}}function Ju(t){let e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_,E,P,U,L,W,N,R=t[6]&&fs(t),C=t[2]&&hs(t);const F=t[80].prepend,K=Te(F,t,t[79],os);let v=t[25]&&ps(t),Z=[{readOnly:u=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],oe={};for(let A=0;A<Z.length;A+=1)oe=Et(oe,Z[A]);let b=t[5]&&bs(t),w=t[34]&&ys(t),y=t[20]&&_s(t),B=t[16]&&(!t[3]||t[3].length===0)&&ws(t);return{c(){e=D("div"),R&&R.c(),n=J(),r=D("span"),C&&C.c(),s=J(),i=D("div"),K&&K.c(),o=J(),a=D("div"),v&&v.c(),c=J(),l=D("input"),f=J(),d=D("div"),b&&b.c(),g=J(),w&&w.c(),h=J(),y&&y.c(),m=J(),_=D("input"),P=J(),B&&B.c(),S(r,"aria-live","polite"),S(r,"aria-atomic","false"),S(r,"aria-relevant","additions text"),S(r,"class","a11y-text svelte-18e845"),S(i,"class","prepend svelte-18e845"),Kn(l,oe),te(l,"svelte-18e845",!0),S(a,"class","value-container svelte-18e845"),S(d,"class","indicators svelte-18e845"),S(_,"name",t[8]),S(_,"type","hidden"),_.value=E=t[3]?JSON.stringify(t[3]):null,S(_,"class","svelte-18e845"),S(e,"class",U="svelte-select "+t[21]+" svelte-18e845"),S(e,"style",t[14]),te(e,"multi",t[9]),te(e,"disabled",t[11]),te(e,"focused",t[2]),te(e,"list-open",t[6]),te(e,"show-chevron",t[20]),te(e,"error",t[15])},m(A,x){q(A,e,x),R&&R.m(e,null),O(e,n),O(e,r),C&&C.m(r,null),O(e,s),O(e,i),K&&K.m(i,null),O(e,o),O(e,a),v&&v.m(a,null),O(a,c),O(a,l),l.autofocus&&l.focus(),t[94](l),Xt(l,t[4]),O(e,f),O(e,d),b&&b.m(d,null),O(d,g),w&&w.m(d,null),O(d,h),y&&y.m(d,null),O(e,m),O(e,_),O(e,P),B&&B.m(e,null),t[96](e),L=!0,W||(N=[se(window,"click",t[42]),se(window,"keydown",t[37]),se(l,"keydown",t[37]),se(l,"blur",t[39]),se(l,"focus",t[38]),se(l,"input",t[95]),se(e,"pointerup",$e(t[40])),Gn(t[48].call(null,e))],W=!0)},p(A,x){A[6]?R?(R.p(A,x),x[0]&64&&k(R,1)):(R=fs(A),R.c(),k(R,1),R.m(e,n)):R&&(xe(),I(R,1,1,()=>{R=null}),Me()),A[2]?C?C.p(A,x):(C=hs(A),C.c(),C.m(r,null)):C&&(C.d(1),C=null),K&&K.p&&(!L||x[2]&131072)&&Ce(K,F,A,A[79],L?Oe(F,A[79],x,Bu):Be(A[79]),os),A[25]?v?(v.p(A,x),x[0]&33554432&&k(v,1)):(v=ps(A),v.c(),k(v,1),v.m(a,c)):v&&(xe(),I(v,1,1,()=>{v=null}),Me()),Kn(l,oe=Wr(Z,[(!L||x[0]&131072&&u!==(u=!A[17]))&&{readOnly:u},x[0]&134217728&&A[27],(!L||x[1]&4)&&{placeholder:A[33]},(!L||x[0]&262144)&&{style:A[18]},(!L||x[0]&2048)&&{disabled:A[11]}])),x[0]&16&&l.value!==A[4]&&Xt(l,A[4]),te(l,"svelte-18e845",!0),A[5]?b?(b.p(A,x),x[0]&32&&k(b,1)):(b=bs(A),b.c(),k(b,1),b.m(d,g)):b&&(xe(),I(b,1,1,()=>{b=null}),Me()),A[34]?w?(w.p(A,x),x[1]&8&&k(w,1)):(w=ys(A),w.c(),k(w,1),w.m(d,h)):w&&(xe(),I(w,1,1,()=>{w=null}),Me()),A[20]?y?(y.p(A,x),x[0]&1048576&&k(y,1)):(y=_s(A),y.c(),k(y,1),y.m(d,null)):y&&(xe(),I(y,1,1,()=>{y=null}),Me()),(!L||x[0]&256)&&S(_,"name",A[8]),(!L||x[0]&8&&E!==(E=A[3]?JSON.stringify(A[3]):null))&&(_.value=E),A[16]&&(!A[3]||A[3].length===0)?B?(B.p(A,x),x[0]&65544&&k(B,1)):(B=ws(A),B.c(),k(B,1),B.m(e,null)):B&&(xe(),I(B,1,1,()=>{B=null}),Me()),(!L||x[0]&2097152&&U!==(U="svelte-select "+A[21]+" svelte-18e845"))&&S(e,"class",U),(!L||x[0]&16384)&&S(e,"style",A[14]),(!L||x[0]&2097664)&&te(e,"multi",A[9]),(!L||x[0]&2099200)&&te(e,"disabled",A[11]),(!L||x[0]&2097156)&&te(e,"focused",A[2]),(!L||x[0]&2097216)&&te(e,"list-open",A[6]),(!L||x[0]&3145728)&&te(e,"show-chevron",A[20]),(!L||x[0]&2129920)&&te(e,"error",A[15])},i(A){L||(k(R),k(K,A),k(v),k(b),k(w),k(y),k(B),L=!0)},o(A){I(R),I(K,A),I(v),I(b),I(w),I(y),I(B),L=!1},d(A){A&&z(e),R&&R.d(),C&&C.d(),K&&K.d(A),v&&v.d(),t[94](null),b&&b.d(),w&&w.d(),y&&y.d(),B&&B.d(),t[96](null),W=!1,Pe(N)}}}function vs(t){return t.map((e,n)=>({index:n,value:e,label:`${e}`}))}function Xu(t){return t===0}function Zu(t){return t.groupHeader&&t.selectable||t.selectable||!t.hasOwnProperty("selectable")}function Yu(t,e,n){let r,s,i,o,a,c,l,u,f,{$$slots:d={},$$scope:g}=e;const h=Ul(d),m=en();let{justValue:_=null}=e,{filter:E=mu}=e,{getItems:P=bu}=e,{id:U=null}=e,{name:L=null}=e,{container:W=void 0}=e,{input:N=void 0}=e,{multiple:R=!1}=e,{multiFullItemClearable:C=!1}=e,{disabled:F=!1}=e,{focused:K=!1}=e,{value:v=null}=e,{filterText:Z=""}=e,{placeholder:oe="Please select"}=e,{placeholderAlwaysShow:b=!1}=e,{items:w=null}=e,{label:y="label"}=e,{itemFilter:B=(p,G)=>`${p}`.toLowerCase().includes(G.toLowerCase())}=e,{groupBy:A=void 0}=e,{groupFilter:x=p=>p}=e,{groupHeaderSelectable:le=!1}=e,{itemId:H="value"}=e,{loadOptions:pe=void 0}=e,{containerStyles:Je=""}=e,{hasError:Ee=!1}=e,{filterSelectedItems:Ne=!0}=e,{required:dt=!1}=e,{createGroupHeaderItem:Ut=(p,G)=>({value:p,[y]:p})}=e;const dr=()=>l;let{searchable:Dt=!0}=e,{inputStyles:Bn=""}=e,{clearable:nn=!0}=e,{loading:Ve=!1}=e,{listOpen:ue=!1}=e,Ge,{debounce:rn=(p,G=1)=>{clearTimeout(Ge),Ge=setTimeout(p,G)}}=e,{debounceWait:Ct=300}=e,{hideEmptyState:X=!1}=e,{inputAttributes:Bt={}}=e,{listAutoWidth:_e=!0}=e,{showChevron:fe=!1}=e,{listOffset:ht=5}=e,{hoverItemIndex:ae=0}=e,{floatingConfig:pt={}}=e,{class:Pt=""}=e,M,V,$,ne;function ke(){if(typeof v=="string"){let p=w.find(G=>G[H]===v);n(3,v=p||{[H]:v,label:v})}else R&&Array.isArray(v)&&v.length>0&&n(3,v=v.map(p=>typeof p=="string"?{value:p,label:p}:p))}let Ie;function hr(){n(27,Ie=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Bt)),U&&n(27,Ie.id=U,Ie),Dt||n(27,Ie.readonly=!0,Ie)}function xn(p){const G=[],we={};p.forEach(Ht=>{const rt=A(Ht);G.includes(rt)||(G.push(rt),we[rt]=[],rt&&we[rt].push(Object.assign(Ut(rt,Ht),{id:rt,groupHeader:!0,selectable:le}))),we[rt].push(Object.assign({groupItem:!!rt},Ht))});const nt=[];return x(G).forEach(Ht=>{we[Ht]&&nt.push(...we[Ht])}),nt}function Xo(){if(R){JSON.stringify(v)!==JSON.stringify(V)&&pi()&&m("input",v);return}(!V||JSON.stringify(v[H])!==JSON.stringify(V[H]))&&m("input",v)}function Zo(){v&&(Array.isArray(v)?n(3,v=[...v]):n(3,v=[v]))}function Yo(){v&&n(3,v=null)}function Qo(){const p=l.findIndex(G=>G[H]===v[H]);hi(p,!0)}function $o(p){m("hoverItem",p)}function hi(p=0,G){n(7,ae=p),!G&&A&&l[ae]&&!l[ae].selectable&&In(1)}function el(){!pe&&Z.length===0||(pe?rn(async function(){n(5,Ve=!0);let p=await P({dispatch:m,loadOptions:pe,convertStringItemsToObjects:vs,filterText:Z});p?(n(5,Ve=p.loading),n(6,ue=ue?p.listOpen:Z.length>0),n(2,K=ue&&p.focused),n(51,w=A?xn(p.filteredItems):p.filteredItems)):(n(5,Ve=!1),n(2,K=!0),n(6,ue=!0))},Ct):(n(6,ue=!0),R&&n(26,M=void 0)))}function tl(p){ue&&m("filter",p)}Jl(async()=>{n(76,V=v),n(77,$=Z),n(78,ne=R)});function nl(){return R?v?v.map(p=>p[H]):null:v&&v[H]}function pi(){let p=!0;if(v){const G=[],we=[];v.forEach(nt=>{G.includes(nt[H])?p=!1:(G.push(nt[H]),we.push(nt))}),p||n(3,v=we)}return p}function gi(p){let G=p?p[H]:v[H];return w.find(we=>we[H]===G)}function rl(p){!p||p.length===0||p.some(G=>typeof G!="object")||!v||(R?v.some(G=>!G||!G[H]):!v[H])||(Array.isArray(v)?n(3,v=v.map(G=>gi(G)||G)):n(3,v=gi()||v))}async function Mn(p){const G=v[p];v.length===1?n(3,v=void 0):n(3,v=v.filter(we=>we!==G)),m("clear",G)}function il(p){if(!!K)switch(p.stopPropagation(),p.key){case"Escape":p.preventDefault(),tt();break;case"Enter":if(p.preventDefault(),ue){if(l.length===0)break;const G=l[ae];if(v&&!R&&v[H]===G[H]){tt();break}else _r(l[ae])}break;case"ArrowDown":p.preventDefault(),ue?In(1):(n(6,ue=!0),n(26,M=void 0));break;case"ArrowUp":p.preventDefault(),ue?In(-1):(n(6,ue=!0),n(26,M=void 0));break;case"Tab":if(ue&&K){if(l.length===0||v&&v[H]===l[ae][H])return tt();p.preventDefault(),_r(l[ae]),tt()}break;case"Backspace":if(!R||Z.length>0)return;if(R&&v&&v.length>0){if(Mn(M!==void 0?M:v.length-1),M===0||M===void 0)break;n(26,M=v.length>M?M-1:void 0)}break;case"ArrowLeft":if(!v||!R||Z.length>0)return;M===void 0?n(26,M=v.length-1):v.length>M&&M!==0&&n(26,M-=1);break;case"ArrowRight":if(!v||!R||Z.length>0||M===void 0)return;M===v.length-1?n(26,M=void 0):M<v.length-1&&n(26,M+=1);break}}function pr(p){p&&m("focus",p),N.focus(),n(2,K=!0)}async function mi(p){yr||(ue||K)&&(m("blur",p),tt(),n(2,K=!1),n(26,M=void 0),N.blur())}function sl(){F||(n(6,ue=!ue),ue&&!K&&pr())}function ol(){n(3,v=void 0),tt(),m("clear",v),pr()}Xl(()=>{ue&&n(2,K=!0),K&&N&&N.focus()});function ll(p){if(p){n(4,Z="");const G=Object.assign({},p);(!G.groupHeader||G.selectable)&&(R?n(3,v=v?v.concat([G]):[G]):n(3,v=G),n(3,v),setTimeout(()=>{tt(),n(26,M=void 0),m("change",v)}))}}function tt(){n(4,Z=""),n(6,ue=!1)}let{ariaValues:gr=p=>`Option ${p}, selected.`}=e,{ariaListOpen:mr=(p,G)=>`You are currently focused on option ${p}. There are ${G} results available.`}=e,{ariaFocused:br=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function al(p){let G;return p&&v.length>0?G=v.map(we=>we[y]).join(", "):G=v[y],gr(G)}function cl(){if(!l||l.length===0)return"";let p=l[ae];if(ue&&p){let G=l?l.length:0;return mr(p[y],G)}else return br()}let He=null,bi;function yi(){clearTimeout(bi),bi=setTimeout(()=>{yr=!1},100)}function ul(p){W&&!W.contains(p.target)&&!(He!=null&&He.contains(p.target))&&mi()}Yl(()=>{He==null||He.remove()});let yr=!1;function _r(p){p.isCreator||p.selectable===!1||ll(p)}function wr(p){yr||n(7,ae=p)}function _i(p){const{item:G,i:we}=p;if((G==null?void 0:G.selectable)!==!1){if(v&&!R&&v[H]===G[H])return tt();Zu(G)&&(n(7,ae=we),_r(G))}}function In(p){if(l.filter(nt=>!Object.hasOwn(nt,"selectable")||nt.selectable===!0).length===0)return n(7,ae=0);p>0&&ae===l.length-1?n(7,ae=0):p<0&&ae===0?n(7,ae=l.length-1):n(7,ae=ae+p);const we=l[ae];if(we&&we.selectable===!1){(p===1||p===-1)&&In(p);return}}function fl(p,G,we){if(!R)return G&&G[we]===p[we]}const dl=wi,hl=wi;function wi(p){return{update(G){G.scroll&&(yi(),p.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"}))}}}function pl(){const{width:p}=W.getBoundingClientRect();n(23,He.style.width=_e?p+"px":"auto",He)}let vi={strategy:"absolute",placement:"bottom-start",middleware:[$c(ht),Yc(),tu()],autoUpdate:!1};const[gl,ml,bl]=gu(vi);let vr=!0;function yl(p,G){if(!p||!G)return n(28,vr=!0);setTimeout(()=>{n(28,vr=!1)},0)}function _l(p){Fe.call(this,t,p)}function wl(p){Fe.call(this,t,p)}function vl(p){Fe.call(this,t,p)}function Sl(p){Fe.call(this,t,p)}function El(p){Fe.call(this,t,p)}function Al(p){Fe.call(this,t,p)}function kl(p){Fe.call(this,t,p)}const Rl=p=>wr(p),Tl=p=>wr(p),Ol=(p,G)=>_i({item:p,i:G});function Cl(p){Se[p?"unshift":"push"](()=>{He=p,n(23,He)})}const Bl=p=>Mn(p),xl=p=>C?Mn(p):{};function Ml(p){Se[p?"unshift":"push"](()=>{N=p,n(1,N)})}function Il(){Z=this.value,n(4,Z)}function Nl(p){Se[p?"unshift":"push"](()=>{W=p,n(0,W)})}return t.$$set=p=>{"justValue"in p&&n(52,_=p.justValue),"filter"in p&&n(53,E=p.filter),"getItems"in p&&n(54,P=p.getItems),"id"in p&&n(55,U=p.id),"name"in p&&n(8,L=p.name),"container"in p&&n(0,W=p.container),"input"in p&&n(1,N=p.input),"multiple"in p&&n(9,R=p.multiple),"multiFullItemClearable"in p&&n(10,C=p.multiFullItemClearable),"disabled"in p&&n(11,F=p.disabled),"focused"in p&&n(2,K=p.focused),"value"in p&&n(3,v=p.value),"filterText"in p&&n(4,Z=p.filterText),"placeholder"in p&&n(56,oe=p.placeholder),"placeholderAlwaysShow"in p&&n(57,b=p.placeholderAlwaysShow),"items"in p&&n(51,w=p.items),"label"in p&&n(12,y=p.label),"itemFilter"in p&&n(58,B=p.itemFilter),"groupBy"in p&&n(59,A=p.groupBy),"groupFilter"in p&&n(60,x=p.groupFilter),"groupHeaderSelectable"in p&&n(61,le=p.groupHeaderSelectable),"itemId"in p&&n(13,H=p.itemId),"loadOptions"in p&&n(62,pe=p.loadOptions),"containerStyles"in p&&n(14,Je=p.containerStyles),"hasError"in p&&n(15,Ee=p.hasError),"filterSelectedItems"in p&&n(63,Ne=p.filterSelectedItems),"required"in p&&n(16,dt=p.required),"createGroupHeaderItem"in p&&n(64,Ut=p.createGroupHeaderItem),"searchable"in p&&n(17,Dt=p.searchable),"inputStyles"in p&&n(18,Bn=p.inputStyles),"clearable"in p&&n(66,nn=p.clearable),"loading"in p&&n(5,Ve=p.loading),"listOpen"in p&&n(6,ue=p.listOpen),"debounce"in p&&n(67,rn=p.debounce),"debounceWait"in p&&n(68,Ct=p.debounceWait),"hideEmptyState"in p&&n(19,X=p.hideEmptyState),"inputAttributes"in p&&n(69,Bt=p.inputAttributes),"listAutoWidth"in p&&n(70,_e=p.listAutoWidth),"showChevron"in p&&n(20,fe=p.showChevron),"listOffset"in p&&n(71,ht=p.listOffset),"hoverItemIndex"in p&&n(7,ae=p.hoverItemIndex),"floatingConfig"in p&&n(72,pt=p.floatingConfig),"class"in p&&n(21,Pt=p.class),"ariaValues"in p&&n(73,gr=p.ariaValues),"ariaListOpen"in p&&n(74,mr=p.ariaListOpen),"ariaFocused"in p&&n(75,br=p.ariaFocused),"$$scope"in p&&n(79,g=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8|t.$$.dirty[1]&1048576&&v&&ke(),t.$$.dirty[0]&131072|t.$$.dirty[2]&128&&(Bt||!Dt)&&hr(),t.$$.dirty[0]&512&&R&&Zo(),t.$$.dirty[0]&512|t.$$.dirty[2]&65536&&ne&&!R&&Yo(),t.$$.dirty[0]&520&&R&&v&&v.length>1&&pi(),t.$$.dirty[0]&8&&v&&Xo(),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!v&&R&&V&&m("input",v),t.$$.dirty[0]&6&&!K&&N&&tt(),t.$$.dirty[0]&16|t.$$.dirty[2]&32768&&Z!==$&&el(),t.$$.dirty[0]&12824|t.$$.dirty[1]&407896064|t.$$.dirty[2]&3&&n(24,l=E({loadOptions:pe,filterText:Z,items:w,multiple:R,value:v,itemId:H,groupBy:A,label:y,filterSelectedItems:Ne,itemFilter:B,convertStringItemsToObjects:vs,filterGroupedItems:xn})),t.$$.dirty[0]&16777800&&!R&&ue&&v&&l&&Qo(),t.$$.dirty[0]&576&&ue&&R&&n(7,ae=0),t.$$.dirty[0]&128&&$o(ae),t.$$.dirty[0]&520&&n(25,r=R?v&&v.length>0:v),t.$$.dirty[0]&33554448&&n(35,s=r&&Z.length>0),t.$$.dirty[0]&33556512|t.$$.dirty[2]&16&&n(34,i=r&&nn&&!F&&!Ve),t.$$.dirty[0]&520|t.$$.dirty[1]&100663296&&n(33,o=b&&R?oe:v?"":oe),t.$$.dirty[0]&520&&n(32,a=v?al(R):""),t.$$.dirty[0]&16777412&&n(31,c=cl()),t.$$.dirty[1]&1048576&&rl(w),t.$$.dirty[0]&8712&&n(52,_=nl()),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!R&&V&&!v&&m("input",v),t.$$.dirty[0]&16777800&&ue&&l&&!R&&!v&&hi(),t.$$.dirty[0]&16777216&&tl(l),t.$$.dirty[2]&1024&&pt&&bl(Object.assign(vi,pt)),t.$$.dirty[0]&8388608&&n(30,u=!!He),t.$$.dirty[0]&8388672&&yl(He,ue),t.$$.dirty[0]&8388673&&ue&&W&&He&&pl(),t.$$.dirty[0]&128&&n(29,f=ae)},[W,N,K,v,Z,Ve,ue,ae,L,R,C,F,y,H,Je,Ee,dt,Dt,Bn,X,fe,Pt,ol,He,l,r,M,Ie,vr,f,u,c,a,o,i,s,Mn,il,pr,mi,sl,yi,ul,wr,_i,fl,dl,hl,gl,ml,h,w,_,E,P,U,oe,b,B,A,x,le,pe,Ne,Ut,dr,nn,rn,Ct,Bt,_e,ht,pt,gr,mr,br,V,$,ne,g,d,_l,wl,vl,Sl,El,Al,kl,Rl,Tl,Ol,Cl,Bl,xl,Ml,Il,Nl]}class Lo extends ye{constructor(e){super(),be(this,e,Yu,Ju,ge,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,createGroupHeaderItem:64,getFilteredItems:65,searchable:17,inputStyles:18,clearable:66,loading:5,listOpen:6,debounce:67,debounceWait:68,hideEmptyState:19,inputAttributes:69,listAutoWidth:70,showChevron:20,listOffset:71,hoverItemIndex:7,floatingConfig:72,class:21,handleClear:22,ariaValues:73,ariaListOpen:74,ariaFocused:75},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[65]}get handleClear(){return this.$$.ctx[22]}}function Qu(t){let e,n,r=t[10].created?"Create":"",s,i,o=t[10].label+"",a,c,l,u=t[10].description+"",f;return{c(){e=D("div"),n=D("span"),s=ve(r),i=J(),a=ve(o),c=J(),l=D("span"),f=ve(u),S(n,"class","label svelte-2scfht"),S(l,"class","description svelte-2scfht"),S(e,"class","item svelte-2scfht"),S(e,"slot","item")},m(d,g){q(d,e,g),O(e,n),O(n,s),O(n,i),O(n,a),O(e,c),O(e,l),O(l,f)},p(d,g){g&1024&&r!==(r=d[10].created?"Create":"")&&De(s,r),g&1024&&o!==(o=d[10].label+"")&&De(a,o),g&1024&&u!==(u=d[10].description+"")&&De(f,u)},d(d){d&&z(e)}}}function $u(t){let e,n,r;function s(o){t[8](o)}let i={items:t[1],value:t[2],class:"class-select",placeholder:"Select or create class",$$slots:{item:[Qu,({item:o})=>({10:o}),({item:o})=>o?1024:0]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.filterText=t[0]),e=new Lo({props:i}),Se.push(()=>Ue(e,"filterText",s,t[0])),e.$on("change",t[3]),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,[a]){const c={};a&2&&(c.items=o[1]),a&4&&(c.value=o[2]),a&3072&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.filterText=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function ef(t,e,n){let r,s,i;ce(t,Tt,g=>n(5,r=g)),ce(t,Lc,g=>n(6,s=g)),ce(t,St,g=>n(7,i=g));const o=en();let{selectedSubject:a=""}=e,c="",l,u=[];const f=g=>{n(1,u=u.map(h=>(delete h.created,h))),console.log("selected",g.detail),o("select",g.detail)};function d(g){c=g,n(0,c)}return t.$$set=g=>{"selectedSubject"in g&&n(4,a=g.selectedSubject)},t.$$.update=()=>{t.$$.dirty&48&&a&&(async()=>{const h=await r.getResourceAsync(a);n(2,l={label:h.get(j.properties.shortname),subject:h.getSubject(),description:h.get(j.properties.description)})})(),t.$$.dirty&1&&c!==Qt(c)&&n(0,c=Qt(c)),t.$$.dirty&224&&Promise.all([...i,...s].map(g=>{try{return r.getResourceAsync(g)}catch{return}})).then(g=>{n(1,u=g.map(h=>({label:h.get(j.properties.shortname),subject:h.getSubject(),description:h.get(j.properties.description)})))}),t.$$.dirty&3&&(c.length>0?n(1,u=[{subject:"",label:c,description:"",created:!0},...u.filter(g=>!g.created)]):n(1,u=u.filter(g=>!g.created)))},[c,u,l,f,a,r,s,i,d]}class tf extends ye{constructor(e){super(),be(this,e,ef,$u,ge,{selectedSubject:4})}}function nf(t){let e,n,r,s;const i=t[1].default,o=Te(i,t,t[0],null);return{c(){e=D("button"),o&&o.c(),S(e,"type","button"),S(e,"class","svelte-k4rzb0")},m(a,c){q(a,e,c),o&&o.m(e,null),n=!0,r||(s=se(e,"click",t[2]),r=!0)},p(a,[c]){o&&o.p&&(!n||c&1)&&Ce(o,i,a,a[0],n?Oe(i,a[0],c,null):Be(a[0]),null)},i(a){n||(k(o,a),n=!0)},o(a){I(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,s()}}}function rf(t,e,n){let{$$slots:r={},$$scope:s}=e;function i(o){Fe.call(this,t,o)}return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,r,i]}class si extends ye{constructor(e){super(),be(this,e,rf,nf,ge,{})}}function Ss(t,e,n){const r=t.slice();return r[28]=e[n],r}function Es(t){let e,n=t[28]+"",r,s,i;return{c(){e=D("option"),r=ve(n),s=J(),e.__value=he[t[28]],e.value=e.__value,e.selected=i=he[t[28]]===t[2]},m(o,a){q(o,e,a),O(e,r),O(e,s)},p(o,a){a[0]&4&&i!==(i=he[o[28]]===o[2])&&(e.selected=i)},d(o){o&&z(e)}}}function sf(t){let e,n=t[14],r=[];for(let s=0;s<n.length;s+=1)r[s]=Es(Ss(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ut()},m(s,i){for(let o=0;o<r.length;o+=1)r[o].m(s,i);q(s,e,i)},p(s,i){if(i[0]&16388){n=s[14];let o;for(o=0;o<n.length;o+=1){const a=Ss(s,n,o);r[o]?r[o].p(a,i):(r[o]=Es(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){qr(r,s),s&&z(e)}}}function As(t){let e,n,r;function s(o){t[22](o)}let i={$$slots:{controls:[cf],content:[lf],title:[of]},$$scope:{ctx:t}};return t[4]!==void 0&&(i.show=t[4]),e=new Ro({props:i}),Se.push(()=>Ue(e,"show",s,t[4])),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,a){const c={};a[0]&112|a[1]&1&&(c.$$scope={dirty:a,ctx:o}),!n&&a[0]&16&&(n=!0,c.show=o[4],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function of(t){let e,n,r;return{c(){e=D("h1"),n=ve("Configure "),r=ve(t[6])},m(s,i){q(s,e,i),O(e,n),O(e,r)},p(s,i){i[0]&64&&De(r,s[6])},d(s){s&&z(e)}}}function lf(t){let e,n,r,s;return r=new tf({props:{selectedSubject:t[5]}}),r.$on("select",t[13]),{c(){e=D("label"),e.textContent="Constrain to class",n=J(),ee(r.$$.fragment),S(e,"for",""),S(e,"class","svelte-12dko8g")},m(i,o){q(i,e,o),q(i,n,o),Y(r,i,o),s=!0},p(i,o){const a={};o[0]&32&&(a.selectedSubject=i[5]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(e),i&&z(n),Q(r,i)}}}function af(t){let e;return{c(){e=ve("Done")},m(n,r){q(n,e,r)},d(n){n&&z(e)}}}function cf(t){let e,n;return e=new si({props:{$$slots:{default:[af]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function uf(t){let e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_;function E(C){t[16](C)}let P={placeholder:"shortname",disabled:t[1]};t[6]!==void 0&&(P.value=t[6]),n=new Qn({props:P}),Se.push(()=>Ue(n,"value",E,t[6]));function U(C){t[17](C)}let L={placeholder:"description",disabled:t[1],required:!0};t[7]!==void 0&&(L.value=t[7]),i=new Qn({props:L}),Se.push(()=>Ue(i,"value",U,t[7]));function W(C){t[18](C)}let N={name:"type",disabled:t[1],$$slots:{default:[sf]},$$scope:{ctx:t}};t[2]!==void 0&&(N.value=t[2]),c=new Mc({props:N}),Se.push(()=>Ue(c,"value",W,t[2])),f=new $t({props:{icon:Eo,disabled:!t[3],title:"Configure"}}),f.$on("click",t[19]),g=new $t({props:{icon:wo,title:"Remove property"}}),g.$on("click",t[20]);let R=t[3]&&As(t);return{c(){e=D("form"),ee(n.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),ee(c.$$.fragment),u=J(),ee(f.$$.fragment),d=J(),ee(g.$$.fragment),h=J(),R&&R.c(),m=ut(),S(e,"class","wrapper svelte-12dko8g")},m(C,F){q(C,e,F),Y(n,e,null),O(e,s),Y(i,e,null),O(e,a),Y(c,e,null),O(e,u),Y(f,e,null),O(e,d),Y(g,e,null),q(C,h,F),R&&R.m(C,F),q(C,m,F),_=!0},p(C,F){const K={};F[0]&2&&(K.disabled=C[1]),!r&&F[0]&64&&(r=!0,K.value=C[6],je(()=>r=!1)),n.$set(K);const v={};F[0]&2&&(v.disabled=C[1]),!o&&F[0]&128&&(o=!0,v.value=C[7],je(()=>o=!1)),i.$set(v);const Z={};F[0]&2&&(Z.disabled=C[1]),F[0]&4|F[1]&1&&(Z.$$scope={dirty:F,ctx:C}),!l&&F[0]&4&&(l=!0,Z.value=C[2],je(()=>l=!1)),c.$set(Z);const oe={};F[0]&8&&(oe.disabled=!C[3]),f.$set(oe),C[3]?R?(R.p(C,F),F[0]&8&&k(R,1)):(R=As(C),R.c(),k(R,1),R.m(m.parentNode,m)):R&&(xe(),I(R,1,1,()=>{R=null}),Me())},i(C){_||(k(n.$$.fragment,C),k(i.$$.fragment,C),k(c.$$.fragment,C),k(f.$$.fragment,C),k(g.$$.fragment,C),k(R),_=!0)},o(C){I(n.$$.fragment,C),I(i.$$.fragment,C),I(c.$$.fragment,C),I(f.$$.fragment,C),I(g.$$.fragment,C),I(R),_=!1},d(C){C&&z(e),Q(n),Q(i),Q(c),Q(f),Q(g),C&&z(h),R&&R.d(C),C&&z(m)}}}function ff(t,e,n){let r,s,i,o,a,c,l,u;ce(t,St,w=>n(23,s=w)),ce(t,Tt,w=>n(24,i=w)),ce(t,lt,w=>n(25,o=w)),ce(t,ko,w=>n(15,c=w));const f=en();let{subject:d}=e,g,h=!1,m=!1,_=vo(d),E=Ye(_,j.properties.shortname);ce(t,E,w=>n(6,l=w));let P=Ye(_,j.properties.description);ce(t,P,w=>n(7,u=w));let U=Ye(_,j.properties.datatype);ce(t,U,w=>n(2,a=w));let L=Ye(_,j.properties.classType);ce(t,L,w=>n(5,r=w));const W=async w=>{const y=Vr(o),B=i.getResourceLoading(y,{newResource:!0});return await B.set(j.properties.shortname,w,i),await B.set(j.properties.description,"",i),await B.set(j.properties.isA,[j.classes.class],i),await B.set(j.properties.parent,o,i),Qe(St,s=[...s,y],s),y},N=async w=>{const{subject:y,label:B}=w.detail;y===""?Qe(L,r=await W(B),r):Qe(L,r=y,r)},R=Object.keys(he);function C(w){l=w,E.set(l)}function F(w){u=w,P.set(u)}function K(w){a=w,U.set(a)}const v=()=>n(4,m=!0),Z=()=>f("delete",d),oe=()=>n(4,m=!1);function b(w){m=w,n(4,m)}return t.$$set=w=>{"subject"in w&&n(0,d=w.subject)},t.$$.update=()=>{t.$$.dirty[0]&32769&&n(1,g=c.includes(d)),t.$$.dirty[0]&6&&(!g&&(a===he.ATOMIC_URL||a===he.RESOURCEARRAY)?n(3,h=!0):(n(3,h=!1),Qe(L,r=void 0,r)))},[d,g,a,h,m,r,l,u,f,E,P,U,L,N,R,c,C,F,K,v,Z,oe,b]}class df extends ye{constructor(e){super(),be(this,e,ff,uf,ge,{subject:0},null,[-1,-1])}}const jo=t=>Object.entries(t).reduce((e,[n,r])=>typeof r=="object"?{...e,...jo(r)}:{...e,[n]:r},{}),nr=Rn([]);function hf(t){let e,n=t[11].created?"Create":"",r,s,i=t[11].label+"",o,a,c,l=t[2][t[11].datatype]+"",u;return{c(){e=D("div"),r=ve(n),s=J(),o=ve(i),a=J(),c=D("span"),u=ve(l),S(c,"class","datatype svelte-1ysxfpo"),S(e,"class","item svelte-1ysxfpo"),S(e,"slot","item")},m(f,d){q(f,e,d),O(e,r),O(e,s),O(e,o),O(e,a),O(e,c),O(c,u)},p(f,d){d&2048&&n!==(n=f[11].created?"Create":"")&&De(r,n),d&2048&&i!==(i=f[11].label+"")&&De(o,i),d&2048&&l!==(l=f[2][f[11].datatype]+"")&&De(u,l)},d(f){f&&z(e)}}}function pf(t){let e,n,r,s;function i(a){t[7](a)}let o={items:t[0],placeholder:"Select or create property",class:"property-select",$$slots:{item:[hf,({item:a})=>({11:a}),({item:a})=>a?2048:0]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.filterText=t[1]),n=new Lo({props:o}),Se.push(()=>Ue(n,"filterText",i,t[1])),n.$on("change",t[3]),n.$on("blur",t[8]),{c(){e=D("div"),ee(n.$$.fragment),S(e,"class","wrapper svelte-1ysxfpo")},m(a,c){q(a,e,c),Y(n,e,null),s=!0},p(a,[c]){const l={};c&1&&(l.items=a[0]),c&6144&&(l.$$scope={dirty:c,ctx:a}),!r&&c&2&&(r=!0,l.filterText=a[1],je(()=>r=!1)),n.$set(l)},i(a){s||(k(n.$$.fragment,a),s=!0)},o(a){I(n.$$.fragment,a),s=!1},d(a){a&&z(e),Q(n)}}}function gf(t,e,n){let r,s,i;ce(t,Tt,h=>n(4,r=h)),ce(t,ko,h=>n(5,s=h)),ce(t,nr,h=>n(6,i=h));const o=en(),a=Object.entries(he).reduce((h,[m,_])=>(h[_]=m,h),{}),c=jo(j.properties);delete c.getAll;let l=[],u="";const f=h=>{n(0,l=l.map(m=>(delete m.created,m))),o("select",h.detail)};function d(h){u=h,n(1,u)}function g(h){Fe.call(this,t,h)}return t.$$.update=()=>{t.$$.dirty&2&&u!==Qt(u)&&n(1,u=Qt(u)),t.$$.dirty&112&&Promise.all([...i,...s].map(h=>r.getResourceAsync(h))).then(h=>{n(0,l=h.map(m=>({label:m.get(j.properties.shortname),subject:m.getSubject(),datatype:m.get(j.properties.datatype)})))}),t.$$.dirty&3&&(u.length>0?n(0,l=[{subject:"",label:u,created:!0,datatype:he.STRING},...l.filter(h=>!h.created)]):n(0,l=l.filter(h=>!h.created)))},[l,u,a,f,r,s,i,d,g]}class mf extends ye{constructor(e){super(),be(this,e,gf,pf,ge,{})}}function ks(t,e,n){const r=t.slice();return r[10]=e[n],r}function Rs(t,e){let n,r,s;return r=new df({props:{subject:e[10]}}),r.$on("delete",e[3]),{key:t,first:null,c(){n=D("li"),ee(r.$$.fragment),this.first=n},m(i,o){q(i,n,o),Y(r,n,null),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[10]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(n),Q(r)}}}function bf(t){let e,n;return e=new $t({props:{icon:So,title:"Add property"}}),e.$on("click",t[5]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p:ie,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function yf(t){let e,n;return e=new mf({}),e.$on("select",t[2]),e.$on("blur",t[4]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p:ie,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function _f(t){let e,n=[],r=new Map,s,i,o,a,c,l=t[0];const u=h=>h[10];for(let h=0;h<l.length;h+=1){let m=ks(t,l,h),_=u(m);r.set(_,n[h]=Rs(_,m))}const f=[yf,bf],d=[];function g(h,m){return h[1]?0:1}return o=g(t),a=d[o]=f[o](t),{c(){e=D("ul");for(let h=0;h<n.length;h+=1)n[h].c();s=J(),i=D("li"),a.c(),S(e,"class","svelte-s3sb9i")},m(h,m){q(h,e,m);for(let _=0;_<n.length;_+=1)n[_].m(e,null);O(e,s),O(e,i),d[o].m(i,null),c=!0},p(h,[m]){m&9&&(l=h[0],xe(),n=eo(n,m,u,1,h,l,r,e,$s,Rs,s,ks),Me());let _=o;o=g(h),o===_?d[o].p(h,m):(xe(),I(d[_],1,1,()=>{d[_]=null}),Me(),a=d[o],a?a.p(h,m):(a=d[o]=f[o](h),a.c()),k(a,1),a.m(i,null))},i(h){if(!c){for(let m=0;m<l.length;m+=1)k(n[m]);k(a),c=!0}},o(h){for(let m=0;m<n.length;m+=1)I(n[m]);I(a),c=!1},d(h){h&&z(e);for(let m=0;m<n.length;m+=1)n[m].d();d[o].d()}}}function wf(t,e,n){let r,s,i;ce(t,nr,g=>n(6,r=g)),ce(t,Tt,g=>n(7,s=g)),ce(t,lt,g=>n(8,i=g));let{properties:o=[]}=e,a=!1;const c=async g=>{const h=Vr(i),m=s.getResourceLoading(h,{newResource:!0});return await m.set(j.properties.shortname,g,s),await m.set(j.properties.datatype,he.STRING,s),await m.set(j.properties.isA,[j.classes.property],s),await m.set(j.properties.parent,i,s),Qe(nr,r=[...r,h],r),h},l=async g=>{const{subject:h,label:m}=g.detail;h===""?n(0,o=[...o,await c(m)]):n(0,o=[...o,h]),n(1,a=!1)},u=g=>{n(0,o=o.filter(h=>h!==g.detail))},f=()=>n(1,a=!1),d=()=>n(1,a=!0);return t.$$set=g=>{"properties"in g&&n(0,o=g.properties)},[o,a,l,u,f,d]}class Ts extends ye{constructor(e){super(),be(this,e,wf,_f,ge,{properties:0})}}function vf(t){let e,n,r;return{c(){e=D("textarea"),S(e,"name",t[2]),S(e,"id",t[1]),e.required=t[3],S(e,"cols","30"),S(e,"rows","10"),S(e,"class","svelte-vxqza9")},m(s,i){q(s,e,i),Xt(e,t[0]),n||(r=se(e,"input",t[4]),n=!0)},p(s,[i]){i&4&&S(e,"name",s[2]),i&2&&S(e,"id",s[1]),i&8&&(e.required=s[3]),i&1&&Xt(e,s[0])},i:ie,o:ie,d(s){s&&z(e),n=!1,r()}}}function Sf(t,e,n){let{value:r=""}=e,{id:s=""}=e,{name:i=""}=e,{required:o=!1}=e;function a(){r=this.value,n(0,r)}return t.$$set=c=>{"value"in c&&n(0,r=c.value),"id"in c&&n(1,s=c.id),"name"in c&&n(2,i=c.name),"required"in c&&n(3,o=c.required)},[r,s,i,o,a]}class Uo extends ye{constructor(e){super(),be(this,e,Sf,vf,ge,{value:0,id:1,name:2,required:3})}}function Ef(t){let e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_,E,P,U,L,W,N,R,C,F,K,v,Z;r=new On({props:{data:yc}});function oe(H){t[10](H)}let b={};t[1]!==void 0&&(b.title=t[1]),i=new Tc({props:b}),Se.push(()=>Ue(i,"title",oe,t[1])),l=new $t({props:{icon:wo,title:"Delete class"}}),l.$on("click",t[11]);function w(H){t[12](H)}let y={};t[2]!==void 0&&(y.properties=t[2]),h=new Ts({props:y}),Se.push(()=>Ue(h,"properties",w,t[2]));function B(H){t[13](H)}let A={};t[3]!==void 0&&(A.properties=t[3]),L=new Ts({props:A}),Se.push(()=>Ue(L,"properties",B,t[3]));function x(H){t[14](H)}let le={required:!0};return t[4]!==void 0&&(le.value=t[4]),K=new Uo({props:le}),Se.push(()=>Ue(K,"value",x,t[4])),{c(){e=D("div"),n=D("div"),ee(r.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),c=D("span"),ee(l.$$.fragment),u=J(),f=D("div"),d=D("h3"),d.textContent="Requires",g=J(),ee(h.$$.fragment),_=J(),E=D("div"),P=D("h3"),P.textContent="Recommends",U=J(),ee(L.$$.fragment),N=J(),R=D("div"),C=D("h3"),C.textContent="Description",F=J(),ee(K.$$.fragment),S(c,"class","delete-icon-wrapper svelte-k9aap9"),Nn(n,"grid-area","title"),S(n,"class","title svelte-k9aap9"),Nn(f,"grid-area","requires"),S(f,"class","form-container svelte-k9aap9"),Nn(E,"grid-area","recommends"),S(E,"class","form-container svelte-k9aap9"),Nn(R,"grid-area","description"),S(R,"class","form-container svelte-k9aap9"),S(e,"class","wrapper svelte-k9aap9")},m(H,pe){q(H,e,pe),O(e,n),Y(r,n,null),O(n,s),Y(i,n,null),O(n,a),O(n,c),Y(l,c,null),O(e,u),O(e,f),O(f,d),O(f,g),Y(h,f,null),O(e,_),O(e,E),O(E,P),O(E,U),Y(L,E,null),O(e,N),O(e,R),O(R,C),O(R,F),Y(K,R,null),Z=!0},p(H,[pe]){const Je={};!o&&pe&2&&(o=!0,Je.title=H[1],je(()=>o=!1)),i.$set(Je);const Ee={};!m&&pe&4&&(m=!0,Ee.properties=H[2],je(()=>m=!1)),h.$set(Ee);const Ne={};!W&&pe&8&&(W=!0,Ne.properties=H[3],je(()=>W=!1)),L.$set(Ne);const dt={};!v&&pe&16&&(v=!0,dt.value=H[4],je(()=>v=!1)),K.$set(dt)},i(H){Z||(k(r.$$.fragment,H),k(i.$$.fragment,H),k(l.$$.fragment,H),k(h.$$.fragment,H),k(L.$$.fragment,H),k(K.$$.fragment,H),Z=!0)},o(H){I(r.$$.fragment,H),I(i.$$.fragment,H),I(l.$$.fragment,H),I(h.$$.fragment,H),I(L.$$.fragment,H),I(K.$$.fragment,H),Z=!1},d(H){H&&z(e),Q(r),Q(i),Q(l),Q(h),Q(L),Q(K)}}}function Af(t,e,n){let r,s,i,o,a;ce(t,lt,N=>n(15,s=N));const c=en();let{subject:l}=e,u=vo(l,{newResource:!0}),f=Ye(u,j.properties.shortname);ce(t,f,N=>n(1,r=N));let d=Ye(u,j.properties.description);ce(t,d,N=>n(4,a=N));let g=Ye(u,j.properties.requires);ce(t,g,N=>n(2,i=N));let h=Ye(u,j.properties.recommends);ce(t,h,N=>n(3,o=N));let m=Ye(u,j.properties.isA),_=Ye(u,j.properties.parent);m.set([j.classes.class]),_.set(s);function E(N){r=N,f.set(r)}const P=()=>c("delete",l);function U(N){i=N,g.set(i)}function L(N){o=N,h.set(o)}function W(N){a=N,d.set(a)}return t.$$set=N=>{"subject"in N&&n(0,l=N.subject)},t.$$.update=()=>{t.$$.dirty&2&&r===void 0&&Qe(f,r="untitled",r)},[l,r,i,o,a,c,f,d,g,h,E,P,U,L,W]}class kf extends ye{constructor(e){super(),be(this,e,Af,Ef,ge,{subject:0})}}function Os(t,e,n){const r=t.slice();return r[4]=e[n],r}function Cs(t,e){let n,r,s;return r=new kf({props:{subject:e[4]}}),r.$on("delete",e[2]),{key:t,first:null,c(){n=ut(),ee(r.$$.fragment),this.first=n},m(i,o){q(i,n,o),Y(r,i,o),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[4]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(n),Q(r,i)}}}function Rf(t){let e,n,r;return e=new On({props:{data:So}}),{c(){ee(e.$$.fragment),n=ve(`
  New Class`)},m(s,i){Y(e,s,i),q(s,n,i),r=!0},p:ie,i(s){r||(k(e.$$.fragment,s),r=!0)},o(s){I(e.$$.fragment,s),r=!1},d(s){Q(e,s),s&&z(n)}}}function Tf(t){let e=[],n=new Map,r,s,i,o=t[0];const a=c=>c[4];for(let c=0;c<o.length;c+=1){let l=Os(t,o,c),u=a(l);n.set(u,e[c]=Cs(u,l))}return s=new si({props:{$$slots:{default:[Rf]},$$scope:{ctx:t}}}),s.$on("click",t[1]),{c(){for(let c=0;c<e.length;c+=1)e[c].c();r=J(),ee(s.$$.fragment)},m(c,l){for(let u=0;u<e.length;u+=1)e[u].m(c,l);q(c,r,l),Y(s,c,l),i=!0},p(c,[l]){l&5&&(o=c[0],xe(),e=eo(e,l,a,1,c,o,n,r.parentNode,$s,Cs,r,Os),Me());const u={};l&128&&(u.$$scope={dirty:l,ctx:c}),s.$set(u)},i(c){if(!i){for(let l=0;l<o.length;l+=1)k(e[l]);k(s.$$.fragment,c),i=!0}},o(c){for(let l=0;l<e.length;l+=1)I(e[l]);I(s.$$.fragment,c),i=!1},d(c){for(let l=0;l<e.length;l+=1)e[l].d(c);c&&z(r),Q(s,c)}}}function Of(t,e,n){let r,s;return ce(t,St,a=>n(0,r=a)),ce(t,lt,a=>n(3,s=a)),[r,()=>{const a=Vr(s);Qe(St,r=[...r,a],r)},a=>{Qe(St,r=r.filter(c=>c!==a.detail),r)}]}class Cf extends ye{constructor(e){super(),be(this,e,Of,Tf,ge,{})}}const Bf='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><rect width="24" height="24" opacity="0"/><path d="M16.24 22a1 1 0 0 1-1-1v-2.6a2.15 2.15 0 0 0-.54-1.66 1 1 0 0 1 .61-1.67C17.75 14.78 20 14 20 9.77a4 4 0 0 0-.67-2.22 2.75 2.75 0 0 1-.41-2.06 3.71 3.71 0 0 0 0-1.41 7.65 7.65 0 0 0-2.09 1.09 1 1 0 0 1-.84.15 10.15 10.15 0 0 0-5.52 0 1 1 0 0 1-.84-.15 7.4 7.4 0 0 0-2.11-1.09 3.52 3.52 0 0 0 0 1.41 2.84 2.84 0 0 1-.43 2.08 4.07 4.07 0 0 0-.67 2.23c0 3.89 1.88 4.93 4.7 5.29a1 1 0 0 1 .82.66 1 1 0 0 1-.21 1 2.06 2.06 0 0 0-.55 1.56V21a1 1 0 0 1-2 0v-.57a6 6 0 0 1-5.27-2.09 3.9 3.9 0 0 0-1.16-.88 1 1 0 1 1 .5-1.94 4.93 4.93 0 0 1 2 1.36c1 1 2 1.88 3.9 1.52a3.89 3.89 0 0 1 .23-1.58c-2.06-.52-5-2-5-7a6 6 0 0 1 1-3.33.85.85 0 0 0 .13-.62 5.69 5.69 0 0 1 .33-3.21 1 1 0 0 1 .63-.57c.34-.1 1.56-.3 3.87 1.2a12.16 12.16 0 0 1 5.69 0c2.31-1.5 3.53-1.31 3.86-1.2a1 1 0 0 1 .63.57 5.71 5.71 0 0 1 .33 3.22.75.75 0 0 0 .11.57 6 6 0 0 1 1 3.34c0 5.07-2.92 6.54-5 7a4.28 4.28 0 0 1 .22 1.67V21a1 1 0 0 1-.94 1z"/></g></svg>';function xf(t){let e;return{c(){e=D("h1"),e.textContent="Config"},m(n,r){q(n,e,r)},p:ie,d(n){n&&z(e)}}}function Mf(t){let e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_,E;function P(N){t[5](N)}let U={id:"localURL"};t[2]!==void 0&&(U.value=t[2]),i=new Qn({props:U}),Se.push(()=>Ue(i,"value",P,t[2])),i.$on("blur",t[4]);function L(N){t[6](N)}let W={id:"data-sources"};return t[1]!==void 0&&(W.value=t[1]),g=new Uo({props:W}),Se.push(()=>Ue(g,"value",L,t[1])),{c(){e=D("form"),n=D("div"),r=D("label"),r.textContent="Local URL:",s=J(),ee(i.$$.fragment),a=J(),c=D("p"),c.textContent="The url used to generate subjects for new classes and properties",l=J(),u=D("div"),f=D("label"),f.textContent="Data Sources:",d=J(),ee(g.$$.fragment),m=J(),_=D("p"),_.textContent=`Atomic data servers to pull property and class data from. (seperated
          by newline)`,S(r,"for","localURL"),S(r,"class","svelte-h5oczp"),S(c,"class","helper svelte-h5oczp"),S(n,"class","form-field svelte-h5oczp"),S(f,"for","data-sources"),S(f,"class","svelte-h5oczp"),S(_,"class","helper svelte-h5oczp"),S(u,"class","form-field svelte-h5oczp"),S(e,"class","svelte-h5oczp")},m(N,R){q(N,e,R),O(e,n),O(n,r),O(n,s),Y(i,n,null),O(n,a),O(n,c),O(e,l),O(e,u),O(u,f),O(u,d),Y(g,u,null),O(u,m),O(u,_),E=!0},p(N,R){const C={};!o&&R&4&&(o=!0,C.value=N[2],je(()=>o=!1)),i.$set(C);const F={};!h&&R&2&&(h=!0,F.value=N[1],je(()=>h=!1)),g.$set(F)},i(N){E||(k(i.$$.fragment,N),k(g.$$.fragment,N),E=!0)},o(N){I(i.$$.fragment,N),I(g.$$.fragment,N),E=!1},d(N){N&&z(e),Q(i),Q(g)}}}function If(t){let e;return{c(){e=ve("Done")},m(n,r){q(n,e,r)},d(n){n&&z(e)}}}function Nf(t){let e,n;return e=new si({props:{$$slots:{default:[If]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){ee(e.$$.fragment)},m(r,s){Y(e,r,s),n=!0},p(r,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Lf(t){let e,n,r;function s(o){t[7](o)}let i={$$slots:{controls:[Nf],content:[Mf],title:[xf]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.show=t[0]),e=new Ro({props:i}),Se.push(()=>Ue(e,"show",s,t[0])),{c(){ee(e.$$.fragment)},m(o,a){Y(e,o,a),r=!0},p(o,[a]){const c={};a&518&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.show=o[0],je(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){Q(e,o)}}}function jf(t,e,n){let r,s;ce(t,lt,d=>n(2,r=d)),ce(t,gn,d=>n(8,s=d));let{show:i=!1}=e,o=Jt(gn).join(`
`);const a=()=>{const g=o.split(`
`).filter(h=>{try{return new URL(h),!0}catch{return!1}});Qe(gn,s=g,s),n(0,i=!1)},c=()=>{r.endsWith("/")||Qe(lt,r=r+"/",r)};function l(d){r=d,lt.set(r)}function u(d){o=d,n(1,o)}function f(d){i=d,n(0,i)}return t.$$set=d=>{"show"in d&&n(0,i=d.show)},[i,o,r,a,c,l,u,f]}class Uf extends ye{constructor(e){super(),be(this,e,jf,Lf,ge,{show:0})}}function Df(t){let e,n,r,s,i,o,a,c,l;return i=new $t({props:{icon:Eo,size:"1.5rem",title:"Configure app"}}),i.$on("click",t[1]),c=new On({props:{data:Bf,size:"1.5rem"}}),{c(){e=D("div"),n=D("h1"),n.textContent="Atomic Data Model Builder",r=J(),s=D("div"),ee(i.$$.fragment),o=J(),a=D("a"),ee(c.$$.fragment),S(a,"href","https://github.com/atomicdata-dev/atomic-data-model-builder"),S(a,"rel","noopener noreferrer"),S(a,"target","_blank"),S(a,"title","View source on GitHub"),S(a,"class","svelte-abg2td"),S(s,"class","links svelte-abg2td"),S(e,"class","wrapper svelte-abg2td")},m(u,f){q(u,e,f),O(e,n),O(e,r),O(e,s),Y(i,s,null),O(s,o),O(s,a),Y(c,a,null),l=!0},p:ie,i(u){l||(k(i.$$.fragment,u),k(c.$$.fragment,u),l=!0)},o(u){I(i.$$.fragment,u),I(c.$$.fragment,u),l=!1},d(u){u&&z(e),Q(i),Q(c)}}}function Pf(t){let e,n,r,s,i,o;n=new to({props:{$$slots:{default:[Df]},$$scope:{ctx:t}}});function a(l){t[2](l)}let c={};return t[0]!==void 0&&(c.show=t[0]),s=new Uf({props:c}),Se.push(()=>Ue(s,"show",a,t[0])),{c(){e=D("header"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),S(e,"class","svelte-abg2td")},m(l,u){q(l,e,u),Y(n,e,null),q(l,r,u),Y(s,l,u),o=!0},p(l,[u]){const f={};u&9&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const d={};!i&&u&1&&(i=!0,d.show=l[0],je(()=>i=!1)),s.$set(d)},i(l){o||(k(n.$$.fragment,l),k(s.$$.fragment,l),o=!0)},o(l){I(n.$$.fragment,l),I(s.$$.fragment,l),o=!1},d(l){l&&z(e),Q(n),l&&z(r),Q(s,l)}}}function Hf(t,e,n){let r=!1;const s=()=>n(0,r=!0);function i(o){r=o,n(0,r)}return[r,s,i]}class zf extends ye{constructor(e){super(),be(this,e,Hf,Pf,ge,{})}}var oi={exports:{}};function li(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&li(n)}),t}oi.exports=li;oi.exports.default=li;class Bs{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Do(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function vt(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const Ff="</span>",xs=t=>!!t.scope||t.sublanguage&&t.language,qf=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class Wf{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Do(e)}openNode(e){if(!xs(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=qf(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!xs(e)||(this.buffer+=Ff)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Ms=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class ai{constructor(){this.rootNode=Ms(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=Ms({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{ai._collapse(n)})))}}class Vf extends ai{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new Wf(this,this.options).value()}finalize(){return!0}}function Sn(t){return t?typeof t=="string"?t:t.source:null}function Po(t){return jt("(?=",t,")")}function Gf(t){return jt("(?:",t,")*")}function Kf(t){return jt("(?:",t,")?")}function jt(...t){return t.map(n=>Sn(n)).join("")}function Jf(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function ci(...t){return"("+(Jf(t).capture?"":"?:")+t.map(r=>Sn(r)).join("|")+")"}function Ho(t){return new RegExp(t.toString()+"|").exec("").length-1}function Xf(t,e){const n=t&&t.exec(e);return n&&n.index===0}const Zf=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ui(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const s=n;let i=Sn(r),o="";for(;i.length>0;){const a=Zf.exec(i);if(!a){o+=i;break}o+=i.substring(0,a.index),i=i.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+s):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const Yf=/\b\B/,zo="[a-zA-Z]\\w*",fi="[a-zA-Z_]\\w*",Fo="\\b\\d+(\\.\\d+)?",qo="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Wo="\\b(0b[01]+)",Qf="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",$f=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=jt(e,/.*\b/,t.binary,/\b.*/)),vt({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},En={begin:"\\\\[\\s\\S]",relevance:0},ed={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[En]},td={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[En]},nd={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},fr=function(t,e,n={}){const r=vt({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=ci("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:jt(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},rd=fr("//","$"),id=fr("/\\*","\\*/"),sd=fr("#","$"),od={scope:"number",begin:Fo,relevance:0},ld={scope:"number",begin:qo,relevance:0},ad={scope:"number",begin:Wo,relevance:0},cd={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[En,{begin:/\[/,end:/\]/,relevance:0,contains:[En]}]}]},ud={scope:"title",begin:zo,relevance:0},fd={scope:"title",begin:fi,relevance:0},dd={begin:"\\.\\s*"+fi,relevance:0},hd=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Fn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Yf,IDENT_RE:zo,UNDERSCORE_IDENT_RE:fi,NUMBER_RE:Fo,C_NUMBER_RE:qo,BINARY_NUMBER_RE:Wo,RE_STARTERS_RE:Qf,SHEBANG:$f,BACKSLASH_ESCAPE:En,APOS_STRING_MODE:ed,QUOTE_STRING_MODE:td,PHRASAL_WORDS_MODE:nd,COMMENT:fr,C_LINE_COMMENT_MODE:rd,C_BLOCK_COMMENT_MODE:id,HASH_COMMENT_MODE:sd,NUMBER_MODE:od,C_NUMBER_MODE:ld,BINARY_NUMBER_MODE:ad,REGEXP_MODE:cd,TITLE_MODE:ud,UNDERSCORE_TITLE_MODE:fd,METHOD_GUARD:dd,END_SAME_AS_BEGIN:hd});function pd(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function gd(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function md(t,e){!e||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=pd,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function bd(t,e){!Array.isArray(t.illegal)||(t.illegal=ci(...t.illegal))}function yd(t,e){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function _d(t,e){t.relevance===void 0&&(t.relevance=1)}const wd=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=jt(n.beforeMatch,Po(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},vd=["of","and","for","in","not","or","if","then","parent","list","value"],Sd="keyword";function Vo(t,e,n=Sd){const r=Object.create(null);return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(i){Object.assign(r,Vo(t[i],e,i))}),r;function s(i,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const c=a.split("|");r[c[0]]=[i,Ed(c[0],c[1])]})}}function Ed(t,e){return e?Number(e):Ad(t)?0:1}function Ad(t){return vd.includes(t.toLowerCase())}const Is={},Nt=t=>{console.error(t)},Ns=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Wt=(t,e)=>{Is[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Is[`${t}/${e}`]=!0)},rr=new Error;function Go(t,e,{key:n}){let r=0;const s=t[n],i={},o={};for(let a=1;a<=e.length;a++)o[a+r]=s[a],i[a+r]=!0,r+=Ho(e[a-1]);t[n]=o,t[n]._emit=i,t[n]._multi=!0}function kd(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Nt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),rr;if(typeof t.beginScope!="object"||t.beginScope===null)throw Nt("beginScope must be object"),rr;Go(t,t.begin,{key:"beginScope"}),t.begin=ui(t.begin,{joinWith:""})}}function Rd(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Nt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),rr;if(typeof t.endScope!="object"||t.endScope===null)throw Nt("endScope must be object"),rr;Go(t,t.end,{key:"endScope"}),t.end=ui(t.end,{joinWith:""})}}function Td(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function Od(t){Td(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),kd(t),Rd(t)}function Cd(t){function e(o,a){return new RegExp(Sn(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,a]),this.matchAt+=Ho(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(c=>c[1]);this.matcherRe=e(ui(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(a);if(!c)return null;const l=c.findIndex((f,d)=>d>0&&f!==void 0),u=this.matchIndexes[l];return c.splice(0,l),Object.assign(c,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const c=new n;return this.rules.slice(a).forEach(([l,u])=>c.addRule(l,u)),c.compile(),this.multiRegexes[a]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,c){this.rules.push([a,c]),c.type==="begin"&&this.count++}exec(a){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let l=c.exec(a);if(this.resumingScanAtSamePosition()&&!(l&&l.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,l=u.exec(a)}return l&&(this.regexIndex+=l.position+1,this.regexIndex===this.count&&this.considerAll()),l}}function s(o){const a=new r;return o.contains.forEach(c=>a.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function i(o,a){const c=o;if(o.isCompiled)return c;[gd,yd,Od,wd].forEach(u=>u(o,a)),t.compilerExtensions.forEach(u=>u(o,a)),o.__beforeBegin=null,[md,bd,_d].forEach(u=>u(o,a)),o.isCompiled=!0;let l=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=Vo(o.keywords,t.case_insensitive)),c.keywordPatternRe=e(l,!0),a&&(o.begin||(o.begin=/\B|\b/),c.beginRe=e(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=e(c.end)),c.terminatorEnd=Sn(c.end)||"",o.endsWithParent&&a.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(c.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(u){return Bd(u==="self"?o:u)})),o.contains.forEach(function(u){i(u,c)}),o.starts&&i(o.starts,a),c.matcher=s(c),c}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=vt(t.classNameAliases||{}),i(t)}function Ko(t){return t?t.endsWithParent||Ko(t.starts):!1}function Bd(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return vt(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:Ko(t)?vt(t,{starts:t.starts?vt(t.starts):null}):Object.isFrozen(t)?vt(t):t}var xd="11.6.0";class Md extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const Mr=Do,Ls=vt,js=Symbol("nomatch"),Id=7,Nd=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Vf};function c(y){return a.noHighlightRe.test(y)}function l(y){let B=y.className+" ";B+=y.parentNode?y.parentNode.className:"";const A=a.languageDetectRe.exec(B);if(A){const x=F(A[1]);return x||(Ns(i.replace("{}",A[1])),Ns("Falling back to no-highlight mode for this block.",y)),x?A[1]:"no-highlight"}return B.split(/\s+/).find(x=>c(x)||F(x))}function u(y,B,A){let x="",le="";typeof B=="object"?(x=y,A=B.ignoreIllegals,le=B.language):(Wt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Wt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),le=y,x=B),A===void 0&&(A=!0);const H={code:x,language:le};b("before:highlight",H);const pe=H.result?H.result:f(H.language,H.code,A);return pe.code=H.code,b("after:highlight",pe),pe}function f(y,B,A,x){const le=Object.create(null);function H(M,V){return M.keywords[V]}function pe(){if(!X.keywords){_e.addText(fe);return}let M=0;X.keywordPatternRe.lastIndex=0;let V=X.keywordPatternRe.exec(fe),$="";for(;V;){$+=fe.substring(M,V.index);const ne=Ge.case_insensitive?V[0].toLowerCase():V[0],ke=H(X,ne);if(ke){const[Ie,hr]=ke;if(_e.addText($),$="",le[ne]=(le[ne]||0)+1,le[ne]<=Id&&(ht+=hr),Ie.startsWith("_"))$+=V[0];else{const xn=Ge.classNameAliases[Ie]||Ie;_e.addKeyword(V[0],xn)}}else $+=V[0];M=X.keywordPatternRe.lastIndex,V=X.keywordPatternRe.exec(fe)}$+=fe.substring(M),_e.addText($)}function Je(){if(fe==="")return;let M=null;if(typeof X.subLanguage=="string"){if(!e[X.subLanguage]){_e.addText(fe);return}M=f(X.subLanguage,fe,!0,Bt[X.subLanguage]),Bt[X.subLanguage]=M._top}else M=g(fe,X.subLanguage.length?X.subLanguage:null);X.relevance>0&&(ht+=M.relevance),_e.addSublanguage(M._emitter,M.language)}function Ee(){X.subLanguage!=null?Je():pe(),fe=""}function Ne(M,V){let $=1;const ne=V.length-1;for(;$<=ne;){if(!M._emit[$]){$++;continue}const ke=Ge.classNameAliases[M[$]]||M[$],Ie=V[$];ke?_e.addKeyword(Ie,ke):(fe=Ie,pe(),fe=""),$++}}function dt(M,V){return M.scope&&typeof M.scope=="string"&&_e.openNode(Ge.classNameAliases[M.scope]||M.scope),M.beginScope&&(M.beginScope._wrap?(_e.addKeyword(fe,Ge.classNameAliases[M.beginScope._wrap]||M.beginScope._wrap),fe=""):M.beginScope._multi&&(Ne(M.beginScope,V),fe="")),X=Object.create(M,{parent:{value:X}}),X}function Ut(M,V,$){let ne=Xf(M.endRe,$);if(ne){if(M["on:end"]){const ke=new Bs(M);M["on:end"](V,ke),ke.isMatchIgnored&&(ne=!1)}if(ne){for(;M.endsParent&&M.parent;)M=M.parent;return M}}if(M.endsWithParent)return Ut(M.parent,V,$)}function dr(M){return X.matcher.regexIndex===0?(fe+=M[0],1):(Pt=!0,0)}function Dt(M){const V=M[0],$=M.rule,ne=new Bs($),ke=[$.__beforeBegin,$["on:begin"]];for(const Ie of ke)if(!!Ie&&(Ie(M,ne),ne.isMatchIgnored))return dr(V);return $.skip?fe+=V:($.excludeBegin&&(fe+=V),Ee(),!$.returnBegin&&!$.excludeBegin&&(fe=V)),dt($,M),$.returnBegin?0:V.length}function Bn(M){const V=M[0],$=B.substring(M.index),ne=Ut(X,M,$);if(!ne)return js;const ke=X;X.endScope&&X.endScope._wrap?(Ee(),_e.addKeyword(V,X.endScope._wrap)):X.endScope&&X.endScope._multi?(Ee(),Ne(X.endScope,M)):ke.skip?fe+=V:(ke.returnEnd||ke.excludeEnd||(fe+=V),Ee(),ke.excludeEnd&&(fe=V));do X.scope&&_e.closeNode(),!X.skip&&!X.subLanguage&&(ht+=X.relevance),X=X.parent;while(X!==ne.parent);return ne.starts&&dt(ne.starts,M),ke.returnEnd?0:V.length}function nn(){const M=[];for(let V=X;V!==Ge;V=V.parent)V.scope&&M.unshift(V.scope);M.forEach(V=>_e.openNode(V))}let Ve={};function ue(M,V){const $=V&&V[0];if(fe+=M,$==null)return Ee(),0;if(Ve.type==="begin"&&V.type==="end"&&Ve.index===V.index&&$===""){if(fe+=B.slice(V.index,V.index+1),!s){const ne=new Error(`0 width match regex (${y})`);throw ne.languageName=y,ne.badRule=Ve.rule,ne}return 1}if(Ve=V,V.type==="begin")return Dt(V);if(V.type==="illegal"&&!A){const ne=new Error('Illegal lexeme "'+$+'" for mode "'+(X.scope||"<unnamed>")+'"');throw ne.mode=X,ne}else if(V.type==="end"){const ne=Bn(V);if(ne!==js)return ne}if(V.type==="illegal"&&$==="")return 1;if(pt>1e5&&pt>V.index*3)throw new Error("potential infinite loop, way more iterations than matches");return fe+=$,$.length}const Ge=F(y);if(!Ge)throw Nt(i.replace("{}",y)),new Error('Unknown language: "'+y+'"');const rn=Cd(Ge);let Ct="",X=x||rn;const Bt={},_e=new a.__emitter(a);nn();let fe="",ht=0,ae=0,pt=0,Pt=!1;try{for(X.matcher.considerAll();;){pt++,Pt?Pt=!1:X.matcher.considerAll(),X.matcher.lastIndex=ae;const M=X.matcher.exec(B);if(!M)break;const V=B.substring(ae,M.index),$=ue(V,M);ae=M.index+$}return ue(B.substring(ae)),_e.closeAllNodes(),_e.finalize(),Ct=_e.toHTML(),{language:y,value:Ct,relevance:ht,illegal:!1,_emitter:_e,_top:X}}catch(M){if(M.message&&M.message.includes("Illegal"))return{language:y,value:Mr(B),illegal:!0,relevance:0,_illegalBy:{message:M.message,index:ae,context:B.slice(ae-100,ae+100),mode:M.mode,resultSoFar:Ct},_emitter:_e};if(s)return{language:y,value:Mr(B),illegal:!1,relevance:0,errorRaised:M,_emitter:_e,_top:X};throw M}}function d(y){const B={value:Mr(y),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return B._emitter.addText(y),B}function g(y,B){B=B||a.languages||Object.keys(e);const A=d(y),x=B.filter(F).filter(v).map(Ee=>f(Ee,y,!1));x.unshift(A);const le=x.sort((Ee,Ne)=>{if(Ee.relevance!==Ne.relevance)return Ne.relevance-Ee.relevance;if(Ee.language&&Ne.language){if(F(Ee.language).supersetOf===Ne.language)return 1;if(F(Ne.language).supersetOf===Ee.language)return-1}return 0}),[H,pe]=le,Je=H;return Je.secondBest=pe,Je}function h(y,B,A){const x=B&&n[B]||A;y.classList.add("hljs"),y.classList.add(`language-${x}`)}function m(y){let B=null;const A=l(y);if(c(A))return;if(b("before:highlightElement",{el:y,language:A}),y.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(y)),a.throwUnescapedHTML))throw new Md("One of your code blocks includes unescaped HTML.",y.innerHTML);B=y;const x=B.textContent,le=A?u(x,{language:A,ignoreIllegals:!0}):g(x);y.innerHTML=le.value,h(y,A,le.language),y.result={language:le.language,re:le.relevance,relevance:le.relevance},le.secondBest&&(y.secondBest={language:le.secondBest.language,relevance:le.secondBest.relevance}),b("after:highlightElement",{el:y,result:le,text:x})}function _(y){a=Ls(a,y)}const E=()=>{L(),Wt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function P(){L(),Wt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let U=!1;function L(){if(document.readyState==="loading"){U=!0;return}document.querySelectorAll(a.cssSelector).forEach(m)}function W(){U&&L()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",W,!1);function N(y,B){let A=null;try{A=B(t)}catch(x){if(Nt("Language definition for '{}' could not be registered.".replace("{}",y)),s)Nt(x);else throw x;A=o}A.name||(A.name=y),e[y]=A,A.rawDefinition=B.bind(null,t),A.aliases&&K(A.aliases,{languageName:y})}function R(y){delete e[y];for(const B of Object.keys(n))n[B]===y&&delete n[B]}function C(){return Object.keys(e)}function F(y){return y=(y||"").toLowerCase(),e[y]||e[n[y]]}function K(y,{languageName:B}){typeof y=="string"&&(y=[y]),y.forEach(A=>{n[A.toLowerCase()]=B})}function v(y){const B=F(y);return B&&!B.disableAutodetect}function Z(y){y["before:highlightBlock"]&&!y["before:highlightElement"]&&(y["before:highlightElement"]=B=>{y["before:highlightBlock"](Object.assign({block:B.el},B))}),y["after:highlightBlock"]&&!y["after:highlightElement"]&&(y["after:highlightElement"]=B=>{y["after:highlightBlock"](Object.assign({block:B.el},B))})}function oe(y){Z(y),r.push(y)}function b(y,B){const A=y;r.forEach(function(x){x[A]&&x[A](B)})}function w(y){return Wt("10.7.0","highlightBlock will be removed entirely in v12.0"),Wt("10.7.0","Please use highlightElement now."),m(y)}Object.assign(t,{highlight:u,highlightAuto:g,highlightAll:L,highlightElement:m,highlightBlock:w,configure:_,initHighlighting:E,initHighlightingOnLoad:P,registerLanguage:N,unregisterLanguage:R,listLanguages:C,getLanguage:F,registerAliases:K,autoDetection:v,inherit:Ls,addPlugin:oe}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=xd,t.regex={concat:jt,lookahead:Po,either:ci,optional:Kf,anyNumberOfTimes:Gf};for(const y in Fn)typeof Fn[y]=="object"&&oi.exports(Fn[y]);return Object.assign(t,Fn),t};var An=Nd({}),Ld=An;An.HighlightJS=An;An.default=An;const Us=Ld,jd=t=>({highlighted:t&8}),Ds=t=>({highlighted:t[3]});function Ud(t){let e;return{c(){e=ve(t[1])},m(n,r){q(n,e,r)},p(n,r){r&2&&De(e,n[1])},d(n){n&&z(e)}}}function Dd(t){let e,n;return{c(){e=new Ys(!1),n=ut(),e.a=n},m(r,s){e.m(t[3],r,s),q(r,n,s)},p(r,s){s&8&&e.p(r[3])},d(r){r&&z(n),r&&e.d()}}}function Pd(t){let e,n,r;function s(l,u){return l[3]!==void 0?Dd:Ud}let i=s(t),o=i(t),a=[{"data-language":r=t[0].name||"plaintext"},t[4]],c={};for(let l=0;l<a.length;l+=1)c=Et(c,a[l]);return{c(){e=D("pre"),n=D("code"),o.c(),S(n,"class","hljs"),Kn(e,c),te(e,"langtag",t[2]),te(e,"svelte-4cqgwq",!0)},m(l,u){q(l,e,u),O(e,n),o.m(n,null)},p(l,u){i===(i=s(l))&&o?o.p(l,u):(o.d(1),o=i(l),o&&(o.c(),o.m(n,null))),Kn(e,c=Wr(a,[u&1&&r!==(r=l[0].name||"plaintext")&&{"data-language":r},u&16&&l[4]])),te(e,"langtag",l[2]),te(e,"svelte-4cqgwq",!0)},d(l){l&&z(e),o.d()}}}function Hd(t){let e;const n=t[6].default,r=Te(n,t,t[5],Ds),s=r||Pd(t);return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,[o]){r?r.p&&(!e||o&40)&&Ce(r,n,i,i[5],e?Oe(n,i[5],o,jd):Be(i[5]),Ds):s&&s.p&&(!e||o&31)&&s.p(i,e?o:-1)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function zd(t,e,n){const r=["language","code","langtag"];let s=Vn(e,r),{$$slots:i={},$$scope:o}=e,{language:a={name:void 0,register:void 0}}=e,{code:c=void 0}=e,{langtag:l=!1}=e;const u=en();let f;return Zl(()=>{f&&u("highlight",{highlighted:f})}),t.$$set=d=>{e=Et(Et({},e),Gs(d)),n(4,s=Vn(e,r)),"language"in d&&n(0,a=d.language),"code"in d&&n(1,c=d.code),"langtag"in d&&n(2,l=d.langtag),"$$scope"in d&&n(5,o=d.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a.name&&a.register&&(Us.registerLanguage(a.name,a.register),n(3,f=Us.highlight(c,{language:a.name}).value))},[a,c,l,f,s,o,i]}class Fd extends ye{constructor(e){super(),be(this,e,zd,Hd,ge,{language:0,code:1,langtag:2})}}const qd=Fd;function Wd(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],s={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,s,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}const Vd={name:"json",register:Wd},Gd=Vd,Kd="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>",Jd=Kd;function Ps(t,{delay:e=0,duration:n=400,easing:r=Fs}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}const di="https://atomicdata.dev/properties/localId",ir=(t,e)=>{if(!e)return t;const n=Jt(lt);return t.replace(n,"")},Jo=(t,e,n)=>(r,s=!1)=>{const i=t.get(r);if(i!==void 0)if(s){const o=Array.isArray(i)?i.map(a=>ir(a,n.includes(a))):ir(i,n.includes(i));e[r]=o}else e[r]=i},Xd=(t,e,n)=>{const s={[n?di:"@id"]:ir(t.getSubject(),n)},i=Jo(t,s,e);return i(j.properties.shortname),i(j.properties.isA,n),i(j.properties.description),i(j.properties.requires,n),i(j.properties.recommends,n),!n&&i(j.properties.parent),s},Zd=(t,e,n)=>{const s={[n?di:"@id"]:ir(t.getSubject(),n)},i=Jo(t,s,e);return i(j.properties.shortname),i(j.properties.isA,n),i(j.properties.description),i(j.properties.datatype),i(j.properties.classType,n),!n&&i(j.properties.parent),s},Yd=(t,e,n,r)=>{const s=[],i=[...n,...t];for(const o of t){const a=e.getResourceLoading(o);s.push(Xd(a,i,r));const c=Array.from(new Set([...a.get(j.properties.requires),...a.get(j.properties.recommends)]));for(const l of c){if(!n.includes(l)||s.some(f=>f["@id"]===l||f[di]===l))continue;const u=e.getResourceLoading(l);s.push(Zd(u,i,r))}}return JSON.stringify(s,null,2)},{document:Hs}=ra;function zs(t){let e,n,r,s;return{c(){e=D("p"),n=ve(t[2]),S(e,"class","waring svelte-2y9ym9")},m(i,o){q(i,e,o),O(e,n),s=!0},p(i,o){(!s||o&4)&&De(n,i[2])},i(i){s||(Zt(()=>{r||(r=Ri(e,Ps,{duration:100},!0)),r.run(1)}),s=!0)},o(i){r||(r=Ri(e,Ps,{duration:100},!1)),r.run(0),s=!1},d(i){i&&z(e),i&&r&&r.end()}}}function Qd(t){let e,n,r,s,i,o,a,c,l,u,f,d,g,h,m,_=t[2]&&zs(t);return d=new qd({props:{language:Gd,code:t[0]}}),{c(){e=new Ys(!1),n=ut(),r=J(),s=D("section"),i=D("h2"),i.textContent="Output",o=J(),_&&_.c(),a=J(),c=D("input"),l=J(),u=D("label"),u.textContent="Importer compatible JSON",f=J(),ee(d.$$.fragment),e.a=n,S(c,"type","checkbox"),S(c,"id","import-toggle"),S(u,"for","import-toggle")},m(E,P){e.m(Jd,Hs.head),O(Hs.head,n),q(E,r,P),q(E,s,P),O(s,i),O(s,o),_&&_.m(s,null),O(s,a),O(s,c),c.checked=t[1],O(s,l),O(s,u),O(s,f),Y(d,s,null),g=!0,h||(m=[se(c,"change",t[6]),se(c,"input",t[3])],h=!0)},p(E,[P]){E[2]?_?(_.p(E,P),P&4&&k(_,1)):(_=zs(E),_.c(),k(_,1),_.m(s,a)):_&&(xe(),I(_,1,1,()=>{_=null}),Me()),P&2&&(c.checked=E[1]);const U={};P&1&&(U.code=E[0]),d.$set(U)},i(E){g||(k(_),k(d.$$.fragment,E),g=!0)},o(E){I(_),I(d.$$.fragment,E),g=!1},d(E){z(n),E&&e.d(),E&&z(r),E&&z(s),_&&_.d(),Q(d),h=!1,Pe(m)}}}function $d(t,e,n){let r,s,i;ce(t,nr,m=>n(4,r=m)),ce(t,St,m=>n(5,s=m)),ce(t,Tt,m=>n(7,i=m));const o=new Set,a=new Set;let c="Add some classes and properties to see the output.",l=!1,u="";const f=()=>{n(0,c=Yd(s,i,r,l)),document.querySelectorAll(":invalid").length>0?n(2,u="Warning: Some required fields are empty."):n(2,u="")},d=(m,_)=>{for(const E of m)_.has(E)||i.subscribe(E,f);for(const E of _)m.includes(E)||i.unsubscribe(E,f)},g=m=>{n(1,l=m.target.checked),f()};function h(){l=this.checked,n(1,l)}return t.$$.update=()=>{t.$$.dirty&48&&(d(s,o),d(r,a))},[c,l,u,g,r,s,h]}class eh extends ye{constructor(e){super(),be(this,e,$d,Qd,ge,{})}}function th(t){let e,n,r,s,i;return n=new Cf({}),s=new eh({}),{c(){e=D("div"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),S(e,"class","wrapper svelte-ntiweo")},m(o,a){q(o,e,a),Y(n,e,null),O(e,r),Y(s,e,null),i=!0},p:ie,i(o){i||(k(n.$$.fragment,o),k(s.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),I(s.$$.fragment,o),i=!1},d(o){o&&z(e),Q(n),Q(s)}}}function nh(t){let e,n,r,s,i;return e=new zf({}),s=new to({props:{$$slots:{default:[th]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment),n=J(),r=D("main"),ee(s.$$.fragment)},m(o,a){Y(e,o,a),q(o,n,a),q(o,r,a),Y(s,r,null),i=!0},p(o,[a]){const c={};a&8&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(k(e.$$.fragment,o),k(s.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),I(s.$$.fragment,o),i=!1},d(o){Q(e,o),o&&z(n),o&&z(r),Q(s)}}}function rh(t,e,n){return ce(t,St,r=>n(0,r)),ce(t,lt,r=>n(1,r)),[]}class ih extends ye{constructor(e){super(),be(this,e,rh,nh,ge,{})}}new ih({target:document.getElementById("app")})});export default sh();
