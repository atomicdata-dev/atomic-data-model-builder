var Ul=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dd=Ul((gd,cn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function re(){}const Ps=t=>t;function St(t,e){for(const n in e)t[n]=e[n];return t}function Hs(t){return t()}function yi(){return Object.create(null)}function Ne(t){t.forEach(Hs)}function Kt(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Dl(t){return Object.keys(t).length===0}function zs(t,...e){if(t==null)return re;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Jt(t){let e;return zs(t,n=>e=n)(),e}function ce(t,e,n){t.$$.on_destroy.push(zs(e,n))}function Te(t,e,n,r){if(t){const s=Fs(t,e,n,r);return t[0](s)}}function Fs(t,e,n,r){return t[1]&&r?St(n.ctx.slice(),t[1](r(e))):n.ctx}function Oe(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Ce(t,e,n,r,s,i){if(s){const o=Fs(e,n,r,i);t.p(o,s)}}function Be(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function qs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Pn(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Pl(t){const e={};for(const n in t)e[n]=!0;return e}function $e(t,e,n){return t.set(n),e}function Hn(t){return t&&Kt(t.destroy)?t.destroy:re}const Ws=typeof window<"u";let Hl=Ws?()=>window.performance.now():()=>Date.now(),Pr=Ws?t=>requestAnimationFrame(t):re;const Gt=new Set;function Vs(t){Gt.forEach(e=>{e.c(t)||(Gt.delete(e),e.f())}),Gt.size!==0&&Pr(Vs)}function zl(t){let e;return Gt.size===0&&Pr(Vs),{promise:new Promise(n=>{Gt.add(e={c:t,f:n})}),abort(){Gt.delete(e)}}}function C(t,e){t.appendChild(e)}function Gs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Fl(t){const e=D("style");return ql(Gs(t),e),e.sheet}function ql(t,e){return C(t.head||t,e),e.sheet}function q(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Hr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function Et(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ve(t){return document.createTextNode(t)}function J(){return ve(" ")}function ut(){return ve("")}function ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function qe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Ve(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function zn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:E(t,r,e[r])}function _i(t,e){for(const n in e)E(t,n,e[n])}function Wl(t){return Array.from(t.childNodes)}function De(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function At(t,e){t.value=e??""}function Cn(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function wi(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function Vl(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function te(t,e,n){t.classList[n?"add":"remove"](e)}function Ks(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}class Js{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=Et(n.nodeName):this.e=D(n.nodeName),this.t=n,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)q(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(z)}}const Fn=new Map;let qn=0;function Gl(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Kl(t,e){const n={stylesheet:Fl(e),rules:{}};return Fn.set(t,n),n}function vi(t,e,n,r,s,i,o,a=0){const c=16.666/r;let l=`{
`;for(let _=0;_<=1;_+=c){const S=e+(n-e)*i(_);l+=_*100+`%{${o(S,1-S)}}
`}const u=l+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Gl(u)}_${a}`,h=Gs(t),{stylesheet:g,rules:d}=Fn.get(h)||Kl(h,t);d[f]||(d[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${s}ms 1 both`,qn+=1,f}function Jl(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),qn-=s,qn||Xl())}function Xl(){Pr(()=>{qn||(Fn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&z(e)}),Fn.clear())})}let mn;function un(t){mn=t}function vn(){if(!mn)throw new Error("Function called outside component initialization");return mn}function Zl(t){vn().$$.before_update.push(t)}function Yl(t){vn().$$.on_mount.push(t)}function Ql(t){vn().$$.after_update.push(t)}function $l(t){vn().$$.on_destroy.push(t)}function $t(){const t=vn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Ks(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function je(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const ln=[],Se=[],Un=[],Or=[],ea=Promise.resolve();let Cr=!1;function ta(){Cr||(Cr=!0,ea.then(Xs))}function Xt(t){Un.push(t)}function ze(t){Or.push(t)}const br=new Set;let Bn=0;function Xs(){const t=mn;do{for(;Bn<ln.length;){const e=ln[Bn];Bn++,un(e),na(e.$$)}for(un(null),ln.length=0,Bn=0;Se.length;)Se.pop()();for(let e=0;e<Un.length;e+=1){const n=Un[e];br.has(n)||(br.add(n),n())}Un.length=0}while(ln.length);for(;Or.length;)Or.pop()();Cr=!1,br.clear(),un(t)}function na(t){if(t.fragment!==null){t.update(),Ne(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Xt)}}let rn;function ra(){return rn||(rn=Promise.resolve(),rn.then(()=>{rn=null})),rn}function yr(t,e,n){t.dispatchEvent(Ks(`${e?"intro":"outro"}${n}`))}const Dn=new Set;let ot;function xe(){ot={r:0,c:[],p:ot}}function Me(){ot.r||Ne(ot.c),ot=ot.p}function k(t,e){t&&t.i&&(Dn.delete(t),t.i(e))}function I(t,e,n,r){if(t&&t.o){if(Dn.has(t))return;Dn.add(t),ot.c.push(()=>{Dn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const ia={duration:0};function Si(t,e,n,r){const s={direction:"both"};let i=e(t,n,s),o=r?0:1,a=null,c=null,l=null;function u(){l&&Jl(t,l)}function f(g,d){const m=g.b-o;return d*=Math.abs(m),{a:o,b:g.b,d:m,duration:d,start:g.start,end:g.start+d,group:g.group}}function h(g){const{delay:d=0,duration:m=300,easing:_=Ps,tick:S=re,css:P}=i||ia,U={start:Hl()+d,b:g};g||(U.group=ot,ot.r+=1),a||c?c=U:(P&&(u(),l=vi(t,o,g,m,d,_,P)),g&&S(0,1),a=f(U,m),Xt(()=>yr(t,g,"start")),zl(N=>{if(c&&N>c.start&&(a=f(c,m),c=null,yr(t,a.b,"start"),P&&(u(),l=vi(t,o,a.b,a.duration,0,_,i.css))),a){if(N>=a.end)S(o=a.b,1-o),yr(t,a.b,"end"),c||(a.b?u():--a.group.r||Ne(a.group.c)),a=null;else if(N>=a.start){const G=N-a.start;o=a.a+a.d*_(G/a.duration),S(o,1-o)}}return!!(a||c)}))}return{run(g){Kt(i)?ra().then(()=>{i=i(s),h(g)}):h(g)},end(){u(),a=c=null}}}const sa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Zs(t,e){I(t,1,1,()=>{e.delete(t.key)})}function Ys(t,e,n,r,s,i,o,a,c,l,u,f){let h=t.length,g=i.length,d=h;const m={};for(;d--;)m[t[d].key]=d;const _=[],S=new Map,P=new Map;for(d=g;d--;){const L=f(s,i,d),R=n(L);let O=o.get(R);O?r&&O.p(L,e):(O=l(R,L),O.c()),S.set(R,_[d]=O),R in m&&P.set(R,Math.abs(d-m[R]))}const U=new Set,N=new Set;function G(L){k(L,1),L.m(a,u),o.set(L.key,L),u=L.first,g--}for(;h&&g;){const L=_[g-1],R=t[h-1],O=L.key,F=R.key;L===R?(u=L.first,h--,g--):S.has(F)?!o.has(O)||U.has(O)?G(L):N.has(F)?h--:P.get(O)>P.get(F)?(N.add(O),G(L)):(U.add(F),h--):(c(R,o),h--)}for(;h--;){const L=t[h];S.has(L.key)||c(L,o)}for(;g;)G(_[g-1]);return _}function zr(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const c in o)c in a||(r[c]=1);for(const c in a)s[c]||(n[c]=a[c],s[c]=1);t[i]=a}else for(const c in o)s[c]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Fe(t,e,n,r){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,r===void 0&&n(t.$$.ctx[s]))}function ee(t){t&&t.c()}function Q(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||Xt(()=>{const o=t.$$.on_mount.map(Hs).filter(Kt);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ne(o),t.$$.on_mount=[]}),i.forEach(Xt)}function $(t,e){const n=t.$$;n.fragment!==null&&(Ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function oa(t,e){t.$$.dirty[0]===-1&&(ln.push(t),ta(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,s,i,o,a=[-1]){const c=mn;un(t);const l=t.$$={fragment:null,ctx:[],props:i,update:re,not_equal:s,bound:yi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:yi(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(f,h,...g)=>{const d=g.length?g[0]:h;return l.ctx&&s(l.ctx[f],l.ctx[f]=d)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](d),u&&oa(t,f)),h}):[],l.update(),u=!0,Ne(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=Wl(e.target);l.fragment&&l.fragment.l(f),f.forEach(z)}else l.fragment&&l.fragment.c();e.intro&&k(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Xs()}un(c)}class ye{$destroy(){$(this,1),this.$destroy=re}$on(e,n){if(!Kt(n))return re;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Dl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function la(t){let e,n;const r=t[1].default,s=Te(r,t,t[0],null);return{c(){e=D("div"),s&&s.c(),E(e,"class","svelte-p007f4")},m(i,o){q(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&1)&&Ce(s,r,i,i[0],n?Oe(r,i[0],o,null):Be(i[0]),null)},i(i){n||(k(s,i),n=!0)},o(i){I(s,i),n=!1},d(i){i&&z(e),s&&s.d(i)}}}function aa(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,r]}class Qs extends ye{constructor(e){super(),be(this,e,aa,la,ge,{})}}const zt=[];function Qn(t,e){return{subscribe:Sn(t,e).subscribe}}function Sn(t,e=re){let n;const r=new Set;function s(a){if(ge(t,a)&&(t=a,n)){const c=!zt.length;for(const l of r)l[1](),zt.push(l,t);if(c){for(let l=0;l<zt.length;l+=2)zt[l][0](zt[l+1]);zt.length=0}}}function i(a){s(a(t))}function o(a,c=re){const l=[a,c];return r.add(l),r.size===1&&(n=e(s)||re),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}const vt=Sn([]),Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Fr=(t,e=10)=>{let n=t;for(let r=0;r<e;r++)n+=Ei.charAt(Math.floor(Math.random()*Ei.length));return n},lt=Sn("https://localhost/");globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var qr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Wr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function $s(t,e){return qr(this,void 0,void 0,function(){var n,r,s,i,o;return Wr(this,function(a){switch(a.label){case 0:if(n=Zr(),!e.subject)throw new Error("Agent has no subject, cannot authenticate");return o={"https://atomicdata.dev/properties/auth/agent":e.subject,"https://atomicdata.dev/properties/auth/requestedSubject":t},s="https://atomicdata.dev/properties/auth/publicKey",[4,e.getPublicKey()];case 1:return o[s]=a.sent(),o["https://atomicdata.dev/properties/auth/timestamp"]=n,i="https://atomicdata.dev/properties/auth/signature",[4,eo(t,e,n)];case 2:return r=(o[i]=a.sent(),o),[2,r]}})})}function eo(t,e,n){return qr(this,void 0,void 0,function(){var r;return Wr(this,function(s){switch(s.label){case 0:return r="".concat(t," ").concat(n),[4,uo(r,e.privateKey)];case 1:return[2,s.sent()]}})})}function ca(t,e){var n;return!t.startsWith("http://localhost")&&((n=e==null?void 0:e.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))}function ua(t,e,n){return qr(this,void 0,void 0,function(){var r,s,i,o,a;return Wr(this,function(c){switch(c.label){case 0:return r=Zr(),(e==null?void 0:e.subject)&&!ca(t,e)?(s=n,i="x-atomic-public-key",[4,e.getPublicKey()]):[3,3];case 1:return s[i]=c.sent(),o=n,a="x-atomic-signature",[4,eo(t,e,r)];case 2:o[a]=c.sent(),n["x-atomic-timestamp"]=r,n["x-atomic-agent"]=e==null?void 0:e.subject,c.label=3;case 3:return[2,n]}})})}var fa=24*60*60*1e3,ha=function(t,e,n,r){r===void 0&&(r=fa);var s=new Date(Date.now()+r).toUTCString(),i=encodeURIComponent(e),o=new URL(n.getServerUrl()).hostname,a="".concat(t,"=").concat(i,";Expires=").concat(s,";Domain=").concat(o,";SameSite=Lax;path=/");document.cookie=a},to=function(t,e){$s(t.getServerUrl(),e).then(function(n){ha("atomic_session",btoa(JSON.stringify(n)),t)})},da=function(){var t=document.cookie.match(/^(.*;)?\s*atomic_session\s*=\s*[^;]+(.*)?$/);return t?t.length>0:!1};globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Br={exports:{}};(function(t,e){var n=typeof self<"u"?self:pa,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(b){return b&&DataView.prototype.isPrototypeOf(b)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&l.indexOf(Object.prototype.toString.call(b))>-1};function f(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function g(b){var w={next:function(){var y=b.shift();return{done:y===void 0,value:y}}};return a.iterable&&(w[Symbol.iterator]=function(){return w}),w}function d(b){this.map={},b instanceof d?b.forEach(function(w,y){this.append(y,w)},this):Array.isArray(b)?b.forEach(function(w){this.append(w[0],w[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(w){this.append(w,b[w])},this)}d.prototype.append=function(b,w){b=f(b),w=h(w);var y=this.map[b];this.map[b]=y?y+", "+w:w},d.prototype.delete=function(b){delete this.map[f(b)]},d.prototype.get=function(b){return b=f(b),this.has(b)?this.map[b]:null},d.prototype.has=function(b){return this.map.hasOwnProperty(f(b))},d.prototype.set=function(b,w){this.map[f(b)]=h(w)},d.prototype.forEach=function(b,w){for(var y in this.map)this.map.hasOwnProperty(y)&&b.call(w,this.map[y],y,this)},d.prototype.keys=function(){var b=[];return this.forEach(function(w,y){b.push(y)}),g(b)},d.prototype.values=function(){var b=[];return this.forEach(function(w){b.push(w)}),g(b)},d.prototype.entries=function(){var b=[];return this.forEach(function(w,y){b.push([y,w])}),g(b)},a.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function m(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function _(b){return new Promise(function(w,y){b.onload=function(){w(b.result)},b.onerror=function(){y(b.error)}})}function S(b){var w=new FileReader,y=_(w);return w.readAsArrayBuffer(b),y}function P(b){var w=new FileReader,y=_(w);return w.readAsText(b),y}function U(b){for(var w=new Uint8Array(b),y=new Array(w.length),B=0;B<w.length;B++)y[B]=String.fromCharCode(w[B]);return y.join("")}function N(b){if(b.slice)return b.slice(0);var w=new Uint8Array(b.byteLength);return w.set(new Uint8Array(b)),w.buffer}function G(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:a.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:a.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():a.arrayBuffer&&a.blob&&c(b)?(this._bodyArrayBuffer=N(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=N(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(U(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(b){var w=b.toUpperCase();return L.indexOf(w)>-1?w:b}function O(b,w){w=w||{};var y=w.body;if(b instanceof O){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,w.headers||(this.headers=new d(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!y&&b._bodyInit!=null&&(y=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new d(w.headers)),this.method=R(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function F(b){var w=new FormData;return b.trim().split("&").forEach(function(y){if(y){var B=y.split("="),A=B.shift().replace(/\+/g," "),x=B.join("=").replace(/\+/g," ");w.append(decodeURIComponent(A),decodeURIComponent(x))}}),w}function K(b){var w=new d,y=b.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(B){var A=B.split(":"),x=A.shift().trim();if(x){var le=A.join(":").trim();w.append(x,le)}}),w}G.call(O.prototype);function v(b,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new d(w.headers),this.url=w.url||"",this._initBody(b)}G.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var b=new v(null,{status:0,statusText:""});return b.type="error",b};var Z=[301,302,303,307,308];v.redirect=function(b,w){if(Z.indexOf(w)===-1)throw new RangeError("Invalid status code");return new v(null,{status:w,headers:{location:b}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,y){this.message=w,this.name=y;var B=Error(w);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function oe(b,w){return new Promise(function(y,B){var A=new O(b,w);if(A.signal&&A.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function le(){x.abort()}x.onload=function(){var H={status:x.status,statusText:x.statusText,headers:K(x.getAllResponseHeaders()||"")};H.url="responseURL"in x?x.responseURL:H.headers.get("X-Request-URL");var pe="response"in x?x.response:x.responseText;y(new v(pe,H))},x.onerror=function(){B(new TypeError("Network request failed"))},x.ontimeout=function(){B(new TypeError("Network request failed"))},x.onabort=function(){B(new o.DOMException("Aborted","AbortError"))},x.open(A.method,A.url,!0),A.credentials==="include"?x.withCredentials=!0:A.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&a.blob&&(x.responseType="blob"),A.headers.forEach(function(H,pe){x.setRequestHeader(pe,H)}),A.signal&&(A.signal.addEventListener("abort",le),x.onreadystatechange=function(){x.readyState===4&&A.signal.removeEventListener("abort",le)}),x.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return oe.polyfill=!0,i.fetch||(i.fetch=oe,i.Headers=d,i.Request=O,i.Response=v),o.Headers=d,o.Request=O,o.Response=v,o.fetch=oe,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Br,Br.exports);const xr=ga(Br.exports);var Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Mr.apply(this,arguments)},no=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},ro=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};globalThis&&globalThis.__values;var ma="application/ad+json";function Ir(t,e,n){return no(this,void 0,void 0,function(){var r,s,i,o,a,c,l,u,f;return ro(this,function(h){switch(h.label){case 0:r=new It(t),h.label=1;case 1:return h.trys.push([1,7,,8]),Zt(t),s={},s.Accept=ma,i=e==null?void 0:e.getAgent(),i&&e?t.startsWith(window.location.origin)?(da()||to(e,i),[3,4]):[3,2]:[3,4];case 2:return[4,ua(t,i,s)];case 3:h.sent(),h.label=4;case 4:if(o=t,n!==void 0&&(a=new URL("".concat(n,"/path")),a.searchParams.set("path",t),o=a.href),xr===void 0)throw new Ye("No window object available this lib currently requires the DOM for fetching");return[4,xr(o,{headers:s})];case 5:return c=h.sent(),[4,c.text()];case 6:if(l=h.sent(),c.status===200)try{u=JSON.parse(l),r=Qr(u,r,e)}catch(g){throw new Ye("Could not parse JSON from fetching ".concat(t,". Is it an Atomic Data resource? Error message: ").concat(g.message))}else throw c.status===401?new Ye(l,Je.Unauthorized):c.status===500?new Ye(l,Je.Server):c.status===404?new Ye(l,Je.NotFound):new Ye(l);return[3,8];case 7:return f=h.sent(),r.setError(f),[3,8];case 8:return r.loading=!1,e&&e.addResource(r),[2,r]}})})}function Ai(t,e){return no(this,void 0,void 0,function(){var n,r,s,i,o;return ro(this,function(a){switch(a.label){case 0:n=co(Mr({},t)),r=new Headers,r.set("Content-Type","application/ad+json"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,xr(e,{headers:r,method:"POST",body:n})];case 2:return s=a.sent(),[3,4];case 3:throw i=a.sent(),new Ye("Posting Commit to ".concat(e," failed: ").concat(i));case 4:return[4,s.text()];case 5:if(o=a.sent(),s.status!==200)throw new Ye(o,Je.Server);return[2,fo(o)]}})})}function Zt(t){try{new URL(t)}catch(e){throw new Error("Not a valid URL: ".concat(t,". ").concat(e))}}function ba(t){return t==null?void 0:t.split("?")[0]}const ya={};const Re=BigInt(0),se=BigInt(1),Ue=BigInt(2),io=BigInt(255),ki=Ue**BigInt(252)+BigInt("27742317777372353535851937790883648493"),me={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Ue**io-BigInt(19),l:ki,n:ki,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},so=Ue**BigInt(256),fn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const _a=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),wa=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),va=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Sa=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class he{constructor(e,n,r,s){this.x=e,this.y=n,this.z=r,this.t=s}static fromAffine(e){if(!(e instanceof Ae))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ae.ZERO)?he.ZERO:new he(e.x,e.y,se,T(e.x*e.y))}static toAffineBatch(e){const n=ka(e.map(r=>r.z));return e.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Ri(e);const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=e,c=T(n*a),l=T(i*s),u=T(r*a),f=T(o*s);return c===l&&u===f}negate(){return new he(T(-this.x),this.y,this.z,T(-this.t))}double(){const{x:e,y:n,z:r}=this,{a:s}=me,i=T(e**Ue),o=T(n**Ue),a=T(Ue*T(r**Ue)),c=T(s*i),l=T(T((e+n)**Ue)-i-o),u=c+o,f=u-a,h=c-o,g=T(l*f),d=T(u*h),m=T(l*h),_=T(f*u);return new he(g,d,_,m)}add(e){Ri(e);const{x:n,y:r,z:s,t:i}=this,{x:o,y:a,z:c,t:l}=e,u=T((r-n)*(a+o)),f=T((r+n)*(a-o)),h=T(f-u);if(h===Re)return this.double();const g=T(s*Ue*l),d=T(i*Ue*c),m=d+g,_=f+u,S=d-g,P=T(m*h),U=T(_*S),N=T(m*S),G=T(h*_);return new he(P,U,G,N)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const n=1+256/e,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(e,n){!n&&this.equals(he.BASE)&&(n=Ae.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&Nr.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=he.normalizeZ(s),Nr.set(n,s)));let i=he.ZERO,o=he.ZERO;const a=1+256/r,c=2**(r-1),l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<a;h++){const g=h*c;let d=Number(e&l);if(e>>=f,d>c&&(d-=u,e+=se),d===0){let m=s[g];h%2&&(m=m.negate()),o=o.add(m)}else{let m=s[g+Math.abs(d)-1];d<0&&(m=m.negate()),i=i.add(m)}}return he.normalizeZ([i,o])[0]}multiply(e,n){return this.wNAF(Wn(e,me.l),n)}multiplyUnsafe(e){let n=Wn(e,me.l,!1);const r=he.BASE,s=he.ZERO;if(n===Re)return s;if(this.equals(s)||n===se)return this;if(this.equals(r))return this.wNAF(n);let i=s,o=this;for(;n>Re;)n&se&&(i=i.add(o)),o=o.double(),n>>=se;return i}isSmallOrder(){return this.multiplyUnsafe(me.h).equals(he.ZERO)}isTorsionFree(){return this.multiplyUnsafe(me.l).equals(he.ZERO)}toAffine(e=$n(this.z)){const{x:n,y:r,z:s}=this,i=T(n*e),o=T(r*e);if(T(s*e)!==se)throw new Error("invZ was invalid");return new Ae(i,o)}fromRistrettoBytes(){wr()}toRistrettoBytes(){wr()}fromRistrettoHash(){wr()}}he.BASE=new he(me.Gx,me.Gy,se,T(me.Gx*me.Gy));he.ZERO=new he(Re,se,se,Re);function Ri(t){if(!(t instanceof he))throw new TypeError("ExtendedPoint expected")}function _r(t){if(!(t instanceof We))throw new TypeError("RistrettoPoint expected")}function wr(){throw new Error("Legacy method: switch to RistrettoPoint")}class We{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:n}=me,r=T(fn*e*e),s=T((r+se)*va);let i=BigInt(-1);const o=T((i-n*r)*T(r+n));let{isValid:a,value:c}=Gr(s,o),l=T(c*e);_t(l)||(l=T(-l)),a||(c=l),a||(i=r);const u=T(i*(r-se)*Sa-o),f=c*c,h=T((c+c)*o),g=T(u*_a),d=T(se-f),m=T(se+f);return new he(T(h*m),T(d*g),T(g*m),T(h*d))}static hashToCurve(e){e=Lt(e,64);const n=vr(e.slice(0,32)),r=this.calcElligatorRistrettoMap(n),s=vr(e.slice(32,64)),i=this.calcElligatorRistrettoMap(s);return new We(r.add(i))}static fromHex(e){e=Lt(e,32);const{a:n,d:r}=me,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=vr(e);if(!Ta(bn(i),e)||_t(i))throw new Error(s);const o=T(i*i),a=T(se+n*o),c=T(se-n*o),l=T(a*a),u=T(c*c),f=T(n*r*l-u),{isValid:h,value:g}=Ti(T(f*u)),d=T(g*c),m=T(g*d*f);let _=T((i+i)*d);_t(_)&&(_=T(-_));const S=T(a*m),P=T(_*S);if(!h||_t(P)||S===Re)throw new Error(s);return new We(new he(_,S,se,P))}toRawBytes(){let{x:e,y:n,z:r,t:s}=this.ep;const i=T(T(r+n)*T(r-n)),o=T(e*n),{value:a}=Ti(T(i*o**Ue)),c=T(a*i),l=T(a*o),u=T(c*l*s);let f;if(_t(s*u)){let g=T(n*fn),d=T(e*fn);e=g,n=d,f=T(c*wa)}else f=l;_t(e*u)&&(n=T(-n));let h=T((r-n)*f);return _t(h)&&(h=T(-h)),bn(h)}toHex(){return En(this.toRawBytes())}toString(){return this.toHex()}equals(e){_r(e);const n=this.ep,r=e.ep,s=T(n.x*r.y)===T(n.y*r.x),i=T(n.y*r.y)===T(n.x*r.x);return s||i}add(e){return _r(e),new We(this.ep.add(e.ep))}subtract(e){return _r(e),new We(this.ep.subtract(e.ep))}multiply(e){return new We(this.ep.multiply(e))}multiplyUnsafe(e){return new We(this.ep.multiplyUnsafe(e))}}We.BASE=new We(he.BASE);We.ZERO=new We(he.ZERO);const Nr=new WeakMap;class Ae{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Nr.delete(this)}static fromHex(e,n=!0){const{d:r,P:s}=me;e=Lt(e,32);const i=e.slice();i[31]=e[31]&-129;const o=en(i);if(n&&o>=s)throw new Error("Expected 0 < hex < P");if(!n&&o>=so)throw new Error("Expected 0 < hex < 2**256");const a=T(o*o),c=T(a-se),l=T(r*a+se);let{isValid:u,value:f}=Gr(c,l);if(!u)throw new Error("Point.fromHex: invalid y coordinate");const h=(f&se)===se;return(e[31]&128)!==0!==h&&(f=T(-f)),new Ae(f,o)}static async fromPrivateKey(e){return(await Kr(e)).point}toRawBytes(){const e=bn(this.y);return e[31]|=this.x&se?128:0,e}toHex(){return En(this.toRawBytes())}toX25519(){const{y:e}=this,n=T((se+e)*$n(se-e));return bn(n)}isTorsionFree(){return he.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ae(T(-this.x),this.y)}add(e){return he.fromAffine(this).add(he.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return he.fromAffine(this).multiply(e,this).toAffine()}}Ae.BASE=new Ae(me.Gx,me.Gy);Ae.ZERO=new Ae(Re,se);class Vr{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromHex(e){const n=Lt(e,64),r=Ae.fromHex(n.slice(0,32),!1),s=en(n.slice(32,64));return new Vr(r,s)}assertValidity(){const{r:e,s:n}=this;if(!(e instanceof Ae))throw new Error("Expected Point instance");return Wn(n,me.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(bn(this.s),32),e}toHex(){return En(this.toRawBytes())}}function Ea(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Aa=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function En(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Aa[t[n]];return e}function oo(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,s=t.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[n]=i}return e}function lo(t){const n=t.toString(16).padStart(64,"0");return oo(n)}function bn(t){return lo(t).reverse()}function _t(t){return(T(t)&se)===se}function en(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+En(Uint8Array.from(t).reverse()))}function vr(t){return T(en(t)&Ue**io-se)}function T(t,e=me.P){const n=t%e;return n>=Re?n:e+n}function $n(t,e=me.P){if(t===Re||e<=Re)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=T(t,e),r=e,s=Re,i=se;for(;n!==Re;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==se)throw new Error("invert: does not exist");return T(s,e)}function ka(t,e=me.P){const n=new Array(t.length),r=t.reduce((i,o,a)=>o===Re?i:(n[a]=i,T(i*o,e)),se),s=$n(r,e);return t.reduceRight((i,o,a)=>o===Re?i:(n[a]=T(i*n[a],e),T(i*o,e)),s),n}function Ze(t,e){const{P:n}=me;let r=t;for(;e-- >Re;)r*=r,r%=n;return r}function Ra(t){const{P:e}=me,n=BigInt(5),r=BigInt(10),s=BigInt(20),i=BigInt(40),o=BigInt(80),c=t*t%e*t%e,l=Ze(c,Ue)*c%e,u=Ze(l,se)*t%e,f=Ze(u,n)*u%e,h=Ze(f,r)*f%e,g=Ze(h,s)*h%e,d=Ze(g,i)*g%e,m=Ze(d,o)*d%e,_=Ze(m,o)*d%e,S=Ze(_,r)*f%e;return{pow_p_5_8:Ze(S,Ue)*t%e,b2:c}}function Gr(t,e){const n=T(e*e*e),r=T(n*n*e),s=Ra(t*r).pow_p_5_8;let i=T(t*n*s);const o=T(e*i*i),a=i,c=T(i*fn),l=o===t,u=o===T(-t),f=o===T(-t*fn);return l&&(i=a),(u||f)&&(i=c),_t(i)&&(i=T(-i)),{isValid:l||u,value:i}}function Ti(t){return Gr(se,t)}async function Oi(...t){const e=await er.sha512(Ea(...t)),n=en(e);return T(n,me.l)}function Ta(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Lt(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):oo(t);if(typeof e=="number"&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function Wn(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(n){if(Re<t)return t}else if(Re<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Oa(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}async function Kr(t){if(t=typeof t=="bigint"||typeof t=="number"?lo(Wn(t,so)):Lt(t),t.length!==32)throw new Error("Expected 32 bytes");const e=await er.sha512(t),n=Oa(e.slice(0,32)),r=e.slice(32,64),s=T(en(n),me.l),i=Ae.BASE.multiply(s),o=i.toRawBytes();return{head:n,prefix:r,scalar:s,point:i,pointBytes:o}}async function Ca(t,e){t=Lt(t);const{prefix:n,scalar:r,pointBytes:s}=await Kr(e),i=await Oi(n,t),o=Ae.BASE.multiply(i),a=await Oi(o.toRawBytes(),s,t),c=T(i+a*r,me.l);return new Vr(o,c).toRawBytes()}Ae.BASE._setWindowSize(8);const pt={node:ya,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},er={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:En,getExtendedPublicKey:Kr,mod:T,invert:$n,hashToPrivateScalar:t=>{if(t=Lt(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=T(en(t),me.l);if(e===Re||e===se)throw new Error("Invalid private key");return e},randomBytes:(t=32)=>{if(pt.web)return pt.web.getRandomValues(new Uint8Array(t));if(pt.node){const{randomBytes:e}=pt.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>er.randomBytes(32),sha512:async t=>{if(pt.web){const e=await pt.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(pt.node)return Uint8Array.from(pt.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ae.BASE){const n=e.equals(Ae.BASE)?e:new Ae(e.x,e.y);return n._setWindowSize(t),n.multiply(Ue),n}};var Ba=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,r=e.cmp&&function(i){return function(o){return function(a,c){var l={key:a,value:o[a]},u={key:c,value:o[c]};return i(l,u)}}}(e.cmp),s=[];return function i(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var a,c;if(Array.isArray(o)){for(c="[",a=0;a<o.length;a++)a&&(c+=","),c+=i(o[a])||"null";return c+"]"}if(o===null)return"null";if(s.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var l=s.push(o)-1,u=Object.keys(o).sort(r&&r(o));for(c="",a=0;a<u.length;a++){var f=u[a],h=i(o[f]);!h||(c&&(c+=","),c+=JSON.stringify(f)+":"+h)}return s.splice(l,1),"{"+c+"}"}}(t)},Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",an=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xn=0;xn<Vt.length;xn++)an[Vt.charCodeAt(xn)]=xn;var xa=function(t){var e=new Uint8Array(t),n,r=e.length,s="";for(n=0;n<r;n+=3)s+=Vt[e[n]>>2],s+=Vt[(e[n]&3)<<4|e[n+1]>>4],s+=Vt[(e[n+1]&15)<<2|e[n+2]>>6],s+=Vt[e[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s},Ma=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)i=an[t.charCodeAt(r)],o=an[t.charCodeAt(r+1)],a=an[t.charCodeAt(r+2)],c=an[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l};const Sr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ia=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ia)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));(()=>{const t=typeof cn<"u"&&typeof cn.require=="function"&&cn.require.bind(cn);try{if(t){const{setImmediate:e}=t("timers");return()=>new Promise(n=>e(n))}}catch{}return()=>new Promise(e=>setTimeout(e,0))})();function Na(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ao(t){if(typeof t=="string"&&(t=Na(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class La{clone(){return this._cloneInto()}}function Jr(t){const e=r=>t().update(ao(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e.init=e.create,e}function ja(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class Ua extends La{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Sr(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:n,buffer:r,blockLen:s,finished:i}=this;if(i)throw new Error("digest() was already called");e=ao(e);const o=e.length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c===s){const l=Sr(e);for(;s<=o-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let c=o;c<s;c++)n[c]=0;ja(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Sr(e);this.get().forEach((c,l)=>a.setUint32(4*l,c,i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const Mn=BigInt(2**32-1),Ci=BigInt(32);function Da(t,e=!1){return e?{h:Number(t&Mn),l:Number(t>>Ci&Mn)}:{h:Number(t>>Ci&Mn)|0,l:Number(t&Mn)|0}}function Pa(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=Da(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const Bi=(t,e,n)=>t>>>n,xi=(t,e,n)=>t<<32-n|e>>>n,Ft=(t,e,n)=>t>>>n|e<<32-n,qt=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t<<64-n|e>>>n-32,Nn=(t,e,n)=>t>>>n-32|e<<64-n;function it(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Ha=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),za=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Fa=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),qa=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Wa=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Va=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,[Ga,Ka]=Pa(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gt=new Uint32Array(80),mt=new Uint32Array(80);class Xr extends Ua{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:g,Gl:d,Hh:m,Hl:_}=this;return[e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_]}set(e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=d|0,this.Hh=m|0,this.Hl=_|0}process(e,n){for(let U=0;U<16;U++,n+=4)gt[U]=e.getUint32(n),mt[U]=e.getUint32(n+=4);for(let U=16;U<80;U++){const N=gt[U-15]|0,G=mt[U-15]|0,L=Ft(N,G,1)^Ft(N,G,8)^Bi(N,G,7),R=qt(N,G,1)^qt(N,G,8)^xi(N,G,7),O=gt[U-2]|0,F=mt[U-2]|0,K=Ft(O,F,19)^In(O,F,61)^Bi(O,F,6),v=qt(O,F,19)^Nn(O,F,61)^xi(O,F,6),Z=Fa(R,v,mt[U-7],mt[U-16]),oe=qa(Z,L,K,gt[U-7],gt[U-16]);gt[U]=oe|0,mt[U]=Z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:g,Fl:d,Gh:m,Gl:_,Hh:S,Hl:P}=this;for(let U=0;U<80;U++){const N=Ft(f,h,14)^Ft(f,h,18)^In(f,h,41),G=qt(f,h,14)^qt(f,h,18)^Nn(f,h,41),L=f&g^~f&m,R=h&d^~h&_,O=Wa(P,G,R,Ka[U],mt[U]),F=Va(O,S,N,L,Ga[U],gt[U]),K=O|0,v=Ft(r,s,28)^In(r,s,34)^In(r,s,39),Z=qt(r,s,28)^Nn(r,s,34)^Nn(r,s,39),oe=r&i^r&a^i&a,b=s&o^s&c^o&c;S=m|0,P=_|0,m=g|0,_=d|0,g=f|0,d=h|0,{h:f,l:h}=it(l|0,u|0,F|0,K|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const w=Ha(K,Z,b);r=za(w,F,v,oe),s=w|0}({h:r,l:s}=it(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=it(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=it(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=it(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=it(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:d}=it(this.Fh|0,this.Fl|0,g|0,d|0),{h:m,l:_}=it(this.Gh|0,this.Gl|0,m|0,_|0),{h:S,l:P}=it(this.Hh|0,this.Hl|0,S|0,P|0),this.set(r,s,i,o,a,c,l,u,f,h,g,d,m,_,S,P)}roundClean(){gt.fill(0),mt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ja extends Xr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Xa extends Xr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Za=Jr(()=>new Xr);Jr(()=>new Ja);Jr(()=>new Xa);var xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xt.apply(this,arguments)},Lr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},jr=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ya=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qa=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i};er.sha512=function(t){return Promise.resolve(Za(t))};function Zr(){return Math.round(new Date().getTime())}var Er=function(){function t(e,n){n===void 0&&(n={});var r,s,i;this._subject=ba(e),this._set=(r=n.set)!==null&&r!==void 0?r:new Map,this._push=(s=n.push)!==null&&s!==void 0?s:new Map,this._remove=(i=n.remove)!==null&&i!==void 0?i:new Set,this._destroy=n.destroy,this._previousCommit=n.previousCommit}return Object.defineProperty(t.prototype,"subject",{get:function(){return this._subject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"set",{get:function(){return this._set},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){return this._push},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remove",{get:function(){return this._remove},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroy",{get:function(){return this._destroy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousCommit",{get:function(){return this._previousCommit},enumerable:!1,configurable:!0}),t.prototype.addSetAction=function(e,n){return this.removeRemoveAction(e),this._set.set(e,n),this},t.prototype.addPushAction=function(e){for(var n,r,s,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(s=this._push.get(e))!==null&&s!==void 0?s:new Set;try{for(var c=Ya(i),l=c.next();!l.done;l=c.next()){var u=l.value;a.add(u)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return this._push.set(e,a),this},t.prototype.addRemoveAction=function(e){return this._set.delete(e),this._push.delete(e),this._remove.add(e),this},t.prototype.removeRemoveAction=function(e){return this._remove.delete(e),this},t.prototype.setDestroy=function(e){return this._destroy=e,this},t.prototype.setPreviousCommit=function(e){return this._previousCommit=e,this},t.prototype.setSubject=function(e){return this._subject=e,this},t.prototype.sign=function(e,n){return Lr(this,void 0,void 0,function(){var r;return jr(this,function(s){switch(s.label){case 0:return[4,this.signAt(n,e,Zr())];case 1:return r=s.sent(),[2,r]}})})},t.prototype.hasUnsavedChanges=function(){return this.set.size>0||this.push.size>0||this.destroy||this.remove.size>0},t.prototype.clone=function(){var e={set:this.set,push:this.push,remove:this.remove,destroy:this.destroy,previousCommit:this.previousCommit};return new t(this.subject,structuredClone(e))},t.prototype.toPlainObject=function(){return{subject:this.subject,set:Object.fromEntries(this.set.entries()),push:Object.fromEntries(Array.from(this.push.entries()).map(function(e){var n=Qa(e,2),r=n[0],s=n[1];return[r,Array.from(s)]})),remove:Array.from(this.remove),destroy:this.destroy,previousCommit:this.previousCommit}},t.prototype.signAt=function(e,n,r){return Lr(this,void 0,void 0,function(){var s,i,o,a;return jr(this,function(c){switch(c.label){case 0:if(e===void 0)throw new Error("No agent passed to sign commit");return s=xt(xt({},this.clone().toPlainObject()),{createdAt:r,signer:e}),i=co(xt({},s)),[4,uo(i,n)];case 1:return o=c.sent(),a=xt(xt({},s),{signature:o}),[2,a]}})})},t}();function st(t,e,n){e in t&&e!==n&&(Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(t,e)),delete t[e])}function co(t){return t.remove&&Object.keys(t.remove).length===0&&delete t.remove,t.set&&Object.keys(t.set).length===0&&delete t.set,t.push&&Object.keys(t.push).length===0&&delete t.push,t.destroy===!1&&delete t.destroy,st(t,"createdAt",j.properties.commit.createdAt),st(t,"subject",j.properties.commit.subject),st(t,"set",j.properties.commit.set),st(t,"push",j.properties.commit.push),st(t,"signer",j.properties.commit.signer),st(t,"signature",j.properties.commit.signature),st(t,"remove",j.properties.commit.remove),st(t,"destroy",j.properties.commit.destroy),st(t,"previousCommit",j.properties.commit.previousCommit),t[j.properties.isA]=[j.classes.commit],Ba(t)}var uo=function(t,e){return Lr(void 0,void 0,void 0,function(){var n,r,s,i,o,a;return jr(this,function(c){switch(c.label){case 0:return n=Ma(e),r=new Uint8Array(n),s=new TextEncoder,i=s.encode(t),[4,Ca(i,r)];case 1:return o=c.sent(),a=xa(o),[2,a]}})})};function fo(t){try{var e=JSON.parse(t),n=e[j.properties.commit.subject],r=e[j.properties.commit.set],s=e[j.properties.commit.push],i=e[j.properties.commit.signer],o=e[j.properties.commit.createdAt],a=e[j.properties.commit.remove],c=e[j.properties.commit.destroy],l=e[j.properties.commit.signature],u=e["@id"],f=e[j.properties.commit.previousCommit];return{subject:n,set:r,push:s,signer:i,createdAt:o,remove:a,destroy:c,signature:l,id:u,previousCommit:f}}catch(h){throw new Error("Could not parse commit: ".concat(h))}}function $a(t,e){var n=fo(t),r=n.subject,s=n.set,i=n.remove,o=n.id,a=n.destroy,c=n.signature,l=n.push,u=e.resources.get(r);if(!u)u=new It(r);else if(u.appliedCommitSignatures.has(c))return;if(s&&Object.keys(s).forEach(function(f){var h=s[f];(h==null?void 0:h.constructor)==={}.constructor&&(h=hn(h,u,f,e)),Yr(h)&&(h=h.map(function(g){return hn(g,u,f,e)})),u.setUnsafe(f,h)}),i&&i.forEach(function(f){u.removePropValLocally(f)}),l&&Object.keys(l).forEach(function(f){var h=u.get(f)||[],g=l[f],d=g.map(function(_){return hn(_,u,f,e)}),m=h.concat(d);u.setUnsafe(f,m)}),o&&u.setUnsafe(He.commit.lastCommit,o),a){e.removeResource(r);return}else u.appliedCommitSignatures.add(c),e.addResource(u)}var ec=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je;(function(t){t.Unauthorized="Unauthorized",t.NotFound="NotFound",t.Server="Server",t.Client="Client"})(Je||(Je={}));function tc(t){if(t instanceof Ye){if(t.type===Je.Unauthorized)return!0;if(t.message.includes("Unauthorized"))return!0}return!1}var Ye=function(t){ec(e,t);function e(n,r){r===void 0&&(r=Je.Client);var s=t.call(this,n)||this;Object.setPrototypeOf(s,e.prototype),s.type=r,s.message=n;try{var i=JSON.parse(n),o=i[He.description];o&&(s.message=o)}catch{}return s.message||(s.message=s.createMessage()),s}return e.fromResource=function(n){var r=new e(n.get(He.description).toString());return r},e.prototype.createMessage=function(){switch(this.type){case Je.Unauthorized:return"You don't have the rights to do this.";case Je.NotFound:return"404 Not found.";case Je.Server:return"500 Unknown server error.";default:return"Unknown error."}},e}(Error),de;(function(t){t.ATOMIC_URL="https://atomicdata.dev/datatypes/atomicURL",t.BOOLEAN="https://atomicdata.dev/datatypes/boolean",t.DATE="https://atomicdata.dev/datatypes/date",t.FLOAT="https://atomicdata.dev/datatypes/float",t.INTEGER="https://atomicdata.dev/datatypes/integer",t.MARKDOWN="https://atomicdata.dev/datatypes/markdown",t.RESOURCEARRAY="https://atomicdata.dev/datatypes/resourceArray",t.SLUG="https://atomicdata.dev/datatypes/slug",t.STRING="https://atomicdata.dev/datatypes/string",t.TIMESTAMP="https://atomicdata.dev/datatypes/timestamp",t.UNKNOWN="unknown-datatype"})(de||(de={}));var nc=function(t){switch(t){case j.datatypes.atomicUrl:return de.ATOMIC_URL;case j.datatypes.boolean:return de.BOOLEAN;case j.datatypes.date:return de.DATE;case j.datatypes.float:return de.FLOAT;case j.datatypes.integer:return de.INTEGER;case j.datatypes.markdown:return de.MARKDOWN;case j.datatypes.resourceArray:return de.RESOURCEARRAY;case j.datatypes.slug:return de.SLUG;case j.datatypes.string:return de.STRING;case j.datatypes.timestamp:return de.TIMESTAMP;default:return de.UNKNOWN}},rc=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,ic=/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,sc=function(t,e){var n=null;if(t===void 0)throw new Error("Value is undefined, expected ".concat(e));switch(e){case de.STRING:{if(!Ln(t)){n="Not a string";break}break}case de.SLUG:{if(!Ln(t)){n="Not a slug, not even a string";break}t.match(rc)===null&&(n="Not a valid slug. Only lowercase letters and numbers with dashes `-` between them");break}case de.ATOMIC_URL:{if(!Ln(t)){n="Not a string. Should be a URL";break}Zt(t);break}case de.RESOURCEARRAY:{if(!Yr(t)){n="Not an array";break}t.map(function(r,s){try{Zt(r)}catch{var i=new Error("Invalid URL");throw i.index=s,i}});break}case de.INTEGER:{if(!oc(t)){n="Not a number";break}t%1!==0&&(n="Not an integer");break}case de.DATE:{if(!Ln(t)){n="Not a string";break}t.match(ic)===null&&(n="Not a date string: YYYY-MM-DD");break}}if(n!==null)throw new Error(n)};function Yr(t){return Object.prototype.toString.call(t)==="[object Array]"}function Ln(t){return typeof t=="string"}function oc(t){return typeof t=="number"}globalThis&&globalThis.__values;function Qr(t,e,n){try{var r=function(i){if(i==="@id"){var o=t["@id"];if(typeof o!="string")throw new Error("'@id' field must be a string");if(e.getSubject()!=="undefined"&&e.getSubject()!==Mt&&o!==e.getSubject())throw new Error("Resource has wrong subject in @id. Received subject was ".concat(o,", expected ").concat(e.getSubject(),"."));return e.setSubject(o),"continue"}var a=t[i];try{if(Yr(a)){var c=a.map(function(f){return hn(f,e,i,n)});e.setUnsafe(i,c)}else if(typeof a=="string")e.setUnsafe(i,a);else if(typeof a=="number")e.setUnsafe(i,a);else if(typeof a=="boolean")e.setUnsafe(i,a);else{var o=hn(a,e,i,n);e.setUnsafe(i,o)}}catch(f){var l="Failed creating value ".concat(a," for key ").concat(i," in resource ").concat(e.getSubject()),u="".concat(l,". ").concat(f.message);throw new Error(u)}};for(var s in t)r(s);e.loading=!1,e.getClasses().includes(j.classes.error)&&(e.error=Ye.fromResource(e)),n&&n.addResource(e)}catch(i){throw i.message="Failed parsing JSON "+i.message,e.setError(i),e.loading=!1,n&&n.addResource(e),i}return e}function hn(t,e,n,r){if(typeof t=="string")return t;if((t==null?void 0:t.constructor)==={}.constructor)if(Object.keys(t).includes("@id")){var s=t["@id"],i=new It(s);return Qr(t,i,r),s}else return t;throw new Error("Value ".concat(t," in ").concat(n," not a string or a nested Resource"))}var sn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},on=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ar=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},kr=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Mt="unknown-subject",It=function(){function t(e,n){if(typeof e!="string")throw new Error("Invalid subject given to resource, must be a string, found "+e);this.new=!!n,this.loading=!1,this.subject=e,this.propvals=new Map,this.appliedCommitSignatures=new Set,this.commitBuilder=new Er(e)}return t.prototype.canWrite=function(e,n,r){return sn(this,void 0,void 0,function(){var s,i,o;return on(this,function(a){switch(a.label){case 0:return s=this.get(He.write),n?s&&Rr(s).includes(n)?[2,[!0,void 0]]:s&&Rr(s).includes(mo.publicAgent)?[2,[!0,void 0]]:(i=this.get(He.parent),i?i===n?[2,[!0,void 0]]:r===i?(console.warn("Circular parent",r),[2,[!0,"Circular parent in ".concat(this.getSubject())]]):[4,e.getResourceAsync(i)]:[2,[!1,"No write right or parent in ".concat(this.getSubject())]]):[2,[!1,"No agent given"]];case 1:return o=a.sent(),[4,o.canWrite(e,n,this.getSubject())];case 2:return[2,a.sent()]}})})},t.prototype.clone=function(){var e=new t(this.subject);return e.propvals=this.propvals,e.destroy=this.destroy,e.loading=this.loading,e.new=this.new,e.error=this.error,e.commitError=this.commitError,e.commitBuilder=this.commitBuilder.clone(),e.appliedCommitSignatures=this.appliedCommitSignatures,e},t.prototype.isReady=function(){return!this.loading&&this.error===void 0},t.prototype.get=function(e){return this.propvals.get(e)},t.prototype.getSubjects=function(e){return this.getArray(e).map(function(n){return typeof n=="string"?n:n["@id"]})},t.prototype.getArray=function(e){var n,r=(n=this.propvals.get(e))!==null&&n!==void 0?n:[];return Rr(r)},t.prototype.getClasses=function(){return this.getSubjects(He.isA)},t.prototype.getCommitBuilder=function(){return this.commitBuilder},t.prototype.getSubject=function(){return this.subject},t.prototype.getSubjectNoParams=function(){var e=new URL(this.subject);return e.origin+e.pathname},t.prototype.getPropVals=function(){return this.propvals},t.prototype.getRights=function(e){return sn(this,void 0,void 0,function(){var n,r,s,i,o,a,c=this;return on(this,function(l){switch(l.label){case 0:return n=[],r=this.getSubjects(He.write),r.forEach(function(u){n.push({for:u,type:Vn.WRITE,setIn:c.subject})}),s=this.getSubjects(He.read),s.forEach(function(u){n.push({for:u,type:Vn.READ,setIn:c.subject})}),i=this.get(He.parent),i?i===this.getSubject()?(console.warn("Circular parent",i),[2,n]):[4,e.getResourceAsync(i)]:[3,3];case 1:return o=l.sent(),[4,o.getRights(e)];case 2:a=l.sent(),n.push.apply(n,kr([],Ar(a),!1)),l.label=3;case 3:return[2,n]}})})},t.prototype.isUnauthorized=function(){return!!this.error&&tc(this.error)},t.prototype.destroy=function(e,n){return sn(this,void 0,void 0,function(){var r,s,i;return on(this,function(o){switch(o.label){case 0:if(r=new Er(this.getSubject()),r.setDestroy(!0),n===void 0&&(n=e.getAgent()),(n==null?void 0:n.subject)===void 0)throw new Error("No agent has been set or passed, you cannot delete this.");return[4,r.sign(n.privateKey,n.subject)];case 1:return s=o.sent(),i=new URL(this.getSubject()).origin+"/commit",[4,Ai(s,i)];case 2:return o.sent(),e.removeResource(this.getSubject()),[2]}})})},t.prototype.pushPropVal=function(e){for(var n,r,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];var o=(r=this.get(e))!==null&&r!==void 0?r:[];o.push.apply(o,kr([],Ar(s),!1)),(n=this.commitBuilder).addPushAction.apply(n,kr([e],Ar(s),!1)),this.propvals.set(e,o)},t.prototype.removePropVal=function(e){this.propvals.delete(e),this.commitBuilder.addRemoveAction(e)},t.prototype.removePropValLocally=function(e){this.propvals.delete(e)},t.prototype.save=function(e,n){var r,s,i;return sn(this,void 0,void 0,function(){var o,a,c,l,u,f,h,g,d;return on(this,function(m){switch(m.label){case 0:if(e.addResource(this),o=(r=e.getAgent())!==null&&r!==void 0?r:n,!o)throw new Error("No agent has been set or passed, you cannot save.");return a=(s=this.get(He.commit.lastCommit))===null||s===void 0?void 0:s.toString(),a&&this.commitBuilder.setPreviousCommit(a),c=this.commitBuilder.clone(),this.commitBuilder=new Er(this.getSubject()),[4,c.sign(o.privateKey,o.subject)];case 1:l=m.sent(),this.appliedCommitSignatures.add(l.signature),this.loading=!1,this.new=!1,u=new URL(this.getSubject()).origin+"/commit",m.label=2;case 2:return m.trys.push([2,4,,8]),this.commitError=void 0,[4,Ai(l,u)];case 3:return f=m.sent(),this.setUnsafe(He.commit.lastCommit,f.id),e.subscribeWebSocket(this.subject),e.notifyResourceSaved(this),[2,f.id];case 4:return h=m.sent(),h.message.includes("previousCommit")?(console.warn("previousCommit missing or mismatch, retrying..."),[4,Ir(this.getSubject(),e)]):[3,7];case 5:return g=m.sent(),d=(i=g.get(He.commit.lastCommit))===null||i===void 0?void 0:i.toString(),d&&this.setUnsafe(He.commit.lastCommit,d),[4,this.save(e,o)];case 6:return[2,m.sent()];case 7:throw this.commitBuilder=c,this.commitError=h,e.addResource(this),h;case 8:return[2]}})})},t.prototype.set=function(e,n,r,s){return s===void 0&&(s=!0),sn(this,void 0,void 0,function(){var i;return on(this,function(o){switch(o.label){case 0:return r.isOffline()&&(console.warn("Offline, not validating"),s=!1),s?[4,r.getProperty(e)]:[3,2];case 1:i=o.sent(),sc(n,i.datatype),o.label=2;case 2:return this.propvals.set(e,n),this.commitBuilder.addSetAction(e,n),[2]}})})},t.prototype.setUnsafe=function(e,n){this.propvals.set(e,n)},t.prototype.setError=function(e){this.error=e},t.prototype.setSubject=function(e){Zt(e),this.commitBuilder.setSubject(e),this.subject=e},t}(),Vn;(function(t){t.READ="read",t.WRITE="write"})(Vn||(Vn={}));var Mi=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ii=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Ni=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},Li=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},lc=function(){function t(){this.subscriptions=new Map}return t.prototype.register=function(e,n){var r,s=(r=this.subscriptions.get(e))!==null&&r!==void 0?r:new Set;return s.add(n),this.subscriptions.set(e,s),function(){s.delete(n)}},t.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return Mi(this,void 0,void 0,function(){var s,i,o=this;return Ii(this,function(a){switch(a.label){case 0:return this.subscriptions.has(e)?(s=this.subscriptions.get(e),i=function(c){return Mi(o,void 0,void 0,function(){return Ii(this,function(l){return c.apply(void 0,Li([],Ni(n),!1)),[2]})})},s?[4,Promise.allSettled(Li([],Ni(s),!1).map(function(c){return i(c)}))]:[2]):[2];case 1:return a.sent(),[2]}})})},t}(),ho=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},po=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ac=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ji(t,e){var n=new URL(t);n.protocol==="http:"?n.protocol="ws":n.protocol="wss",n.pathname="/ws";var r=new WebSocket(n.toString());return r.onopen=function(s){return cc(e,r)},r.onmessage=function(s){return uc(s,e)},r.onerror=fc,r}function cc(t,e){go(e,t).then(function(){var n,r;try{for(var s=ac(t.subscribers.keys()),i=s.next();!i.done;i=s.next()){var o=i.value;t.subscribeWebSocket(o)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})}function uc(t,e){if(t.data.startsWith("COMMIT ")){var n=t.data.slice(7);$a(n,e)}else if(t.data.startsWith("ERROR "))e.handleError(t.data.slice(6));else if(t.data.startsWith("RESOURCE ")){var r=t.data.slice(9),s=JSON.parse(r),i=new It(Mt);Qr(s,i,e)}else console.warn("Unknown websocket message:",t)}function fc(t){console.error("websocket error:",t)}function go(t,e){var n;return ho(this,void 0,void 0,function(){var r,s;return po(this,function(i){switch(i.label){case 0:return r=e.getAgent(),r?!t.url.startsWith("ws://localhost:")&&((n=r==null?void 0:r.subject)===null||n===void 0?void 0:n.startsWith("http://localhost"))?(console.warn("Can't authenticate localhost Agent over websocket"),[2]):[4,$s(t.url,r)]:[2];case 1:return s=i.sent(),t.send("AUTHENTICATE "+JSON.stringify(s)),[2]}})})}function hc(t,e){return ho(this,void 0,void 0,function(){return po(this,function(n){return t.send("GET "+e),[2]})})}var bt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},yt=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},dn;(function(t){t.ResourceSaved="resource-saved",t.ResourceRemoved="resource-removed",t.ResourceManuallyCreated="resource-manually-created"})(dn||(dn={}));var dc=function(){function t(e){e===void 0&&(e={}),this.eventManager=new lc,this._resources=new Map,this.webSockets=new Map,this.subscribers=new Map,e.serverUrl&&this.setServerUrl(e.serverUrl),e.agent&&this.setAgent(e.agent),this.errorHandler=function(n){throw n}}return Object.defineProperty(t.prototype,"resources",{get:function(){return this._resources},enumerable:!1,configurable:!0}),t.prototype.addResource=function(e){if(e.get(j.properties.incomplete)){var n=this.resources.get(e.getSubject());if(n&&!n.loading)return}this.resources.set(e.getSubject(),e),this.notify(e.clone())},t.prototype.checkSubjectTaken=function(e){return bt(this,void 0,void 0,function(){var n;return yt(this,function(r){switch(r.label){case 0:return[4,this.getResourceAsync(e)];case 1:return n=r.sent(),n.isReady()?[2,!0]:[2,!1]}})})},t.prototype.buildUniqueSubjectFromParts=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return bt(this,void 0,void 0,function(){var r;return yt(this,function(s){return r=e.join("/"),[2,this.findAvailableSubject(r)]})})},t.prototype.createSubject=function(e){var n=this.randomPart();return e=e||"things","".concat(this.getServerUrl(),"/").concat(e,"/").concat(n)},t.prototype.fetchResource=function(e,n){if(n===void 0&&(n={}),n.setLoading){var r=new It(e);r.loading=!0,this.addResource(r)}var s=this.getWebSocketForSubject(e);!n.noWebSocket&&(s==null?void 0:s.readyState)===WebSocket.OPEN?hc(s,e):Ir(e,this,n.fromProxy?this.getServerUrl():void 0)},t.prototype.getAllSubjects=function(){return Array.from(this.resources.keys())},t.prototype.getDefaultWebSocket=function(){return this.webSockets.get(this.getServerUrl())},t.prototype.getWebSocketForSubject=function(e){var n=new URL(e),r=this.webSockets.get(n.origin);if(r)return r;this.webSockets.set(n.origin,ji(n.origin,this))},t.prototype.getServerUrl=function(){return this.serverUrl},t.prototype.getAgent=function(){var e;return(e=this.agent)!==null&&e!==void 0?e:void 0},t.prototype.getResourceLoading=function(e,n){if(e===void 0&&(e=Mt),n===void 0&&(n={}),e===Mt||e===null){var r=new It(Mt,n.newResource);return r}var s=this.resources.get(e);if(s)!n.allowIncomplete&&s.loading===!1&&s.get(j.properties.incomplete)&&(s.loading=!0,this.addResource(s),this.fetchResource(e,n));else{var r=new It(e,n.newResource);return r.loading=!0,this.addResource(r),n.newResource||this.fetchResource(e,n),r}return s},t.prototype.getResourceAsync=function(e){return bt(this,void 0,void 0,function(){var n,r;return yt(this,function(s){switch(s.label){case 0:return n=this.resources.get(e),n?[3,2]:[4,Ir(e,this)];case 1:return r=s.sent(),[2,r];case 2:return[2,n]}})})},t.prototype.getProperty=function(e){var n;return bt(this,void 0,void 0,function(){var r,s,i,o,a,c;return yt(this,function(l){switch(l.label){case 0:return[4,this.getResourceAsync(e)];case 1:if(r=l.sent(),r===void 0)throw Error("Property ".concat(e," is not found"));if(r.error)throw Error("Property ".concat(e," cannot be loaded: ").concat(r.error));if(s=new pc,i=r.get(j.properties.datatype),i===void 0)throw Error("Property ".concat(e," has no datatype: ").concat(r.getPropVals()));if(o=r.get(j.properties.shortname),o===void 0)throw Error("Property ".concat(e," has no shortname: ").concat(r.getPropVals()));if(a=r.get(j.properties.description),a===void 0)throw Error("Property ".concat(e," has no description: ").concat(r.getPropVals()));return c=(n=r.get(j.properties.classType))===null||n===void 0?void 0:n.toString(),s.classType=c,s.shortname=o.toString(),s.description=a.toString(),s.datatype=nc(i.toString()),[2,s]}})})},t.prototype.handleError=function(e){typeof e=="string"&&(e=new Error(e)),this.errorHandler(e)||console.error(e)},t.prototype.isOffline=function(){var e;return!(!((e=window==null?void 0:window.navigator)===null||e===void 0)&&e.onLine)},t.prototype.notify=function(e){return bt(this,void 0,void 0,function(){var n,r,s=this;return yt(this,function(i){return n=e.getSubject(),r=this.subscribers.get(n),r===void 0?[2]:(Promise.allSettled(r.map(function(o){return bt(s,void 0,void 0,function(){return yt(this,function(a){return[2,o(e)]})})})),[2])})})},t.prototype.notifyResourceSaved=function(e){this.eventManager.emit(dn.ResourceSaved,e)},t.prototype.notifyResourceManuallyCreated=function(e){this.eventManager.emit(dn.ResourceManuallyCreated,e)},t.prototype.removeResource=function(e){var n=this.resources.get(e);this.resources.delete(e),n&&this.eventManager.emit(dn.ResourceRemoved,n)},t.prototype.renameSubject=function(e,n){return bt(this,void 0,void 0,function(){var r;return yt(this,function(s){switch(s.label){case 0:if(Zt(n),r=this.resources.get(e),r===void 0)throw Error("Old subject does not exist in store: ".concat(e));return[4,this.checkSubjectTaken(n)];case 1:if(s.sent())throw Error("New subject name is already taken: ".concat(n));return r.setSubject(n),this.resources.set(n,r),this.removeResource(e),[2]}})})},t.prototype.setAgent=function(e){var n=this;this.agent=e,e&&(to(this,e),this.webSockets.forEach(function(r){go(r,n)}),this.resources.forEach(function(r){r.isUnauthorized()&&n.fetchResource(r.getSubject())}))},t.prototype.setServerUrl=function(e){if(Zt(e),e.substr(-1)==="/")throw Error("baseUrl should not have a trailing slash");this.serverUrl=e,this.openWebSocket(e)},t.prototype.openWebSocket=function(e){if(typeof window<"u"){if(this.webSockets.has(e))return;this.webSockets.set(e,ji(e,this))}else console.warn("WebSockets not supported, no window available")},t.prototype.subscribe=function(e,n){if(e===void 0)throw Error("Cannot subscribe to undefined subject");var r=this.subscribers.get(e);r===void 0&&(this.subscribeWebSocket(e),r=[]),r.push(n),this.subscribers.set(e,r)},t.prototype.subscribeWebSocket=function(e){if(e!==Mt)try{var n=this.getWebSocketForSubject(e);(n==null?void 0:n.readyState)===1&&(n==null||n.send("SUBSCRIBE ".concat(e)))}catch(r){console.error(r)}},t.prototype.unSubscribeWebSocket=function(e){var n;if(e!==Mt)try{(n=this.getDefaultWebSocket())===null||n===void 0||n.send("UNSUBSCRIBE ".concat(e))}catch(r){console.error(r)}},t.prototype.unsubscribe=function(e,n){if(e!==void 0){var r=this.subscribers.get(e);r&&(r=r==null?void 0:r.filter(function(s){return s!==n}),this.subscribers.set(e,r))}},t.prototype.on=function(e,n){return this.eventManager.register(e,n)},t.prototype.randomPart=function(){return Math.random().toString(36).substring(2)},t.prototype.findAvailableSubject=function(e,n){return n===void 0&&(n=!0),bt(this,void 0,void 0,function(){var r,s,i;return yt(this,function(o){switch(o.label){case 0:return r="".concat(this.getServerUrl(),"/").concat(e),n||(s=this.randomPart(),r+="-".concat(s)),[4,this.checkSubjectTaken(r)];case 1:return i=o.sent(),i?[2,this.findAvailableSubject(e,!1)]:[2,r]}})})},t}(),pc=function(){function t(){}return t}();function Rr(t){if(t===void 0)throw new Error("Not an array: ".concat(t,", is ").concat(typeof t));if(t.constructor===Array)return t;throw new Error("Not an array: ".concat(t,", is a ").concat(typeof t))}var gc={getAll:"https://atomicdata.dev/classes/?page_size=999",agent:"https://atomicdata.dev/classes/Agent",chatRoom:"https://atomicdata.dev/classes/ChatRoom",collection:"https://atomicdata.dev/classes/Collection",commit:"https://atomicdata.dev/classes/Commit",class:"https://atomicdata.dev/classes/Class",document:"https://atomicdata.dev/classes/Document",bookmark:"https://atomicdata.dev/class/Bookmark",elements:{paragraph:"https://atomicdata.dev/classes/elements/Paragraph"},error:"https://atomicdata.dev/classes/Error",property:"https://atomicdata.dev/classes/Property",datatype:"https://atomicdata.dev/classes/Datatype",endpoint:"https://atomicdata.dev/classes/Endpoint",drive:"https://atomicdata.dev/classes/Drive",redirect:"https://atomicdata.dev/classes/Redirect",invite:"https://atomicdata.dev/classes/Invite",file:"https://atomicdata.dev/classes/File",message:"https://atomicdata.dev/classes/Message",importer:"https://atomicdata.dev/classes/Importer",folder:"https://atomicdata.dev/classes/Folder",displayStyle:"https://atomicdata.dev/class/DisplayStyle",displayStyles:{grid:"https://atomicdata.dev/display-style/grid",list:"https://atomicdata.dev/display-style/list"}},He={getAll:"https://atomicdata.dev/properties/?page_size=999",children:"https://atomicdata.dev/properties/children",classType:"https://atomicdata.dev/properties/classtype",createdBy:"https://atomicdata.dev/properties/createdBy",datatype:"https://atomicdata.dev/properties/datatype",description:"https://atomicdata.dev/properties/description",drives:"https://atomicdata.dev/properties/drives",incomplete:"https://atomicdata.dev/properties/incomplete",isA:"https://atomicdata.dev/properties/isA",isDynamic:"https://atomicdata.dev/properties/isDynamic",name:"https://atomicdata.dev/properties/name",parent:"https://atomicdata.dev/properties/parent",paymentPointer:"https://atomicdata.dev/properties/paymentPointer",read:"https://atomicdata.dev/properties/read",recommends:"https://atomicdata.dev/properties/recommends",requires:"https://atomicdata.dev/properties/requires",shortname:"https://atomicdata.dev/properties/shortname",subResources:"https://atomicdata.dev/properties/subresources",write:"https://atomicdata.dev/properties/write",displayStyle:"https://atomicdata.dev/property/display-style",agent:{publicKey:"https://atomicdata.dev/properties/publicKey"},collection:{members:"https://atomicdata.dev/properties/collection/members",currentPage:"https://atomicdata.dev/properties/collection/currentPage",pageSize:"https://atomicdata.dev/properties/collection/pageSize",property:"https://atomicdata.dev/properties/collection/property",totalMembers:"https://atomicdata.dev/properties/collection/totalMembers",totalPages:"https://atomicdata.dev/properties/collection/totalPages",value:"https://atomicdata.dev/properties/collection/value"},commit:{subject:"https://atomicdata.dev/properties/subject",createdAt:"https://atomicdata.dev/properties/createdAt",lastCommit:"https://atomicdata.dev/properties/lastCommit",previousCommit:"https://atomicdata.dev/properties/previousCommit",signer:"https://atomicdata.dev/properties/signer",set:"https://atomicdata.dev/properties/set",push:"https://atomicdata.dev/properties/push",remove:"https://atomicdata.dev/properties/remove",destroy:"https://atomicdata.dev/properties/destroy",signature:"https://atomicdata.dev/properties/signature"},document:{elements:"https://atomicdata.dev/properties/documents/elements"},endpoint:{parameters:"https://atomicdata.dev/properties/endpoint/parameters",results:"https://atomicdata.dev/properties/endpoint/results"},search:{query:"https://atomicdata.dev/properties/search/query",limit:"https://atomicdata.dev/properties/search/limit",property:"https://atomicdata.dev/properties/search/property"},redirect:{destination:"https://atomicdata.dev/properties/destination",redirectAgent:"https://atomicdata.dev/properties/invite/redirectAgent"},invite:{agent:"https://atomicdata.dev/properties/invite/agent",publicKey:"https://atomicdata.dev/properties/invite/publicKey",target:"https://atomicdata.dev/properties/invite/target",usagesLeft:"https://atomicdata.dev/properties/invite/usagesLeft",users:"https://atomicdata.dev/properties/invite/users",write:"https://atomicdata.dev/properties/invite/write"},file:{filename:"https://atomicdata.dev/properties/filename",filesize:"https://atomicdata.dev/properties/filesize",downloadUrl:"https://atomicdata.dev/properties/downloadURL",mimetype:"https://atomicdata.dev/properties/mimetype",attachments:"https://atomicdata.dev/properties/attachments"},chatRoom:{messages:"https://atomicdata.dev/properties/messages",nextPage:"https://atomicdata.dev/properties/nextPage",replyTo:"https://atomicdata.dev/properties/replyTo"},bookmark:{url:"https://atomicdata.dev/property/url",preview:"https://atomicdata.dev/property/preview",imageUrl:"https://atomicdata.dev/properties/imageUrl"}},mc={atomicUrl:"https://atomicdata.dev/datatypes/atomicURL",boolean:"https://atomicdata.dev/datatypes/boolean",date:"https://atomicdata.dev/datatypes/date",float:"https://atomicdata.dev/datatypes/float",integer:"https://atomicdata.dev/datatypes/integer",markdown:"https://atomicdata.dev/datatypes/markdown",resourceArray:"https://atomicdata.dev/datatypes/resourceArray",slug:"https://atomicdata.dev/datatypes/slug",string:"https://atomicdata.dev/datatypes/string",timestamp:"https://atomicdata.dev/datatypes/timestamp"},mo={publicAgent:"https://atomicdata.dev/agents/publicAgent"},j={properties:He,classes:gc,datatypes:mc,instances:mo};function bc(t){let e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:t[1]},{height:t[2]},{viewBox:t[0]},{stroke:t[3]},{fill:t[4]},t[6]],r={};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return{c(){e=Et("svg"),_i(e,r)},m(s,i){q(s,e,i),e.innerHTML=t[5]},p(s,[i]){i&32&&(e.innerHTML=s[5]),_i(e,r=zr(n,[{xmlns:"http://www.w3.org/2000/svg"},i&2&&{width:s[1]},i&4&&{height:s[2]},i&1&&{viewBox:s[0]},i&8&&{stroke:s[3]},i&16&&{fill:s[4]},i&64&&s[6]]))},i:re,o:re,d(s){s&&z(e)}}}function yc(t){const n=/viewBox="([\d\- \.]+)"/.exec(t);return n?n[1]:"0 0 20 20"}function _c(t,e,n){let r;const s=["data","viewBox","size","width","height","color","stroke","fill"];let i=Pn(e,s),{data:o=""}=e,{viewBox:a=yc(o)}=e,{size:c="20px"}=e,{width:l=c}=e,{height:u=c}=e,{color:f="currentColor"}=e,{stroke:h=f}=e,{fill:g=f}=e;return t.$$set=d=>{e=St(St({},e),qs(d)),n(6,i=Pn(e,s)),"data"in d&&n(7,o=d.data),"viewBox"in d&&n(0,a=d.viewBox),"size"in d&&n(8,c=d.size),"width"in d&&n(1,l=d.width),"height"in d&&n(2,u=d.height),"color"in d&&n(9,f=d.color),"stroke"in d&&n(3,h=d.stroke),"fill"in d&&n(4,g=d.fill)},t.$$.update=()=>{t.$$.dirty&128&&n(5,r=o.replace(/<svg ([^>]*)>/,"").replace("</svg>",""))},[a,l,u,h,g,r,i,o,c,f]}class tr extends ye{constructor(e){super(),be(this,e,_c,bc,ge,{data:7,viewBox:0,size:8,width:1,height:2,color:9,stroke:3,fill:4})}}const wc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g></svg>',bo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g></svg>',vc=new dc({serverUrl:"https://atomicdata.dev"}),Rt=Qn(vc),yo=(t,e)=>{const n=Jt(Rt);return Qn(void 0,s=>{s(n.getResourceLoading(t,e));const i=o=>{s(o)};return n.subscribe(t,i),()=>n.unsubscribe(t,i)})},Qe=(t,e,n=!1)=>{const r=Jt(Rt);let s=Jt(t);t.subscribe(h=>s=h);let i=s.get(e);const o=new Set;let a=!1;const c=h=>{i=h.get(e),l()},l=()=>{for(const h of o)h(i)},u=async h=>{i=h,h===void 0?s.removePropVal(e):s.set(e,h,r,!1),n&&await s.save(r),await r.notify(s)};return{set(h){u(h).then(()=>{}),l()},subscribe(h){return a||(r.subscribe(s.getSubject(),c),a=!0),o.add(h),h(i),()=>{o.delete(h),o.size===0&&(r.unsubscribe(s.getSubject(),c),a=!1)}},update(h){u(h(i)).then(()=>{l()})}}},Sc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g></svg>',Yt=t=>t.toLowerCase().replace(/\s/g,"-");function Ec(t){let e,n,r,s,i,o,a,c,l;return o=new tr({props:{data:Sc,fill:"white"}}),{c(){e=D("button"),n=D("h2"),r=ve(t[0]),s=J(),i=D("span"),ee(o.$$.fragment),E(n,"class","svelte-nu5lcg"),E(i,"class","icon svelte-nu5lcg"),E(e,"class","svelte-nu5lcg")},m(u,f){q(u,e,f),C(e,n),C(n,r),C(e,s),C(e,i),Q(o,i,null),a=!0,c||(l=ne(e,"click",t[2]),c=!0)},p(u,f){(!a||f&1)&&De(r,u[0])},i(u){a||(k(o.$$.fragment,u),a=!0)},o(u){I(o.$$.fragment,u),a=!1},d(u){u&&z(e),$(o),c=!1,l()}}}function Ac(t){let e,n,r;return{c(){e=D("input"),E(e,"type","text"),e.autofocus=!0},m(s,i){q(s,e,i),At(e,t[0]),e.focus(),n||(r=[ne(e,"input",t[5]),ne(e,"blur",t[3]),ne(e,"keydown",t[4])],n=!0)},p(s,i){i&1&&e.value!==s[0]&&At(e,s[0])},i:re,o:re,d(s){s&&z(e),n=!1,Ne(r)}}}function kc(t){let e,n,r,s;const i=[Ac,Ec],o=[];function a(c,l){return c[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ut()},m(c,l){o[e].m(c,l),q(c,r,l),s=!0},p(c,[l]){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),I(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){I(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Rc(t,e,n){let{title:r}=e,s=!1;const i=()=>{n(1,s=!0)},o=()=>{n(1,s=!1)},a=l=>{l.key==="Enter"&&o()};function c(){r=this.value,n(0,r)}return t.$$set=l=>{"title"in l&&n(0,r=l.title)},t.$$.update=()=>{t.$$.dirty&1&&r!==Yt(r)&&n(0,r=Yt(r))},[r,s,i,o,a,c]}class Tc extends ye{constructor(e){super(),be(this,e,Rc,kc,ge,{title:0})}}function Oc(t){let e,n,r,s,i;return n=new tr({props:{data:t[0],size:t[1]}}),{c(){e=D("button"),ee(n.$$.fragment),e.disabled=t[2],E(e,"title",t[3]),E(e,"class","svelte-1vch9z4")},m(o,a){q(o,e,a),Q(n,e,null),r=!0,s||(i=ne(e,"click",t[4]),s=!0)},p(o,[a]){const c={};a&1&&(c.data=o[0]),a&2&&(c.size=o[1]),n.$set(c),(!r||a&4)&&(e.disabled=o[2]),(!r||a&8)&&E(e,"title",o[3])},i(o){r||(k(n.$$.fragment,o),r=!0)},o(o){I(n.$$.fragment,o),r=!1},d(o){o&&z(e),$(n),s=!1,i()}}}function Cc(t,e,n){let{icon:r}=e,{size:s="1rem"}=e,{disabled:i=!1}=e,{title:o}=e;function a(c){je.call(this,t,c)}return t.$$set=c=>{"icon"in c&&n(0,r=c.icon),"size"in c&&n(1,s=c.size),"disabled"in c&&n(2,i=c.disabled),"title"in c&&n(3,o=c.title)},[r,s,i,o,a]}class Qt extends ye{constructor(e){super(),be(this,e,Cc,Oc,ge,{icon:0,size:1,disabled:2,title:3})}}const _o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g></svg>',wo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g></svg>';function Bc(t){let e,n,r,s;const i=t[6].default,o=Te(i,t,t[5],null);return{c(){e=D("select"),o&&o.c(),E(e,"name",t[1]),E(e,"id",t[2]),e.disabled=t[3],e.required=t[4],E(e,"class","svelte-10ivlg5"),t[0]===void 0&&Xt(()=>t[8].call(e))},m(a,c){q(a,e,c),o&&o.m(e,null),wi(e,t[0]),n=!0,r||(s=[ne(e,"change",t[7]),ne(e,"change",t[8])],r=!0)},p(a,[c]){o&&o.p&&(!n||c&32)&&Ce(o,i,a,a[5],n?Oe(i,a[5],c,null):Be(a[5]),null),(!n||c&2)&&E(e,"name",a[1]),(!n||c&4)&&E(e,"id",a[2]),(!n||c&8)&&(e.disabled=a[3]),(!n||c&16)&&(e.required=a[4]),c&1&&wi(e,a[0])},i(a){n||(k(o,a),n=!0)},o(a){I(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,Ne(s)}}}function xc(t,e,n){let{$$slots:r={},$$scope:s}=e,{name:i=void 0}=e,{id:o=void 0}=e,{disabled:a=void 0}=e,{required:c=void 0}=e,{value:l=void 0}=e;function u(h){je.call(this,t,h)}function f(){l=Vl(this),n(0,l)}return t.$$set=h=>{"name"in h&&n(1,i=h.name),"id"in h&&n(2,o=h.id),"disabled"in h&&n(3,a=h.disabled),"required"in h&&n(4,c=h.required),"value"in h&&n(0,l=h.value),"$$scope"in h&&n(5,s=h.$$scope)},[l,i,o,a,c,s,r,u,f]}class Mc extends ye{constructor(e){super(),be(this,e,xc,Bc,ge,{name:1,id:2,disabled:3,required:4,value:0})}}const Ic=(t,e)=>{const n=new URL(`${t}/collections`);return n.searchParams.set("property",j.properties.isA),n.searchParams.set("value",e),n.searchParams.set("page_size","1000"),n.toString()},Nc=async t=>Jt(Rt).getResourceAsync(t),vo=async(t,e)=>{const n=await Promise.all(t.map(async r=>{const s=Ic(r,e);return(await Nc(s)).get(j.properties.collection.members)}));return Array.from(new Set(n.flat()))},pn=Sn(["https://atomicdata.dev"]),So=Qn([],t=>pn.subscribe(e=>{vo(e,j.classes.property).then(n=>{t(n)})})),Lc=Qn([],t=>pn.subscribe(e=>{vo(e,j.classes.class).then(n=>{t(n)})}));function jc(t){let e,n,r;return{c(){e=D("input"),E(e,"type","text"),E(e,"placeholder",t[1]),e.disabled=t[2],e.required=t[3],E(e,"id",t[4]),E(e,"class","svelte-1r0gtd3")},m(s,i){q(s,e,i),At(e,t[0]),n||(r=[ne(e,"input",t[6]),ne(e,"blur",t[5])],n=!0)},p(s,[i]){i&2&&E(e,"placeholder",s[1]),i&4&&(e.disabled=s[2]),i&8&&(e.required=s[3]),i&16&&E(e,"id",s[4]),i&1&&e.value!==s[0]&&At(e,s[0])},i:re,o:re,d(s){s&&z(e),n=!1,Ne(r)}}}function Uc(t,e,n){let{value:r}=e,{placeholder:s=void 0}=e,{disabled:i=void 0}=e,{required:o=void 0}=e,{id:a=void 0}=e;function c(u){je.call(this,t,u)}function l(){r=this.value,n(0,r)}return t.$$set=u=>{"value"in u&&n(0,r=u.value),"placeholder"in u&&n(1,s=u.placeholder),"disabled"in u&&n(2,i=u.disabled),"required"in u&&n(3,o=u.required),"id"in u&&n(4,a=u.id)},[r,s,i,o,a,c,l]}class Ur extends ye{constructor(e){super(),be(this,e,Uc,jc,ge,{value:0,placeholder:1,disabled:2,required:3,id:4})}}const Dc='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',Pc=t=>({}),Ui=t=>({}),Hc=t=>({}),Di=t=>({}),zc=t=>({}),Pi=t=>({});function Fc(t){let e,n,r,s,i,o,a,c,l,u;const f=t[4].title,h=Te(f,t,t[3],Pi);s=new Qt({props:{icon:Dc,title:"close"}}),s.$on("click",t[1]);const g=t[4].content,d=Te(g,t,t[3],Di),m=t[4].controls,_=Te(m,t,t[3],Ui);return{c(){e=D("dialog"),n=D("div"),h&&h.c(),r=J(),ee(s.$$.fragment),i=J(),d&&d.c(),o=J(),a=D("div"),c=J(),l=D("div"),_&&_.c(),E(n,"class","titlebar svelte-m4sz2l"),E(a,"class","line svelte-m4sz2l"),E(l,"class","controls svelte-m4sz2l"),E(e,"class","svelte-m4sz2l")},m(S,P){q(S,e,P),C(e,n),h&&h.m(n,null),C(n,r),Q(s,n,null),C(e,i),d&&d.m(e,null),C(e,o),C(e,a),C(e,c),C(e,l),_&&_.m(l,null),t[5](e),u=!0},p(S,[P]){h&&h.p&&(!u||P&8)&&Ce(h,f,S,S[3],u?Oe(f,S[3],P,zc):Be(S[3]),Pi),d&&d.p&&(!u||P&8)&&Ce(d,g,S,S[3],u?Oe(g,S[3],P,Hc):Be(S[3]),Di),_&&_.p&&(!u||P&8)&&Ce(_,m,S,S[3],u?Oe(m,S[3],P,Pc):Be(S[3]),Ui)},i(S){u||(k(h,S),k(s.$$.fragment,S),k(d,S),k(_,S),u=!0)},o(S){I(h,S),I(s.$$.fragment,S),I(d,S),I(_,S),u=!1},d(S){S&&z(e),h&&h.d(S),$(s),d&&d.d(S),_&&_.d(S),t[5](null)}}}function qc(t,e,n){let{$$slots:r={},$$scope:s}=e,{show:i=!1}=e,o;const a=()=>{n(2,i=!1)};function c(l){Se[l?"unshift":"push"](()=>{o=l,n(0,o)})}return t.$$set=l=>{"show"in l&&n(2,i=l.show),"$$scope"in l&&n(3,s=l.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&o&&i&&o.showModal(),t.$$.dirty&5&&o&&!i&&o.close()},[o,a,i,s,r,c]}class Eo extends ye{constructor(e){super(),be(this,e,qc,Fc,ge,{show:2})}}function nr(t){return t.split("-")[0]}function Ao(t){return t.split("-")[1]}function $r(t){return["top","bottom"].includes(nr(t))?"x":"y"}function Wc(t){return t==="y"?"height":"width"}function Vc(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gc(t){return typeof t!="number"?Vc(t):{top:t,right:t,bottom:t,left:t}}function Hi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function ko(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=e,d=Gc(g),_=a[h?f==="floating"?"reference":"floating":f],S=Hi(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),P=f==="floating"?{...o.floating,x:r,y:s}:o.reference,U=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(U))?await(i.getScale==null?void 0:i.getScale(U))||{x:1,y:1}:{x:1,y:1},G=Hi(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:P,offsetParent:U,strategy:c}):P);return{top:(S.top-G.top+d.top)/N.y,bottom:(G.bottom-S.bottom+d.bottom)/N.y,left:(S.left-G.left+d.left)/N.x,right:(G.right-S.right+d.right)/N.x}}const Kc=Math.min,Jc=Math.max;function zi(t,e,n){return Jc(t,Kc(e,n))}const Xc={left:"right",right:"left",bottom:"top",top:"bottom"};function Gn(t){return t.replace(/left|right|bottom|top/g,e=>Xc[e])}function Zc(t,e,n){n===void 0&&(n=!1);const r=Ao(t),s=$r(t),i=Wc(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Gn(o)),{main:o,cross:Gn(o)}}const Yc={start:"end",end:"start"};function Fi(t){return t.replace(/start|end/g,e=>Yc[e])}function Qc(t){const e=Gn(t);return[Fi(t),e,Fi(e)]}const $c=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:a,elements:c}=e,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",flipAlignment:g=!0,...d}=t,m=nr(r),S=f||(m===o||!g?[Gn(o)]:Qc(o)),P=[o,...S],U=await ko(e,d),N=[];let G=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&N.push(U[m]),u){const{main:F,cross:K}=Zc(r,i,await(a.isRTL==null?void 0:a.isRTL(c.floating)));N.push(U[F],U[K])}if(G=[...G,{placement:r,overflows:N}],!N.every(F=>F<=0)){var L,R;const F=((L=(R=s.flip)==null?void 0:R.index)!=null?L:0)+1,K=P[F];if(K)return{data:{index:F,overflows:G},reset:{placement:K}};let v="bottom";switch(h){case"bestFit":{var O;const Z=(O=G.map(oe=>[oe,oe.overflows.filter(b=>b>0).reduce((b,w)=>b+w,0)]).sort((oe,b)=>oe[1]-b[1])[0])==null?void 0:O[0].placement;Z&&(v=Z);break}case"initialPlacement":v=o;break}if(r!==v)return{reset:{placement:v}}}return{}}}};async function eu(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=nr(n),a=Ao(n),c=$r(n)==="x",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=typeof e=="function"?e(t):e;let{mainAxis:h,crossAxis:g,alignmentAxis:d}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof d=="number"&&(g=a==="end"?d*-1:d),c?{x:g*u,y:h*l}:{x:h*l,y:g*u}}const tu=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,s=await eu(e,t);return{x:n+s.x,y:r+s.y,data:s}}}};function nu(t){return t==="x"?"y":"x"}const ru=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:S,y:P}=_;return{x:S,y:P}}},...c}=t,l={x:n,y:r},u=await ko(e,c),f=$r(nr(s)),h=nu(f);let g=l[f],d=l[h];if(i){const _=f==="y"?"top":"left",S=f==="y"?"bottom":"right",P=g+u[_],U=g-u[S];g=zi(P,g,U)}if(o){const _=h==="y"?"top":"left",S=h==="y"?"bottom":"right",P=d+u[_],U=d-u[S];d=zi(P,d,U)}const m=a.fn({...e,[f]:g,[h]:d});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Ro(t){return t.split("-")[0]}function iu(t){return t.split("-")[1]}function su(t){return["top","bottom"].includes(Ro(t))?"x":"y"}function ou(t){return t==="y"?"height":"width"}function qi(t,e,n){let{reference:r,floating:s}=t;const i=r.x+r.width/2-s.width/2,o=r.y+r.height/2-s.height/2,a=su(e),c=ou(a),l=r[c]/2-s[c]/2,u=Ro(e),f=a==="x";let h;switch(u){case"top":h={x:i,y:r.y-s.height};break;case"bottom":h={x:i,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:o};break;case"left":h={x:r.x-s.width,y:o};break;default:h={x:r.x,y:r.y}}switch(iu(e)){case"start":h[a]-=l*(n&&f?-1:1);break;case"end":h[a]+=l*(n&&f?-1:1);break}return h}const lu=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:l,y:u}=qi(c,r,a),f=r,h={},g=0;for(let d=0;d<i.length;d++){const{name:m,fn:_}=i[d],{x:S,y:P,data:U,reset:N}=await _({x:l,y:u,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});if(l=S??l,u=P??u,h={...h,[m]:{...h[m],...U}},N&&g<=50){g++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:l,y:u}=qi(c,f,a)),d=-1;continue}}return{x:l,y:u,placement:f,strategy:s,middlewareData:h}};function Wi(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function To(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function ft(t){if(t==null)return window;if(!To(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function An(t){return ft(t).getComputedStyle(t)}function at(t){return To(t)?"":t?(t.nodeName||"").toLowerCase():""}function Oo(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function et(t){return t instanceof ft(t).HTMLElement}function kt(t){return t instanceof ft(t).Element}function au(t){return t instanceof ft(t).Node}function ei(t){if(typeof ShadowRoot>"u")return!1;const e=ft(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function rr(t){const{overflow:e,overflowX:n,overflowY:r}=An(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function cu(t){return["table","td","th"].includes(at(t))}function Co(t){const e=/firefox/i.test(Oo()),n=An(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function Bo(){return!/^((?!chrome|android).)*safari/i.test(Oo())}const Vi=Math.min,gn=Math.max,Kn=Math.round;function ct(t,e,n){var r,s,i,o;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let c=1,l=1;e&&et(t)&&(c=t.offsetWidth>0&&Kn(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Kn(a.height)/t.offsetHeight||1);const u=kt(t)?ft(t):window,f=!Bo()&&n,h=(a.left+(f&&(r=(s=u.visualViewport)==null?void 0:s.offsetLeft)!=null?r:0))/c,g=(a.top+(f&&(i=(o=u.visualViewport)==null?void 0:o.offsetTop)!=null?i:0))/l,d=a.width/c,m=a.height/l;return{width:d,height:m,top:g,right:h+d,bottom:g+m,left:h,x:h,y:g}}function Tt(t){return((au(t)?t.ownerDocument:t.document)||window.document).documentElement}function ir(t){return kt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xo(t){return ct(Tt(t)).left+ir(t).scrollLeft}function uu(t){const e=ct(t);return Kn(e.width)!==t.offsetWidth||Kn(e.height)!==t.offsetHeight}function fu(t,e,n){const r=et(e),s=Tt(e),i=ct(t,r&&uu(e),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((at(e)!=="body"||rr(s))&&(o=ir(e)),et(e)){const c=ct(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else s&&(a.x=xo(s));return{x:i.left+o.scrollLeft-a.x,y:i.top+o.scrollTop-a.y,width:i.width,height:i.height}}function Mo(t){return at(t)==="html"?t:t.assignedSlot||t.parentNode||(ei(t)?t.host:null)||Tt(t)}function Gi(t){return!et(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function hu(t){let e=Mo(t);for(ei(e)&&(e=e.host);et(e)&&!["html","body"].includes(at(e));){if(Co(e))return e;e=e.parentNode}return null}function Dr(t){const e=ft(t);let n=Gi(t);for(;n&&cu(n)&&getComputedStyle(n).position==="static";)n=Gi(n);return n&&(at(n)==="html"||at(n)==="body"&&getComputedStyle(n).position==="static"&&!Co(n))?e:n||hu(t)||e}function Ki(t){if(et(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=ct(t);return{width:e.width,height:e.height}}function du(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=et(n),i=Tt(n);if(n===i)return e;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((s||!s&&r!=="fixed")&&((at(n)!=="body"||rr(i))&&(o=ir(n)),et(n))){const c=ct(n,!0);a.x=c.x+n.clientLeft,a.y=c.y+n.clientTop}return{...e,x:e.x-o.scrollLeft+a.x,y:e.y-o.scrollTop+a.y}}function pu(t,e){const n=ft(t),r=Tt(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=Bo();(l||!l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function gu(t){var e;const n=Tt(t),r=ir(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=gn(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=gn(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let a=-r.scrollLeft+xo(t);const c=-r.scrollTop;return An(s||n).direction==="rtl"&&(a+=gn(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function Io(t){const e=Mo(t);return["html","body","#document"].includes(at(e))?t.ownerDocument.body:et(e)&&rr(e)?e:Io(e)}function Jn(t,e){var n;e===void 0&&(e=[]);const r=Io(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ft(r),o=s?[i].concat(i.visualViewport||[],rr(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Jn(o))}function mu(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ei(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function bu(t,e){const n=ct(t,!1,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft;return{top:r,left:s,x:s,y:r,right:s+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function Ji(t,e,n){return e==="viewport"?Wi(pu(t,n)):kt(e)?bu(e,n):Wi(gu(Tt(t)))}function yu(t){const e=Jn(t),r=["absolute","fixed"].includes(An(t).position)&&et(t)?Dr(t):t;return kt(r)?e.filter(s=>kt(s)&&mu(s,r)&&at(s)!=="body"):[]}function _u(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?yu(e):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=Ji(e,u,s);return l.top=gn(f.top,l.top),l.right=Vi(f.right,l.right),l.bottom=Vi(f.bottom,l.bottom),l.left=gn(f.left,l.left),l},Ji(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const wu={getClippingRect:_u,convertOffsetParentRelativeRectToViewportRelativeRect:du,isElement:kt,getDimensions:Ki,getOffsetParent:Dr,getDocumentElement:Tt,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:fu(e,Dr(n),r),floating:{...Ki(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>An(t).direction==="rtl"};function vu(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=!0,animationFrame:a=!1}=r,c=s&&!a,l=i&&!a,u=c||l?[...kt(t)?Jn(t):[],...Jn(e)]:[];u.forEach(m=>{c&&m.addEventListener("scroll",n,{passive:!0}),l&&m.addEventListener("resize",n)});let f=null;if(o){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),kt(t)&&!a&&f.observe(t),f.observe(e)}let h,g=a?ct(t):null;a&&d();function d(){const m=ct(t);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,h=requestAnimationFrame(d)}return n(),()=>{var m;u.forEach(_=>{c&&_.removeEventListener("scroll",n),l&&_.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}const Su=(t,e,n)=>lu(t,e,{platform:wu,...n});function Eu(t){let e,n;const r={autoUpdate:!0};let s=t;const i=l=>({...r,...t||{},...l||{}}),o=l=>{e&&n&&(s=i(l),Su(e,n,s).then(u=>{Object.assign(n.style,{position:u.strategy,left:`${u.x}px`,top:`${u.y}px`}),s!=null&&s.onComputed&&s.onComputed(u)}))};return[l=>{e=l,o()},(l,u)=>{let f;n=l,s=i(u),setTimeout(()=>o(u),0),o(u);const h=()=>{f&&(f(),f=void 0)},g=({autoUpdate:d}=s||{})=>{if(h(),d!==!1)return vu(e,n,()=>o(s),d===!0?{}:d)};return f=g(),{update(d){o(d),f=g(d)},destroy(){h()}}},o]}function Au({loadOptions:t,filterText:e,items:n,multiple:r,value:s,itemId:i,groupBy:o,filterSelectedItems:a,itemFilter:c,convertStringItemsToObjects:l,filterGroupedItems:u,label:f}){if(n&&t)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!="object"&&(n=l(n));let h=n.filter(g=>{let d=c(g[f],e,g);return d&&r&&(s==null?void 0:s.length)&&(d=!s.some(m=>a?m[i]===g[i]:!1)),d});return o&&(h=u(h)),h}async function ku({dispatch:t,loadOptions:e,convertStringItemsToObjects:n,filterText:r}){let s=await e(r).catch(i=>{console.warn("svelte-select loadOptions error :>> ",i),t("error",{type:"loadOptions",details:i})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=n(s)),t("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function Ru(t){let e,n;return{c(){e=Et("svg"),n=Et("path"),E(n,"fill","currentColor"),E(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","0 0 20 20"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"class","svelte-qbd276")},m(r,s){q(r,e,s),C(e,n)},p:re,i:re,o:re,d(r){r&&z(e)}}}class Tu extends ye{constructor(e){super(),be(this,e,null,Ru,ge,{})}}function Ou(t){let e,n;return{c(){e=Et("svg"),n=Et("path"),E(n,"fill","currentColor"),E(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","-2 -2 50 50"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"role","presentation"),E(e,"class","svelte-whdbu1")},m(r,s){q(r,e,s),C(e,n)},p:re,i:re,o:re,d(r){r&&z(e)}}}class Xn extends ye{constructor(e){super(),be(this,e,null,Ou,ge,{})}}function Cu(t){let e,n;return{c(){e=Et("svg"),n=Et("circle"),E(n,"class","circle_path svelte-1p3nqvd"),E(n,"cx","50"),E(n,"cy","50"),E(n,"r","20"),E(n,"fill","none"),E(n,"stroke","currentColor"),E(n,"stroke-width","5"),E(n,"stroke-miterlimit","10"),E(e,"class","loading svelte-1p3nqvd"),E(e,"viewBox","25 25 50 50")},m(r,s){q(r,e,s),C(e,n)},p:re,i:re,o:re,d(r){r&&z(e)}}}class Bu extends ye{constructor(e){super(),be(this,e,null,Cu,ge,{})}}const xu=t=>({value:t[0]&8}),Xi=t=>({value:t[3]}),Mu=t=>({listOpen:t[0]&64}),Zi=t=>({listOpen:t[6]}),Iu=t=>({}),Yi=t=>({}),Nu=t=>({}),Qi=t=>({}),Lu=t=>({selection:t[0]&8}),$i=t=>({selection:t[3]});function es(t,e,n){const r=t.slice();return r[130]=e[n],r[132]=n,r}const ju=t=>({}),ts=t=>({}),Uu=t=>({selection:t[0]&8}),ns=t=>({selection:t[130],index:t[132]}),Du=t=>({}),rs=t=>({}),Pu=t=>({}),is=t=>({});function ss(t,e,n){const r=t.slice();return r[130]=e[n],r[132]=n,r}const Hu=t=>({item:t[0]&16777216}),os=t=>({item:t[130],index:t[132]}),zu=t=>({filteredItems:t[0]&16777216}),ls=t=>({filteredItems:t[24]});function as(t){let e,n,r,s,i,o;const a=[Wu,qu,Fu],c=[];function l(u,f){return u[50].list?0:u[24].length>0?1:u[19]?-1:2}return~(n=l(t))&&(r=c[n]=a[n](t)),{c(){e=D("div"),r&&r.c(),E(e,"class","svelte-select-list svelte-15ynnp5"),te(e,"prefloat",t[28])},m(u,f){q(u,e,f),~n&&c[n].m(e,null),t[94](e),s=!0,i||(o=[Hn(t[49].call(null,e)),ne(e,"scroll",t[41]),ne(e,"pointerdown",Ve(qe(t[88]))),ne(e,"pointerup",Ve(qe(t[89])))],i=!0)},p(u,f){let h=n;n=l(u),n===h?~n&&c[n].p(u,f):(r&&(xe(),I(c[h],1,1,()=>{c[h]=null}),Me()),~n?(r=c[n],r?r.p(u,f):(r=c[n]=a[n](u),r.c()),k(r,1),r.m(e,null)):r=null),(!s||f[0]&268435456)&&te(e,"prefloat",u[28])},i(u){s||(k(r),s=!0)},o(u){I(r),s=!1},d(u){u&&z(e),~n&&c[n].d(),t[94](null),i=!1,Ne(o)}}}function Fu(t){let e;const n=t[80].empty,r=Te(n,t,t[79],is),s=r||Vu();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,Pu):Be(i[79]),is)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function qu(t){let e,n,r=t[24],s=[];for(let o=0;o<r.length;o+=1)s[o]=cs(ss(t,r,o));const i=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);q(o,e,a),n=!0},p(o,a){if(a[0]&1627402376|a[1]&28672|a[2]&131072){r=o[24];let c;for(c=0;c<r.length;c+=1){const l=ss(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=cs(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){Hr(s,o),o&&z(e)}}}function Wu(t){let e;const n=t[80].list,r=Te(n,t,t[79],ls);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i[0]&16777216|i[2]&131072)&&Ce(r,n,s,s[79],e?Oe(n,s[79],i,zu):Be(s[79]),ls)},i(s){e||(k(r,s),e=!0)},o(s){I(r,s),e=!1},d(s){r&&r.d(s)}}}function Vu(t){let e;return{c(){e=D("div"),e.textContent="No options",E(e,"class","empty svelte-15ynnp5")},m(n,r){q(n,e,r)},p:re,d(n){n&&z(e)}}}function Gu(t){var r;let e=((r=t[130])==null?void 0:r[t[12]])+"",n;return{c(){n=ve(e)},m(s,i){q(s,n,i)},p(s,i){var o;i[0]&16781312&&e!==(e=((o=s[130])==null?void 0:o[s[12]])+"")&&De(n,e)},d(s){s&&z(n)}}}function cs(t){let e,n,r,s,i,o,a,c;const l=t[80].item,u=Te(l,t,t[79],os),f=u||Gu(t);function h(){return t[91](t[132])}function g(){return t[92](t[132])}function d(){return t[93](t[130],t[132])}return{c(){var m;e=D("div"),n=D("div"),f&&f.c(),i=J(),E(n,"class","item svelte-15ynnp5"),te(n,"list-group-title",t[130].groupHeader),te(n,"active",t[45](t[130],t[3],t[13])),te(n,"first",rf(t[132])),te(n,"hover",t[7]===t[132]),te(n,"group-item",t[130].groupItem),te(n,"not-selectable",((m=t[130])==null?void 0:m.selectable)===!1),E(e,"class","list-item svelte-15ynnp5"),E(e,"tabindex","-1")},m(m,_){q(m,e,_),C(e,n),f&&f.m(n,null),C(e,i),o=!0,a||(c=[Hn(r=t[46].call(null,n,{scroll:t[45](t[130],t[3],t[13]),listDom:t[30]})),Hn(s=t[47].call(null,n,{scroll:t[29]===t[132],listDom:t[30]})),ne(e,"mouseover",h),ne(e,"focus",g),ne(e,"click",Ve(d)),ne(e,"keydown",Ve(qe(t[90])))],a=!0)},p(m,_){var S;t=m,u?u.p&&(!o||_[0]&16777216|_[2]&131072)&&Ce(u,l,t,t[79],o?Oe(l,t[79],_,Hu):Be(t[79]),os):f&&f.p&&(!o||_[0]&16781312)&&f.p(t,o?_:[-1,-1,-1,-1,-1]),r&&Kt(r.update)&&_[0]&1090527240&&r.update.call(null,{scroll:t[45](t[130],t[3],t[13]),listDom:t[30]}),s&&Kt(s.update)&&_[0]&1610612736&&s.update.call(null,{scroll:t[29]===t[132],listDom:t[30]}),(!o||_[0]&16777216)&&te(n,"list-group-title",t[130].groupHeader),(!o||_[0]&16785416|_[1]&16384)&&te(n,"active",t[45](t[130],t[3],t[13])),(!o||_[0]&128)&&te(n,"hover",t[7]===t[132]),(!o||_[0]&16777216)&&te(n,"group-item",t[130].groupItem),(!o||_[0]&16777216)&&te(n,"not-selectable",((S=t[130])==null?void 0:S.selectable)===!1)},i(m){o||(k(f,m),o=!0)},o(m){I(f,m),o=!1},d(m){m&&z(e),f&&f.d(m),a=!1,Ne(c)}}}function us(t){let e,n,r,s,i;return{c(){e=D("span"),n=ve(t[32]),r=J(),s=D("span"),i=ve(t[31]),E(e,"id","aria-selection"),E(e,"class","svelte-15ynnp5"),E(s,"id","aria-context"),E(s,"class","svelte-15ynnp5")},m(o,a){q(o,e,a),C(e,n),q(o,r,a),q(o,s,a),C(s,i)},p(o,a){a[1]&2&&De(n,o[32]),a[1]&1&&De(i,o[31])},d(o){o&&z(e),o&&z(r),o&&z(s)}}}function fs(t){let e,n,r,s;const i=[Ju,Ku],o=[];function a(c,l){return c[9]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=ut()},m(c,l){o[e].m(c,l),q(c,r,l),s=!0},p(c,l){let u=e;e=a(c),e===u?o[e].p(c,l):(xe(),I(o[u],1,1,()=>{o[u]=null}),Me(),n=o[e],n?n.p(c,l):(n=o[e]=i[e](c),n.c()),k(n,1),n.m(r.parentNode,r))},i(c){s||(k(n),s=!0)},o(c){I(n),s=!1},d(c){o[e].d(c),c&&z(r)}}}function Ku(t){let e,n;const r=t[80].selection,s=Te(r,t,t[79],$i),i=s||Xu(t);return{c(){e=D("div"),i&&i.c(),E(e,"class","selected-item svelte-15ynnp5"),te(e,"hide-selected-item",t[35])},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s?s.p&&(!n||a[0]&8|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Lu):Be(o[79]),$i):i&&i.p&&(!n||a[0]&4104)&&i.p(o,n?a:[-1,-1,-1,-1,-1]),(!n||a[1]&16)&&te(e,"hide-selected-item",o[35])},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Ju(t){let e,n,r=t[3],s=[];for(let o=0;o<r.length;o+=1)s[o]=ds(es(t,r,o));const i=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=ut()},m(o,a){for(let c=0;c<s.length;c+=1)s[c].m(o,a);q(o,e,a),n=!0},p(o,a){if(a[0]&67116040|a[1]&32|a[2]&131072){r=o[3];let c;for(c=0;c<r.length;c+=1){const l=es(o,r,c);s[c]?(s[c].p(l,a),k(s[c],1)):(s[c]=ds(l),s[c].c(),k(s[c],1),s[c].m(e.parentNode,e))}for(xe(),c=r.length;c<s.length;c+=1)i(c);Me()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)k(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){Hr(s,o),o&&z(e)}}}function Xu(t){let e=t[3][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){q(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[3][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function Zu(t){let e=t[130][t[12]]+"",n;return{c(){n=ve(e)},m(r,s){q(r,n,s)},p(r,s){s[0]&4104&&e!==(e=r[130][r[12]]+"")&&De(n,e)},d(r){r&&z(n)}}}function hs(t){let e,n,r,s;const i=t[80]["multi-clear-icon"],o=Te(i,t,t[79],ts),a=o||Yu();function c(){return t[95](t[132])}return{c(){e=D("div"),a&&a.c(),E(e,"class","multi-item-clear svelte-15ynnp5")},m(l,u){q(l,e,u),a&&a.m(e,null),n=!0,r||(s=[ne(e,"pointerdown",Ve(qe(t[86]))),ne(e,"click",c),ne(e,"keydown",Ve(qe(t[87])))],r=!0)},p(l,u){t=l,o&&o.p&&(!n||u[2]&131072)&&Ce(o,i,t,t[79],n?Oe(i,t[79],u,ju):Be(t[79]),ts)},i(l){n||(k(a,l),n=!0)},o(l){I(a,l),n=!1},d(l){l&&z(e),a&&a.d(l),r=!1,Ne(s)}}}function Yu(t){let e,n;return e=new Xn({}),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function ds(t){let e,n,r,s,i,o,a;const c=t[80].selection,l=Te(c,t,t[79],ns),u=l||Zu(t);let f=!t[11]&&!t[10]&&Xn&&hs(t);function h(){return t[96](t[132])}return{c(){e=D("div"),n=D("span"),u&&u.c(),r=J(),f&&f.c(),s=J(),E(n,"class","multi-item-text svelte-15ynnp5"),E(e,"class","multi-item svelte-15ynnp5"),te(e,"active",t[26]===t[132]),te(e,"disabled",t[11])},m(g,d){q(g,e,d),C(e,n),u&&u.m(n,null),C(e,r),f&&f.m(e,null),C(e,s),i=!0,o||(a=[ne(e,"click",qe(h)),ne(e,"keydown",Ve(qe(t[85])))],o=!0)},p(g,d){t=g,l?l.p&&(!i||d[0]&8|d[2]&131072)&&Ce(l,c,t,t[79],i?Oe(c,t[79],d,Uu):Be(t[79]),ns):u&&u.p&&(!i||d[0]&4104)&&u.p(t,i?d:[-1,-1,-1,-1,-1]),!t[11]&&!t[10]&&Xn?f?(f.p(t,d),d[0]&3072&&k(f,1)):(f=hs(t),f.c(),k(f,1),f.m(e,s)):f&&(xe(),I(f,1,1,()=>{f=null}),Me()),(!i||d[0]&67108864)&&te(e,"active",t[26]===t[132]),(!i||d[0]&2048)&&te(e,"disabled",t[11])},i(g){i||(k(u,g),k(f),i=!0)},o(g){I(u,g),I(f),i=!1},d(g){g&&z(e),u&&u.d(g),f&&f.d(),o=!1,Ne(a)}}}function ps(t){let e,n;const r=t[80]["loading-icon"],s=Te(r,t,t[79],Qi),i=s||Qu();return{c(){e=D("div"),i&&i.c(),E(e,"class","icon loading svelte-15ynnp5"),E(e,"aria-hidden","true")},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Nu):Be(o[79]),Qi)},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function Qu(t){let e,n;return e=new Bu({}),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function gs(t){let e,n,r,s;const i=t[80]["clear-icon"],o=Te(i,t,t[79],Yi),a=o||$u();return{c(){e=D("button"),a&&a.c(),E(e,"class","icon clear-select svelte-15ynnp5"),E(e,"tabindex","0")},m(c,l){q(c,e,l),a&&a.m(e,null),n=!0,r||(s=[ne(e,"click",Ve(qe(t[22]))),ne(e,"pointerdown",Ve(qe(t[84])))],r=!0)},p(c,l){o&&o.p&&(!n||l[2]&131072)&&Ce(o,i,c,c[79],n?Oe(i,c[79],l,Iu):Be(c[79]),Yi)},i(c){n||(k(a,c),n=!0)},o(c){I(a,c),n=!1},d(c){c&&z(e),a&&a.d(c),r=!1,Ne(s)}}}function $u(t){let e,n;return e=new Xn({}),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function ms(t){let e,n;const r=t[80]["chevron-icon"],s=Te(r,t,t[79],Zi),i=s||ef();return{c(){e=D("div"),i&&i.c(),E(e,"class","icon chevron svelte-15ynnp5"),E(e,"aria-hidden","true")},m(o,a){q(o,e,a),i&&i.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a[0]&64|a[2]&131072)&&Ce(s,r,o,o[79],n?Oe(r,o[79],a,Mu):Be(o[79]),Zi)},i(o){n||(k(i,o),n=!0)},o(o){I(i,o),n=!1},d(o){o&&z(e),i&&i.d(o)}}}function ef(t){let e,n;return e=new Tu({}),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function bs(t){let e;const n=t[80].required,r=Te(n,t,t[79],Xi),s=r||tf();return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o[0]&8|o[2]&131072)&&Ce(r,n,i,i[79],e?Oe(n,i[79],o,xu):Be(i[79]),Xi)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function tf(t){let e;return{c(){e=D("select"),E(e,"class","required svelte-15ynnp5"),e.required=!0},m(n,r){q(n,e,r)},p:re,d(n){n&&z(e)}}}function nf(t){let e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_,S,P,U,N,G,L,R=t[6]&&as(t),O=t[2]&&us(t);const F=t[80].prepend,K=Te(F,t,t[79],rs);let v=t[25]&&fs(t),Z=[{readOnly:u=!t[17]},t[27],{placeholder:t[33]},{style:t[18]},{disabled:t[11]}],oe={};for(let A=0;A<Z.length;A+=1)oe=St(oe,Z[A]);let b=t[5]&&ps(t),w=t[34]&&gs(t),y=t[20]&&ms(t),B=t[16]&&(!t[3]||t[3].length===0)&&bs(t);return{c(){e=D("div"),R&&R.c(),n=J(),r=D("span"),O&&O.c(),s=J(),i=D("div"),K&&K.c(),o=J(),a=D("div"),v&&v.c(),c=J(),l=D("input"),f=J(),h=D("div"),b&&b.c(),g=J(),w&&w.c(),d=J(),y&&y.c(),m=J(),_=D("input"),P=J(),B&&B.c(),E(r,"aria-live","polite"),E(r,"aria-atomic","false"),E(r,"aria-relevant","additions text"),E(r,"class","a11y-text svelte-15ynnp5"),E(i,"class","prepend svelte-15ynnp5"),zn(l,oe),te(l,"svelte-15ynnp5",!0),E(a,"class","value-container svelte-15ynnp5"),E(h,"class","indicators svelte-15ynnp5"),E(_,"name",t[8]),E(_,"type","hidden"),_.value=S=t[3]?JSON.stringify(t[3]):null,E(_,"class","svelte-15ynnp5"),E(e,"class",U="svelte-select "+t[21]+" svelte-15ynnp5"),E(e,"style",t[14]),te(e,"multi",t[9]),te(e,"disabled",t[11]),te(e,"focused",t[2]),te(e,"list-open",t[6]),te(e,"show-chevron",t[20]),te(e,"error",t[15])},m(A,x){q(A,e,x),R&&R.m(e,null),C(e,n),C(e,r),O&&O.m(r,null),C(e,s),C(e,i),K&&K.m(i,null),C(e,o),C(e,a),v&&v.m(a,null),C(a,c),C(a,l),l.autofocus&&l.focus(),t[97](l),At(l,t[4]),C(e,f),C(e,h),b&&b.m(h,null),C(h,g),w&&w.m(h,null),C(h,d),y&&y.m(h,null),C(e,m),C(e,_),C(e,P),B&&B.m(e,null),t[99](e),N=!0,G||(L=[ne(window,"click",t[42]),ne(window,"keydown",t[37]),ne(l,"keydown",t[37]),ne(l,"blur",t[39]),ne(l,"focus",t[38]),ne(l,"input",t[98]),ne(e,"pointerup",qe(t[40])),ne(e,"pointerdown",Ve(qe(t[81]))),ne(e,"click",Ve(qe(t[82]))),ne(e,"keydown",Ve(qe(t[83]))),Hn(t[48].call(null,e))],G=!0)},p(A,x){A[6]?R?(R.p(A,x),x[0]&64&&k(R,1)):(R=as(A),R.c(),k(R,1),R.m(e,n)):R&&(xe(),I(R,1,1,()=>{R=null}),Me()),A[2]?O?O.p(A,x):(O=us(A),O.c(),O.m(r,null)):O&&(O.d(1),O=null),K&&K.p&&(!N||x[2]&131072)&&Ce(K,F,A,A[79],N?Oe(F,A[79],x,Du):Be(A[79]),rs),A[25]?v?(v.p(A,x),x[0]&33554432&&k(v,1)):(v=fs(A),v.c(),k(v,1),v.m(a,c)):v&&(xe(),I(v,1,1,()=>{v=null}),Me()),zn(l,oe=zr(Z,[(!N||x[0]&131072&&u!==(u=!A[17]))&&{readOnly:u},x[0]&134217728&&A[27],(!N||x[1]&4)&&{placeholder:A[33]},(!N||x[0]&262144)&&{style:A[18]},(!N||x[0]&2048)&&{disabled:A[11]}])),x[0]&16&&l.value!==A[4]&&At(l,A[4]),te(l,"svelte-15ynnp5",!0),A[5]?b?(b.p(A,x),x[0]&32&&k(b,1)):(b=ps(A),b.c(),k(b,1),b.m(h,g)):b&&(xe(),I(b,1,1,()=>{b=null}),Me()),A[34]?w?(w.p(A,x),x[1]&8&&k(w,1)):(w=gs(A),w.c(),k(w,1),w.m(h,d)):w&&(xe(),I(w,1,1,()=>{w=null}),Me()),A[20]?y?(y.p(A,x),x[0]&1048576&&k(y,1)):(y=ms(A),y.c(),k(y,1),y.m(h,null)):y&&(xe(),I(y,1,1,()=>{y=null}),Me()),(!N||x[0]&256)&&E(_,"name",A[8]),(!N||x[0]&8&&S!==(S=A[3]?JSON.stringify(A[3]):null))&&(_.value=S),A[16]&&(!A[3]||A[3].length===0)?B?(B.p(A,x),x[0]&65544&&k(B,1)):(B=bs(A),B.c(),k(B,1),B.m(e,null)):B&&(xe(),I(B,1,1,()=>{B=null}),Me()),(!N||x[0]&2097152&&U!==(U="svelte-select "+A[21]+" svelte-15ynnp5"))&&E(e,"class",U),(!N||x[0]&16384)&&E(e,"style",A[14]),(!N||x[0]&2097664)&&te(e,"multi",A[9]),(!N||x[0]&2099200)&&te(e,"disabled",A[11]),(!N||x[0]&2097156)&&te(e,"focused",A[2]),(!N||x[0]&2097216)&&te(e,"list-open",A[6]),(!N||x[0]&3145728)&&te(e,"show-chevron",A[20]),(!N||x[0]&2129920)&&te(e,"error",A[15])},i(A){N||(k(R),k(K,A),k(v),k(b),k(w),k(y),k(B),N=!0)},o(A){I(R),I(K,A),I(v),I(b),I(w),I(y),I(B),N=!1},d(A){A&&z(e),R&&R.d(),O&&O.d(),K&&K.d(A),v&&v.d(),t[97](null),b&&b.d(),w&&w.d(),y&&y.d(),B&&B.d(),t[99](null),G=!1,Ne(L)}}}function ys(t){return t.map((e,n)=>({index:n,value:e,label:`${e}`}))}function rf(t){return t===0}function sf(t){return t.groupHeader&&t.selectable||t.selectable||!t.hasOwnProperty("selectable")}function of(t,e,n){let r,s,i,o,a,c,l,u,f,{$$slots:h={},$$scope:g}=e;const d=Pl(h),m=$t();let{justValue:_=null}=e,{filter:S=Au}=e,{getItems:P=ku}=e,{id:U=null}=e,{name:N=null}=e,{container:G=void 0}=e,{input:L=void 0}=e,{multiple:R=!1}=e,{multiFullItemClearable:O=!1}=e,{disabled:F=!1}=e,{focused:K=!1}=e,{value:v=null}=e,{filterText:Z=""}=e,{placeholder:oe="Please select"}=e,{placeholderAlwaysShow:b=!1}=e,{items:w=null}=e,{label:y="label"}=e,{itemFilter:B=(p,V)=>`${p}`.toLowerCase().includes(V.toLowerCase())}=e,{groupBy:A=void 0}=e,{groupFilter:x=p=>p}=e,{groupHeaderSelectable:le=!1}=e,{itemId:H="value"}=e,{loadOptions:pe=void 0}=e,{containerStyles:Xe=""}=e,{hasError:Ee=!1}=e,{filterSelectedItems:Le=!0}=e,{required:ht=!1}=e,{createGroupHeaderItem:Ut=(p,V)=>({value:p,[y]:p})}=e;const or=()=>l;let{searchable:Dt=!0}=e,{inputStyles:kn=""}=e,{clearable:tn=!0}=e,{loading:Ge=!1}=e,{listOpen:ue=!1}=e,Ke,{debounce:nn=(p,V=1)=>{clearTimeout(Ke),Ke=setTimeout(p,V)}}=e,{debounceWait:Ot=300}=e,{hideEmptyState:X=!1}=e,{inputAttributes:Ct={}}=e,{listAutoWidth:_e=!0}=e,{showChevron:fe=!1}=e,{listOffset:dt=5}=e,{hoverItemIndex:ae=0}=e,{floatingConfig:Bt={}}=e,{class:Pt=""}=e,M,W,Y,ie;function ke(){if(typeof v=="string"){let p=w.find(V=>V[H]===v);n(3,v=p||{[H]:v,label:v})}else R&&Array.isArray(v)&&v.length>0&&n(3,v=v.map(p=>typeof p=="string"?{value:p,label:p}:p))}let Ie;function lr(){n(27,Ie=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Ct)),U&&n(27,Ie.id=U,Ie),Dt||n(27,Ie.readonly=!0,Ie)}function Rn(p){const V=[],we={};p.forEach(Ht=>{const rt=A(Ht);V.includes(rt)||(V.push(rt),we[rt]=[],rt&&we[rt].push(Object.assign(Ut(rt,Ht),{id:rt,groupHeader:!0,selectable:le}))),we[rt].push(Object.assign({groupItem:!!rt},Ht))});const nt=[];return x(V).forEach(Ht=>{we[Ht]&&nt.push(...we[Ht])}),nt}function Jo(){if(R){JSON.stringify(v)!==JSON.stringify(W)&&fi()&&m("input",v);return}(!W||JSON.stringify(v[H])!==JSON.stringify(W[H]))&&m("input",v)}function Xo(){v&&(Array.isArray(v)?n(3,v=[...v]):n(3,v=[v]))}function Zo(){v&&n(3,v=null)}function Yo(){const p=l.findIndex(V=>V[H]===v[H]);ui(p,!0)}function Qo(p){m("hoverItem",p)}function ui(p=0,V){n(7,ae=p),!V&&A&&l[ae]&&!l[ae].selectable&&On(1)}function $o(){Z.length!==0&&(n(2,K=!0),n(6,ue=!0),pe?nn(async function(){n(5,Ge=!0);let p=await P({dispatch:m,loadOptions:pe,convertStringItemsToObjects:ys,filterText:Z});p?(n(5,Ge=p.loading),n(2,K=p.focused),n(6,ue=p.listOpen),n(51,w=A?Rn(p.filteredItems):p.filteredItems)):(n(5,Ge=!1),n(2,K=!0),n(6,ue=!0))},Ot):(n(6,ue=!0),R&&n(26,M=void 0)))}function el(p){ue&&m("filter",p)}Zl(async()=>{n(76,W=v),n(77,Y=Z),n(78,ie=R)});function tl(){return R?v?v.map(p=>p[H]):null:v&&v[H]}function fi(){let p=!0;if(v){const V=[],we=[];v.forEach(nt=>{V.includes(nt[H])?p=!1:(V.push(nt[H]),we.push(nt))}),p||n(3,v=we)}return p}function hi(p){let V=p?p[H]:v[H];return w.find(we=>we[H]===V)}function nl(p){!p||p.length===0||p.some(V=>typeof V!="object")||!v||(R?v.some(V=>!V||!V[H]):!v[H])||(Array.isArray(v)?n(3,v=v.map(V=>hi(V)||V)):n(3,v=hi()||v))}async function Tn(p){const V=v[p];v.length===1?n(3,v=void 0):n(3,v=v.filter(we=>we!==V)),m("clear",V)}function rl(p){if(!!K)switch(p.stopPropagation(),p.key){case"Escape":p.preventDefault(),tt();break;case"Enter":if(p.preventDefault(),ue){if(l.length===0)break;const V=l[ae];if(v&&!R&&v[H]===V[H]){tt();break}else dr(l[ae])}break;case"ArrowDown":p.preventDefault(),ue?On(1):(n(6,ue=!0),n(26,M=void 0));break;case"ArrowUp":p.preventDefault(),ue?On(-1):(n(6,ue=!0),n(26,M=void 0));break;case"Tab":if(ue&&K){if(l.length===0||v&&v[H]===l[ae][H])return tt();p.preventDefault(),dr(l[ae]),tt()}break;case"Backspace":if(!R||Z.length>0)return;if(R&&v&&v.length>0){if(Tn(M!==void 0?M:v.length-1),M===0||M===void 0)break;n(26,M=v.length>M?M-1:void 0)}break;case"ArrowLeft":if(!v||!R||Z.length>0)return;M===void 0?n(26,M=v.length-1):v.length>M&&M!==0&&n(26,M-=1);break;case"ArrowRight":if(!v||!R||Z.length>0||M===void 0)return;M===v.length-1?n(26,M=void 0):M<v.length-1&&n(26,M+=1);break}}function ar(p){p&&m("focus",p),L.focus(),n(2,K=!0)}async function di(p){hr||(ue||K)&&(m("blur",p),tt(),n(2,K=!1),n(26,M=void 0),L.blur())}function il(){F||(n(6,ue=!ue),ue&&!K&&ar())}function sl(){n(3,v=void 0),tt(),m("clear",v),ar()}Yl(()=>{ue&&n(2,K=!0),K&&L&&L.focus()});function ol(p){if(p){n(4,Z="");const V=Object.assign({},p);(!V.groupHeader||V.selectable)&&(R?n(3,v=v?v.concat([V]):[V]):n(3,v=V),n(3,v),setTimeout(()=>{tt(),n(26,M=void 0),m("change",v)}))}}function tt(){n(4,Z=""),n(6,ue=!1)}let{ariaValues:cr=p=>`Option ${p}, selected.`}=e,{ariaListOpen:ur=(p,V)=>`You are currently focused on option ${p}. There are ${V} results available.`}=e,{ariaFocused:fr=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function ll(p){let V;return p&&v.length>0?V=v.map(we=>we[y]).join(", "):V=v[y],cr(V)}function al(){if(!l||l.length===0)return"";let p=l[ae];if(ue&&p){let V=l?l.length:0;return ur(p[y],V)}else return fr()}let Pe=null,pi;function gi(){clearTimeout(pi),pi=setTimeout(()=>{hr=!1},100)}function cl(p){G&&!G.contains(p.target)&&!(Pe!=null&&Pe.contains(p.target))&&di()}$l(()=>{Pe==null||Pe.remove()});let hr=!1;function dr(p){p.isCreator||p.selectable===!1||ol(p)}function pr(p){hr||n(7,ae=p)}function mi(p){const{item:V,i:we}=p;if((V==null?void 0:V.selectable)!==!1){if(v&&!R&&v[H]===V[H])return tt();sf(V)&&(n(7,ae=we),dr(V))}}function On(p){if(l.filter(nt=>!Object.hasOwn(nt,"selectable")||nt.selectable===!0).length===0)return n(7,ae=0);p>0&&ae===l.length-1?n(7,ae=0):p<0&&ae===0?n(7,ae=l.length-1):n(7,ae=ae+p);const we=l[ae];if(we&&we.selectable===!1){(p===1||p===-1)&&On(p);return}}function ul(p,V,we){if(!R)return V&&V[we]===p[we]}const fl=bi,hl=bi;function bi(p){return{update(V){V.scroll&&(gi(),p.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"}))}}}function dl(){const{width:p}=G.getBoundingClientRect();n(23,Pe.style.width=_e?p+"px":"auto",Pe)}let gr={strategy:"absolute",placement:"bottom-start",middleware:[tu(dt),$c(),ru()]};const[pl,gl]=Eu(gr);function ml(){gr=Object.assign(gr,Bt)}let mr=!0;function bl(p,V){if(!p||!V)return n(28,mr=!0);setTimeout(()=>{n(28,mr=!1)},0)}function yl(p){je.call(this,t,p)}function _l(p){je.call(this,t,p)}function wl(p){je.call(this,t,p)}function vl(p){je.call(this,t,p)}function Sl(p){je.call(this,t,p)}function El(p){je.call(this,t,p)}function Al(p){je.call(this,t,p)}function kl(p){je.call(this,t,p)}function Rl(p){je.call(this,t,p)}function Tl(p){je.call(this,t,p)}const Ol=p=>pr(p),Cl=p=>pr(p),Bl=(p,V)=>mi({item:p,i:V});function xl(p){Se[p?"unshift":"push"](()=>{Pe=p,n(23,Pe)})}const Ml=p=>Tn(p),Il=p=>O?Tn(p):{};function Nl(p){Se[p?"unshift":"push"](()=>{L=p,n(1,L)})}function Ll(){Z=this.value,n(4,Z),n(6,ue)}function jl(p){Se[p?"unshift":"push"](()=>{G=p,n(0,G)})}return t.$$set=p=>{"justValue"in p&&n(52,_=p.justValue),"filter"in p&&n(53,S=p.filter),"getItems"in p&&n(54,P=p.getItems),"id"in p&&n(55,U=p.id),"name"in p&&n(8,N=p.name),"container"in p&&n(0,G=p.container),"input"in p&&n(1,L=p.input),"multiple"in p&&n(9,R=p.multiple),"multiFullItemClearable"in p&&n(10,O=p.multiFullItemClearable),"disabled"in p&&n(11,F=p.disabled),"focused"in p&&n(2,K=p.focused),"value"in p&&n(3,v=p.value),"filterText"in p&&n(4,Z=p.filterText),"placeholder"in p&&n(56,oe=p.placeholder),"placeholderAlwaysShow"in p&&n(57,b=p.placeholderAlwaysShow),"items"in p&&n(51,w=p.items),"label"in p&&n(12,y=p.label),"itemFilter"in p&&n(58,B=p.itemFilter),"groupBy"in p&&n(59,A=p.groupBy),"groupFilter"in p&&n(60,x=p.groupFilter),"groupHeaderSelectable"in p&&n(61,le=p.groupHeaderSelectable),"itemId"in p&&n(13,H=p.itemId),"loadOptions"in p&&n(62,pe=p.loadOptions),"containerStyles"in p&&n(14,Xe=p.containerStyles),"hasError"in p&&n(15,Ee=p.hasError),"filterSelectedItems"in p&&n(63,Le=p.filterSelectedItems),"required"in p&&n(16,ht=p.required),"createGroupHeaderItem"in p&&n(64,Ut=p.createGroupHeaderItem),"searchable"in p&&n(17,Dt=p.searchable),"inputStyles"in p&&n(18,kn=p.inputStyles),"clearable"in p&&n(66,tn=p.clearable),"loading"in p&&n(5,Ge=p.loading),"listOpen"in p&&n(6,ue=p.listOpen),"debounce"in p&&n(67,nn=p.debounce),"debounceWait"in p&&n(68,Ot=p.debounceWait),"hideEmptyState"in p&&n(19,X=p.hideEmptyState),"inputAttributes"in p&&n(69,Ct=p.inputAttributes),"listAutoWidth"in p&&n(70,_e=p.listAutoWidth),"showChevron"in p&&n(20,fe=p.showChevron),"listOffset"in p&&n(71,dt=p.listOffset),"hoverItemIndex"in p&&n(7,ae=p.hoverItemIndex),"floatingConfig"in p&&n(72,Bt=p.floatingConfig),"class"in p&&n(21,Pt=p.class),"ariaValues"in p&&n(73,cr=p.ariaValues),"ariaListOpen"in p&&n(74,ur=p.ariaListOpen),"ariaFocused"in p&&n(75,fr=p.ariaFocused),"$$scope"in p&&n(79,g=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8|t.$$.dirty[1]&1048576&&v&&ke(),t.$$.dirty[0]&131072|t.$$.dirty[2]&128&&(Ct||!Dt)&&lr(),t.$$.dirty[0]&512&&R&&Xo(),t.$$.dirty[0]&512|t.$$.dirty[2]&65536&&ie&&!R&&Zo(),t.$$.dirty[0]&520&&R&&v&&v.length>1&&fi(),t.$$.dirty[0]&8&&v&&Jo(),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!v&&R&&W&&m("input",v),t.$$.dirty[0]&6&&!K&&L&&tt(),t.$$.dirty[0]&64&&(ue||n(4,Z="")),t.$$.dirty[0]&16|t.$$.dirty[2]&32768&&Z!==Y&&$o(),t.$$.dirty[0]&12824|t.$$.dirty[1]&407896064|t.$$.dirty[2]&3&&n(24,l=S({loadOptions:pe,filterText:Z,items:w,multiple:R,value:v,itemId:H,groupBy:A,label:y,filterSelectedItems:Le,itemFilter:B,convertStringItemsToObjects:ys,filterGroupedItems:Rn})),t.$$.dirty[0]&16777800&&!R&&ue&&v&&l&&Yo(),t.$$.dirty[0]&576&&ue&&R&&n(7,ae=0),t.$$.dirty[0]&128&&Qo(ae),t.$$.dirty[0]&520&&n(25,r=R?v&&v.length>0:v),t.$$.dirty[0]&33554448&&n(35,s=r&&Z.length>0),t.$$.dirty[0]&33556512|t.$$.dirty[2]&16&&n(34,i=r&&tn&&!F&&!Ge),t.$$.dirty[0]&520|t.$$.dirty[1]&100663296&&n(33,o=b&&R?oe:v?"":oe),t.$$.dirty[0]&520&&n(32,a=v?ll(R):""),t.$$.dirty[0]&16777412&&n(31,c=al()),t.$$.dirty[1]&1048576&&nl(w),t.$$.dirty[0]&8712&&n(52,_=tl()),t.$$.dirty[0]&520|t.$$.dirty[2]&16384&&!R&&W&&!v&&m("input",v),t.$$.dirty[0]&16777800&&ue&&l&&!R&&!v&&ui(),t.$$.dirty[0]&16777216&&el(l),t.$$.dirty[2]&1024&&ml(),t.$$.dirty[0]&8388608&&n(30,u=!!Pe),t.$$.dirty[0]&8388672&&bl(Pe,ue),t.$$.dirty[0]&8388673&&ue&&G&&Pe&&dl(),t.$$.dirty[0]&128&&n(29,f=ae)},[G,L,K,v,Z,Ge,ue,ae,N,R,O,F,y,H,Xe,Ee,ht,Dt,kn,X,fe,Pt,sl,Pe,l,r,M,Ie,mr,f,u,c,a,o,i,s,Tn,rl,ar,di,il,gi,cl,pr,mi,ul,fl,hl,pl,gl,d,w,_,S,P,U,oe,b,B,A,x,le,pe,Le,Ut,or,tn,nn,Ot,Ct,_e,dt,Bt,cr,ur,fr,W,Y,ie,g,h,yl,_l,wl,vl,Sl,El,Al,kl,Rl,Tl,Ol,Cl,Bl,xl,Ml,Il,Nl,Ll,jl]}class No extends ye{constructor(e){super(),be(this,e,of,nf,ge,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,createGroupHeaderItem:64,getFilteredItems:65,searchable:17,inputStyles:18,clearable:66,loading:5,listOpen:6,debounce:67,debounceWait:68,hideEmptyState:19,inputAttributes:69,listAutoWidth:70,showChevron:20,listOffset:71,hoverItemIndex:7,floatingConfig:72,class:21,handleClear:22,ariaValues:73,ariaListOpen:74,ariaFocused:75},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[65]}get handleClear(){return this.$$.ctx[22]}}function lf(t){let e,n,r=t[10].created?"Create":"",s,i,o=t[10].label+"",a,c,l,u=t[10].description+"",f;return{c(){e=D("div"),n=D("span"),s=ve(r),i=J(),a=ve(o),c=J(),l=D("span"),f=ve(u),E(n,"class","label svelte-2scfht"),E(l,"class","description svelte-2scfht"),E(e,"class","item svelte-2scfht"),E(e,"slot","item")},m(h,g){q(h,e,g),C(e,n),C(n,s),C(n,i),C(n,a),C(e,c),C(e,l),C(l,f)},p(h,g){g&1024&&r!==(r=h[10].created?"Create":"")&&De(s,r),g&1024&&o!==(o=h[10].label+"")&&De(a,o),g&1024&&u!==(u=h[10].description+"")&&De(f,u)},d(h){h&&z(e)}}}function af(t){let e,n,r;function s(o){t[8](o)}let i={items:t[1],value:t[2],class:"class-select",placeholder:"Select or create class",$$slots:{item:[lf,({item:o})=>({10:o}),({item:o})=>o?1024:0]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.filterText=t[0]),e=new No({props:i}),Se.push(()=>Fe(e,"filterText",s,t[0])),e.$on("change",t[3]),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),r=!0},p(o,[a]){const c={};a&2&&(c.items=o[1]),a&4&&(c.value=o[2]),a&3072&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.filterText=o[0],ze(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){$(e,o)}}}function cf(t,e,n){let r,s,i;ce(t,Rt,g=>n(5,r=g)),ce(t,Lc,g=>n(6,s=g)),ce(t,vt,g=>n(7,i=g));const o=$t();let{selectedSubject:a=""}=e,c="",l,u=[];const f=g=>{n(1,u=u.map(d=>(delete d.created,d))),o("select",g.detail)};function h(g){c=g,n(0,c)}return t.$$set=g=>{"selectedSubject"in g&&n(4,a=g.selectedSubject)},t.$$.update=()=>{t.$$.dirty&48&&a&&(async()=>{const d=await r.getResourceAsync(a);n(2,l={label:d.get(j.properties.shortname),subject:d.getSubject(),description:d.get(j.properties.description)})})(),t.$$.dirty&1&&c!==Yt(c)&&n(0,c=Yt(c)),t.$$.dirty&224&&Promise.all([...i,...s].map(g=>r.getResourceAsync(g))).then(g=>{n(1,u=g.map(d=>({label:d.get(j.properties.shortname),subject:d.getSubject(),description:d.get(j.properties.description)})))}),t.$$.dirty&3&&(c.length>0?n(1,u=[{subject:"",label:c,description:"",created:!0},...u.filter(g=>!g.created)]):n(1,u=u.filter(g=>!g.created)))},[c,u,l,f,a,r,s,i,h]}class uf extends ye{constructor(e){super(),be(this,e,cf,af,ge,{selectedSubject:4})}}function ff(t){let e,n,r,s;const i=t[1].default,o=Te(i,t,t[0],null);return{c(){e=D("button"),o&&o.c(),E(e,"class","svelte-k4rzb0")},m(a,c){q(a,e,c),o&&o.m(e,null),n=!0,r||(s=ne(e,"click",t[2]),r=!0)},p(a,[c]){o&&o.p&&(!n||c&1)&&Ce(o,i,a,a[0],n?Oe(i,a[0],c,null):Be(a[0]),null)},i(a){n||(k(o,a),n=!0)},o(a){I(o,a),n=!1},d(a){a&&z(e),o&&o.d(a),r=!1,s()}}}function hf(t,e,n){let{$$slots:r={},$$scope:s}=e;function i(o){je.call(this,t,o)}return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,r,i]}class ti extends ye{constructor(e){super(),be(this,e,hf,ff,ge,{})}}function _s(t,e,n){const r=t.slice();return r[28]=e[n],r}function ws(t){let e,n=t[28]+"",r,s,i;return{c(){e=D("option"),r=ve(n),s=J(),e.__value=de[t[28]],e.value=e.__value,e.selected=i=de[t[28]]===t[2]},m(o,a){q(o,e,a),C(e,r),C(e,s)},p(o,a){a[0]&4&&i!==(i=de[o[28]]===o[2])&&(e.selected=i)},d(o){o&&z(e)}}}function df(t){let e,n=t[14],r=[];for(let s=0;s<n.length;s+=1)r[s]=ws(_s(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ut()},m(s,i){for(let o=0;o<r.length;o+=1)r[o].m(s,i);q(s,e,i)},p(s,i){if(i[0]&16388){n=s[14];let o;for(o=0;o<n.length;o+=1){const a=_s(s,n,o);r[o]?r[o].p(a,i):(r[o]=ws(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){Hr(r,s),s&&z(e)}}}function vs(t){let e,n,r;function s(o){t[22](o)}let i={$$slots:{controls:[bf],content:[gf],title:[pf]},$$scope:{ctx:t}};return t[4]!==void 0&&(i.show=t[4]),e=new Eo({props:i}),Se.push(()=>Fe(e,"show",s,t[4])),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),r=!0},p(o,a){const c={};a[0]&112|a[1]&1&&(c.$$scope={dirty:a,ctx:o}),!n&&a[0]&16&&(n=!0,c.show=o[4],ze(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){$(e,o)}}}function pf(t){let e,n,r;return{c(){e=D("h1"),n=ve("Configure "),r=ve(t[6])},m(s,i){q(s,e,i),C(e,n),C(e,r)},p(s,i){i[0]&64&&De(r,s[6])},d(s){s&&z(e)}}}function gf(t){let e,n,r,s;return r=new uf({props:{selectedSubject:t[5]}}),r.$on("select",t[13]),{c(){e=D("label"),e.textContent="Classtype",n=J(),ee(r.$$.fragment),E(e,"for",""),E(e,"class","svelte-12dko8g")},m(i,o){q(i,e,o),q(i,n,o),Q(r,i,o),s=!0},p(i,o){const a={};o[0]&32&&(a.selectedSubject=i[5]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(e),i&&z(n),$(r,i)}}}function mf(t){let e;return{c(){e=ve("Done")},m(n,r){q(n,e,r)},d(n){n&&z(e)}}}function bf(t){let e,n;return e=new ti({props:{$$slots:{default:[mf]},$$scope:{ctx:t}}}),e.$on("click",t[21]),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function yf(t){let e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_;function S(O){t[16](O)}let P={placeholder:"shortname",disabled:t[1]};t[6]!==void 0&&(P.value=t[6]),n=new Ur({props:P}),Se.push(()=>Fe(n,"value",S,t[6]));function U(O){t[17](O)}let N={placeholder:"description",disabled:t[1],required:!0};t[7]!==void 0&&(N.value=t[7]),i=new Ur({props:N}),Se.push(()=>Fe(i,"value",U,t[7]));function G(O){t[18](O)}let L={name:"type",disabled:t[1],$$slots:{default:[df]},$$scope:{ctx:t}};t[2]!==void 0&&(L.value=t[2]),c=new Mc({props:L}),Se.push(()=>Fe(c,"value",G,t[2])),f=new Qt({props:{icon:wo,disabled:!t[3],title:"Configure"}}),f.$on("click",t[19]),g=new Qt({props:{icon:bo,title:"Remove property"}}),g.$on("click",t[20]);let R=t[3]&&vs(t);return{c(){e=D("form"),ee(n.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),ee(c.$$.fragment),u=J(),ee(f.$$.fragment),h=J(),ee(g.$$.fragment),d=J(),R&&R.c(),m=ut(),E(e,"class","wrapper svelte-12dko8g")},m(O,F){q(O,e,F),Q(n,e,null),C(e,s),Q(i,e,null),C(e,a),Q(c,e,null),C(e,u),Q(f,e,null),C(e,h),Q(g,e,null),q(O,d,F),R&&R.m(O,F),q(O,m,F),_=!0},p(O,F){const K={};F[0]&2&&(K.disabled=O[1]),!r&&F[0]&64&&(r=!0,K.value=O[6],ze(()=>r=!1)),n.$set(K);const v={};F[0]&2&&(v.disabled=O[1]),!o&&F[0]&128&&(o=!0,v.value=O[7],ze(()=>o=!1)),i.$set(v);const Z={};F[0]&2&&(Z.disabled=O[1]),F[0]&4|F[1]&1&&(Z.$$scope={dirty:F,ctx:O}),!l&&F[0]&4&&(l=!0,Z.value=O[2],ze(()=>l=!1)),c.$set(Z);const oe={};F[0]&8&&(oe.disabled=!O[3]),f.$set(oe),O[3]?R?(R.p(O,F),F[0]&8&&k(R,1)):(R=vs(O),R.c(),k(R,1),R.m(m.parentNode,m)):R&&(xe(),I(R,1,1,()=>{R=null}),Me())},i(O){_||(k(n.$$.fragment,O),k(i.$$.fragment,O),k(c.$$.fragment,O),k(f.$$.fragment,O),k(g.$$.fragment,O),k(R),_=!0)},o(O){I(n.$$.fragment,O),I(i.$$.fragment,O),I(c.$$.fragment,O),I(f.$$.fragment,O),I(g.$$.fragment,O),I(R),_=!1},d(O){O&&z(e),$(n),$(i),$(c),$(f),$(g),O&&z(d),R&&R.d(O),O&&z(m)}}}function _f(t,e,n){let r,s,i,o,a,c,l,u;ce(t,vt,w=>n(23,s=w)),ce(t,Rt,w=>n(24,i=w)),ce(t,lt,w=>n(25,o=w)),ce(t,So,w=>n(15,c=w));const f=$t();let{subject:h}=e,g,d=!1,m=!1,_=yo(h),S=Qe(_,j.properties.shortname);ce(t,S,w=>n(6,l=w));let P=Qe(_,j.properties.description);ce(t,P,w=>n(7,u=w));let U=Qe(_,j.properties.datatype);ce(t,U,w=>n(2,a=w));let N=Qe(_,j.properties.classType);ce(t,N,w=>n(5,r=w));const G=async w=>{const y=Fr(o),B=i.getResourceLoading(y,{newResource:!0});return await B.set(j.properties.shortname,w,i),await B.set(j.properties.description,"",i),await B.set(j.properties.isA,[j.classes.class],i),await B.set(j.properties.parent,o,i),$e(vt,s=[...s,y],s),y},L=async w=>{const{subject:y,label:B}=w.detail;y===""?$e(N,r=await G(B),r):$e(N,r=y,r)},R=Object.keys(de);function O(w){l=w,S.set(l)}function F(w){u=w,P.set(u)}function K(w){a=w,U.set(a)}const v=()=>n(4,m=!0),Z=()=>f("delete",h),oe=()=>n(4,m=!1);function b(w){m=w,n(4,m)}return t.$$set=w=>{"subject"in w&&n(0,h=w.subject)},t.$$.update=()=>{t.$$.dirty[0]&32769&&n(1,g=c.includes(h)),t.$$.dirty[0]&6&&(!g&&(a===de.ATOMIC_URL||a===de.RESOURCEARRAY)?n(3,d=!0):(n(3,d=!1),$e(N,r=void 0,r)))},[h,g,a,d,m,r,l,u,f,S,P,U,N,L,R,c,O,F,K,v,Z,oe,b]}class wf extends ye{constructor(e){super(),be(this,e,_f,yf,ge,{subject:0},null,[-1,-1])}}const Lo=t=>Object.entries(t).reduce((e,[n,r])=>typeof r=="object"?{...e,...Lo(r)}:{...e,[n]:r},{}),Zn=Sn([]);function vf(t){let e,n=t[11].created?"Create":"",r,s,i=t[11].label+"",o,a,c,l=t[2][t[11].datatype]+"",u;return{c(){e=D("div"),r=ve(n),s=J(),o=ve(i),a=J(),c=D("span"),u=ve(l),E(c,"class","datatype svelte-1ysxfpo"),E(e,"class","item svelte-1ysxfpo"),E(e,"slot","item")},m(f,h){q(f,e,h),C(e,r),C(e,s),C(e,o),C(e,a),C(e,c),C(c,u)},p(f,h){h&2048&&n!==(n=f[11].created?"Create":"")&&De(r,n),h&2048&&i!==(i=f[11].label+"")&&De(o,i),h&2048&&l!==(l=f[2][f[11].datatype]+"")&&De(u,l)},d(f){f&&z(e)}}}function Sf(t){let e,n,r,s;function i(a){t[7](a)}let o={items:t[0],placeholder:"Select or create property",class:"property-select",$$slots:{item:[vf,({item:a})=>({11:a}),({item:a})=>a?2048:0]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.filterText=t[1]),n=new No({props:o}),Se.push(()=>Fe(n,"filterText",i,t[1])),n.$on("change",t[3]),n.$on("blur",t[8]),{c(){e=D("div"),ee(n.$$.fragment),E(e,"class","wrapper svelte-1ysxfpo")},m(a,c){q(a,e,c),Q(n,e,null),s=!0},p(a,[c]){const l={};c&1&&(l.items=a[0]),c&6144&&(l.$$scope={dirty:c,ctx:a}),!r&&c&2&&(r=!0,l.filterText=a[1],ze(()=>r=!1)),n.$set(l)},i(a){s||(k(n.$$.fragment,a),s=!0)},o(a){I(n.$$.fragment,a),s=!1},d(a){a&&z(e),$(n)}}}function Ef(t,e,n){let r,s,i;ce(t,Rt,d=>n(4,r=d)),ce(t,So,d=>n(5,s=d)),ce(t,Zn,d=>n(6,i=d));const o=$t(),a=Object.entries(de).reduce((d,[m,_])=>(d[_]=m,d),{}),c=Lo(j.properties);delete c.getAll;let l=[],u="";const f=d=>{n(0,l=l.map(m=>(delete m.created,m))),o("select",d.detail)};function h(d){u=d,n(1,u)}function g(d){je.call(this,t,d)}return t.$$.update=()=>{t.$$.dirty&2&&u!==Yt(u)&&n(1,u=Yt(u)),t.$$.dirty&112&&Promise.all([...i,...s].map(d=>r.getResourceAsync(d))).then(d=>{n(0,l=d.map(m=>({label:m.get(j.properties.shortname),subject:m.getSubject(),datatype:m.get(j.properties.datatype)})))}),t.$$.dirty&3&&(u.length>0?n(0,l=[{subject:"",label:u,created:!0,datatype:de.STRING},...l.filter(d=>!d.created)]):n(0,l=l.filter(d=>!d.created)))},[l,u,a,f,r,s,i,h,g]}class Af extends ye{constructor(e){super(),be(this,e,Ef,Sf,ge,{})}}function Ss(t,e,n){const r=t.slice();return r[10]=e[n],r}function Es(t,e){let n,r,s;return r=new wf({props:{subject:e[10]}}),r.$on("delete",e[3]),{key:t,first:null,c(){n=D("li"),ee(r.$$.fragment),this.first=n},m(i,o){q(i,n,o),Q(r,n,null),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[10]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(n),$(r)}}}function kf(t){let e,n;return e=new Qt({props:{icon:_o,title:"Add property"}}),e.$on("click",t[5]),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},p:re,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function Rf(t){let e,n;return e=new Af({}),e.$on("select",t[2]),e.$on("blur",t[4]),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},p:re,i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function Tf(t){let e,n=[],r=new Map,s,i,o,a,c,l=t[0];const u=d=>d[10];for(let d=0;d<l.length;d+=1){let m=Ss(t,l,d),_=u(m);r.set(_,n[d]=Es(_,m))}const f=[Rf,kf],h=[];function g(d,m){return d[1]?0:1}return o=g(t),a=h[o]=f[o](t),{c(){e=D("ul");for(let d=0;d<n.length;d+=1)n[d].c();s=J(),i=D("li"),a.c(),E(e,"class","svelte-s3sb9i")},m(d,m){q(d,e,m);for(let _=0;_<n.length;_+=1)n[_].m(e,null);C(e,s),C(e,i),h[o].m(i,null),c=!0},p(d,[m]){m&9&&(l=d[0],xe(),n=Ys(n,m,u,1,d,l,r,e,Zs,Es,s,Ss),Me());let _=o;o=g(d),o===_?h[o].p(d,m):(xe(),I(h[_],1,1,()=>{h[_]=null}),Me(),a=h[o],a?a.p(d,m):(a=h[o]=f[o](d),a.c()),k(a,1),a.m(i,null))},i(d){if(!c){for(let m=0;m<l.length;m+=1)k(n[m]);k(a),c=!0}},o(d){for(let m=0;m<n.length;m+=1)I(n[m]);I(a),c=!1},d(d){d&&z(e);for(let m=0;m<n.length;m+=1)n[m].d();h[o].d()}}}function Of(t,e,n){let r,s,i;ce(t,Zn,g=>n(6,r=g)),ce(t,Rt,g=>n(7,s=g)),ce(t,lt,g=>n(8,i=g));let{properties:o=[]}=e,a=!1;const c=async g=>{const d=Fr(i),m=s.getResourceLoading(d,{newResource:!0});return await m.set(j.properties.shortname,g,s),await m.set(j.properties.datatype,de.STRING,s),await m.set(j.properties.isA,[j.classes.property],s),await m.set(j.properties.parent,i,s),$e(Zn,r=[...r,d],r),d},l=async g=>{const{subject:d,label:m}=g.detail;d===""?n(0,o=[...o,await c(m)]):n(0,o=[...o,d]),n(1,a=!1)},u=g=>{n(0,o=o.filter(d=>d!==g.detail))},f=()=>n(1,a=!1),h=()=>n(1,a=!0);return t.$$set=g=>{"properties"in g&&n(0,o=g.properties)},[o,a,l,u,f,h]}class As extends ye{constructor(e){super(),be(this,e,Of,Tf,ge,{properties:0})}}function Cf(t){let e,n,r;return{c(){e=D("textarea"),E(e,"name",t[2]),E(e,"id",t[1]),e.required=t[3],E(e,"cols","30"),E(e,"rows","10"),E(e,"class","svelte-vxqza9")},m(s,i){q(s,e,i),At(e,t[0]),n||(r=ne(e,"input",t[4]),n=!0)},p(s,[i]){i&4&&E(e,"name",s[2]),i&2&&E(e,"id",s[1]),i&8&&(e.required=s[3]),i&1&&At(e,s[0])},i:re,o:re,d(s){s&&z(e),n=!1,r()}}}function Bf(t,e,n){let{value:r=""}=e,{id:s=""}=e,{name:i=""}=e,{required:o=!1}=e;function a(){r=this.value,n(0,r)}return t.$$set=c=>{"value"in c&&n(0,r=c.value),"id"in c&&n(1,s=c.id),"name"in c&&n(2,i=c.name),"required"in c&&n(3,o=c.required)},[r,s,i,o,a]}class jo extends ye{constructor(e){super(),be(this,e,Bf,Cf,ge,{value:0,id:1,name:2,required:3})}}function xf(t){let e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_,S,P,U,N,G,L,R,O,F,K,v,Z;r=new tr({props:{data:wc}});function oe(H){t[10](H)}let b={};t[1]!==void 0&&(b.title=t[1]),i=new Tc({props:b}),Se.push(()=>Fe(i,"title",oe,t[1])),l=new Qt({props:{icon:bo,title:"Delete class"}}),l.$on("click",t[11]);function w(H){t[12](H)}let y={};t[2]!==void 0&&(y.properties=t[2]),d=new As({props:y}),Se.push(()=>Fe(d,"properties",w,t[2]));function B(H){t[13](H)}let A={};t[3]!==void 0&&(A.properties=t[3]),N=new As({props:A}),Se.push(()=>Fe(N,"properties",B,t[3]));function x(H){t[14](H)}let le={required:!0};return t[4]!==void 0&&(le.value=t[4]),K=new jo({props:le}),Se.push(()=>Fe(K,"value",x,t[4])),{c(){e=D("div"),n=D("div"),ee(r.$$.fragment),s=J(),ee(i.$$.fragment),a=J(),c=D("span"),ee(l.$$.fragment),u=J(),f=D("div"),h=D("h3"),h.textContent="Requires",g=J(),ee(d.$$.fragment),_=J(),S=D("div"),P=D("h3"),P.textContent="Recommends",U=J(),ee(N.$$.fragment),L=J(),R=D("div"),O=D("h3"),O.textContent="Description",F=J(),ee(K.$$.fragment),E(c,"class","delete-icon-wrapper svelte-k9aap9"),Cn(n,"grid-area","title"),E(n,"class","title svelte-k9aap9"),Cn(f,"grid-area","requires"),E(f,"class","form-container svelte-k9aap9"),Cn(S,"grid-area","recommends"),E(S,"class","form-container svelte-k9aap9"),Cn(R,"grid-area","description"),E(R,"class","form-container svelte-k9aap9"),E(e,"class","wrapper svelte-k9aap9")},m(H,pe){q(H,e,pe),C(e,n),Q(r,n,null),C(n,s),Q(i,n,null),C(n,a),C(n,c),Q(l,c,null),C(e,u),C(e,f),C(f,h),C(f,g),Q(d,f,null),C(e,_),C(e,S),C(S,P),C(S,U),Q(N,S,null),C(e,L),C(e,R),C(R,O),C(R,F),Q(K,R,null),Z=!0},p(H,[pe]){const Xe={};!o&&pe&2&&(o=!0,Xe.title=H[1],ze(()=>o=!1)),i.$set(Xe);const Ee={};!m&&pe&4&&(m=!0,Ee.properties=H[2],ze(()=>m=!1)),d.$set(Ee);const Le={};!G&&pe&8&&(G=!0,Le.properties=H[3],ze(()=>G=!1)),N.$set(Le);const ht={};!v&&pe&16&&(v=!0,ht.value=H[4],ze(()=>v=!1)),K.$set(ht)},i(H){Z||(k(r.$$.fragment,H),k(i.$$.fragment,H),k(l.$$.fragment,H),k(d.$$.fragment,H),k(N.$$.fragment,H),k(K.$$.fragment,H),Z=!0)},o(H){I(r.$$.fragment,H),I(i.$$.fragment,H),I(l.$$.fragment,H),I(d.$$.fragment,H),I(N.$$.fragment,H),I(K.$$.fragment,H),Z=!1},d(H){H&&z(e),$(r),$(i),$(l),$(d),$(N),$(K)}}}function Mf(t,e,n){let r,s,i,o,a;ce(t,lt,L=>n(15,s=L));const c=$t();let{subject:l}=e,u=yo(l,{newResource:!0}),f=Qe(u,j.properties.shortname);ce(t,f,L=>n(1,r=L));let h=Qe(u,j.properties.description);ce(t,h,L=>n(4,a=L));let g=Qe(u,j.properties.requires);ce(t,g,L=>n(2,i=L));let d=Qe(u,j.properties.recommends);ce(t,d,L=>n(3,o=L));let m=Qe(u,j.properties.isA),_=Qe(u,j.properties.parent);m.set([j.classes.class]),_.set(s);function S(L){r=L,f.set(r)}const P=()=>c("delete",l);function U(L){i=L,g.set(i)}function N(L){o=L,d.set(o)}function G(L){a=L,h.set(a)}return t.$$set=L=>{"subject"in L&&n(0,l=L.subject)},t.$$.update=()=>{t.$$.dirty&2&&r===void 0&&$e(f,r="untitled",r)},[l,r,i,o,a,c,f,h,g,d,S,P,U,N,G]}class If extends ye{constructor(e){super(),be(this,e,Mf,xf,ge,{subject:0})}}function ks(t,e,n){const r=t.slice();return r[4]=e[n],r}function Rs(t,e){let n,r,s;return r=new If({props:{subject:e[4]}}),r.$on("delete",e[2]),{key:t,first:null,c(){n=ut(),ee(r.$$.fragment),this.first=n},m(i,o){q(i,n,o),Q(r,i,o),s=!0},p(i,o){e=i;const a={};o&1&&(a.subject=e[4]),r.$set(a)},i(i){s||(k(r.$$.fragment,i),s=!0)},o(i){I(r.$$.fragment,i),s=!1},d(i){i&&z(n),$(r,i)}}}function Nf(t){let e,n,r;return e=new tr({props:{data:_o}}),{c(){ee(e.$$.fragment),n=ve(`
  New Class`)},m(s,i){Q(e,s,i),q(s,n,i),r=!0},p:re,i(s){r||(k(e.$$.fragment,s),r=!0)},o(s){I(e.$$.fragment,s),r=!1},d(s){$(e,s),s&&z(n)}}}function Lf(t){let e=[],n=new Map,r,s,i,o=t[0];const a=c=>c[4];for(let c=0;c<o.length;c+=1){let l=ks(t,o,c),u=a(l);n.set(u,e[c]=Rs(u,l))}return s=new ti({props:{$$slots:{default:[Nf]},$$scope:{ctx:t}}}),s.$on("click",t[1]),{c(){for(let c=0;c<e.length;c+=1)e[c].c();r=J(),ee(s.$$.fragment)},m(c,l){for(let u=0;u<e.length;u+=1)e[u].m(c,l);q(c,r,l),Q(s,c,l),i=!0},p(c,[l]){l&5&&(o=c[0],xe(),e=Ys(e,l,a,1,c,o,n,r.parentNode,Zs,Rs,r,ks),Me());const u={};l&128&&(u.$$scope={dirty:l,ctx:c}),s.$set(u)},i(c){if(!i){for(let l=0;l<o.length;l+=1)k(e[l]);k(s.$$.fragment,c),i=!0}},o(c){for(let l=0;l<e.length;l+=1)I(e[l]);I(s.$$.fragment,c),i=!1},d(c){for(let l=0;l<e.length;l+=1)e[l].d(c);c&&z(r),$(s,c)}}}function jf(t,e,n){let r,s;return ce(t,vt,a=>n(0,r=a)),ce(t,lt,a=>n(3,s=a)),[r,()=>{const a=Fr(s);$e(vt,r=[...r,a],r)},a=>{$e(vt,r=r.filter(c=>c!==a.detail),r)}]}class Uf extends ye{constructor(e){super(),be(this,e,jf,Lf,ge,{})}}function Df(t){let e;return{c(){e=D("h1"),e.textContent="Config"},m(n,r){q(n,e,r)},p:re,d(n){n&&z(e)}}}function Pf(t){let e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_,S;function P(L){t[5](L)}let U={id:"localURL"};t[2]!==void 0&&(U.value=t[2]),i=new Ur({props:U}),Se.push(()=>Fe(i,"value",P,t[2])),i.$on("blur",t[4]);function N(L){t[6](L)}let G={id:"data-sources"};return t[1]!==void 0&&(G.value=t[1]),g=new jo({props:G}),Se.push(()=>Fe(g,"value",N,t[1])),{c(){e=D("form"),n=D("div"),r=D("label"),r.textContent="Local URL:",s=J(),ee(i.$$.fragment),a=J(),c=D("p"),c.textContent="The url used to generate subjects for new classes and properties",l=J(),u=D("div"),f=D("label"),f.textContent="Data Sources:",h=J(),ee(g.$$.fragment),m=J(),_=D("p"),_.textContent=`Atomic data servers to pull property and class data from. (seperated
          by newline)`,E(r,"for","localURL"),E(r,"class","svelte-h5oczp"),E(c,"class","helper svelte-h5oczp"),E(n,"class","form-field svelte-h5oczp"),E(f,"for","data-sources"),E(f,"class","svelte-h5oczp"),E(_,"class","helper svelte-h5oczp"),E(u,"class","form-field svelte-h5oczp"),E(e,"class","svelte-h5oczp")},m(L,R){q(L,e,R),C(e,n),C(n,r),C(n,s),Q(i,n,null),C(n,a),C(n,c),C(e,l),C(e,u),C(u,f),C(u,h),Q(g,u,null),C(u,m),C(u,_),S=!0},p(L,R){const O={};!o&&R&4&&(o=!0,O.value=L[2],ze(()=>o=!1)),i.$set(O);const F={};!d&&R&2&&(d=!0,F.value=L[1],ze(()=>d=!1)),g.$set(F)},i(L){S||(k(i.$$.fragment,L),k(g.$$.fragment,L),S=!0)},o(L){I(i.$$.fragment,L),I(g.$$.fragment,L),S=!1},d(L){L&&z(e),$(i),$(g)}}}function Hf(t){let e;return{c(){e=ve("Done")},m(n,r){q(n,e,r)},d(n){n&&z(e)}}}function zf(t){let e,n;return e=new ti({props:{$$slots:{default:[Hf]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){ee(e.$$.fragment)},m(r,s){Q(e,r,s),n=!0},p(r,s){const i={};s&512&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function Ff(t){let e,n,r;function s(o){t[7](o)}let i={$$slots:{controls:[zf],content:[Pf],title:[Df]},$$scope:{ctx:t}};return t[0]!==void 0&&(i.show=t[0]),e=new Eo({props:i}),Se.push(()=>Fe(e,"show",s,t[0])),{c(){ee(e.$$.fragment)},m(o,a){Q(e,o,a),r=!0},p(o,[a]){const c={};a&518&&(c.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,c.show=o[0],ze(()=>n=!1)),e.$set(c)},i(o){r||(k(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){$(e,o)}}}function qf(t,e,n){let r,s;ce(t,lt,h=>n(2,r=h)),ce(t,pn,h=>n(8,s=h));let{show:i=!1}=e,o=Jt(pn).join(`
`);const a=()=>{const g=o.split(`
`).filter(d=>{try{return new URL(d),!0}catch{return!1}});$e(pn,s=g,s),n(0,i=!1)},c=()=>{r.endsWith("/")||$e(lt,r=r+"/",r)};function l(h){r=h,lt.set(r)}function u(h){o=h,n(1,o)}function f(h){i=h,n(0,i)}return t.$$set=h=>{"show"in h&&n(0,i=h.show)},[i,o,r,a,c,l,u,f]}class Wf extends ye{constructor(e){super(),be(this,e,qf,Ff,ge,{show:0})}}function Vf(t){let e,n,r,s,i;return s=new Qt({props:{icon:wo,size:"1.5rem",title:"Configure app"}}),s.$on("click",t[1]),{c(){e=D("div"),n=D("h1"),n.textContent="Atomic Data Model Builder",r=J(),ee(s.$$.fragment),E(e,"class","wrapper svelte-c10bd6")},m(o,a){q(o,e,a),C(e,n),C(e,r),Q(s,e,null),i=!0},p:re,i(o){i||(k(s.$$.fragment,o),i=!0)},o(o){I(s.$$.fragment,o),i=!1},d(o){o&&z(e),$(s)}}}function Gf(t){let e,n,r,s,i,o;n=new Qs({props:{$$slots:{default:[Vf]},$$scope:{ctx:t}}});function a(l){t[2](l)}let c={};return t[0]!==void 0&&(c.show=t[0]),s=new Wf({props:c}),Se.push(()=>Fe(s,"show",a,t[0])),{c(){e=D("header"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),E(e,"class","svelte-c10bd6")},m(l,u){q(l,e,u),Q(n,e,null),q(l,r,u),Q(s,l,u),o=!0},p(l,[u]){const f={};u&9&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const h={};!i&&u&1&&(i=!0,h.show=l[0],ze(()=>i=!1)),s.$set(h)},i(l){o||(k(n.$$.fragment,l),k(s.$$.fragment,l),o=!0)},o(l){I(n.$$.fragment,l),I(s.$$.fragment,l),o=!1},d(l){l&&z(e),$(n),l&&z(r),$(s,l)}}}function Kf(t,e,n){let r=!1;const s=()=>n(0,r=!0);function i(o){r=o,n(0,r)}return[r,s,i]}class Jf extends ye{constructor(e){super(),be(this,e,Kf,Gf,ge,{})}}var ni={exports:{}};function ri(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&ri(n)}),t}ni.exports=ri;ni.exports.default=ri;class Ts{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Uo(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function wt(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const Xf="</span>",Os=t=>!!t.scope||t.sublanguage&&t.language,Zf=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class Yf{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Uo(e)}openNode(e){if(!Os(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=Zf(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){!Os(e)||(this.buffer+=Xf)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Cs=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class ii{constructor(){this.rootNode=Cs(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=Cs({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&(!e.children||(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{ii._collapse(n)})))}}class Qf extends ii{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new Yf(this,this.options).value()}finalize(){return!0}}function yn(t){return t?typeof t=="string"?t:t.source:null}function Do(t){return jt("(?=",t,")")}function $f(t){return jt("(?:",t,")*")}function eh(t){return jt("(?:",t,")?")}function jt(...t){return t.map(n=>yn(n)).join("")}function th(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function si(...t){return"("+(th(t).capture?"":"?:")+t.map(r=>yn(r)).join("|")+")"}function Po(t){return new RegExp(t.toString()+"|").exec("").length-1}function nh(t,e){const n=t&&t.exec(e);return n&&n.index===0}const rh=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function oi(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const s=n;let i=yn(r),o="";for(;i.length>0;){const a=rh.exec(i);if(!a){o+=i;break}o+=i.substring(0,a.index),i=i.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+s):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const ih=/\b\B/,Ho="[a-zA-Z]\\w*",li="[a-zA-Z_]\\w*",zo="\\b\\d+(\\.\\d+)?",Fo="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",qo="\\b(0b[01]+)",sh="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",oh=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=jt(e,/.*\b/,t.binary,/\b.*/)),wt({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},_n={begin:"\\\\[\\s\\S]",relevance:0},lh={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[_n]},ah={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[_n]},ch={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},sr=function(t,e,n={}){const r=wt({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=si("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:jt(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},uh=sr("//","$"),fh=sr("/\\*","\\*/"),hh=sr("#","$"),dh={scope:"number",begin:zo,relevance:0},ph={scope:"number",begin:Fo,relevance:0},gh={scope:"number",begin:qo,relevance:0},mh={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[_n,{begin:/\[/,end:/\]/,relevance:0,contains:[_n]}]}]},bh={scope:"title",begin:Ho,relevance:0},yh={scope:"title",begin:li,relevance:0},_h={begin:"\\.\\s*"+li,relevance:0},wh=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var jn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:ih,IDENT_RE:Ho,UNDERSCORE_IDENT_RE:li,NUMBER_RE:zo,C_NUMBER_RE:Fo,BINARY_NUMBER_RE:qo,RE_STARTERS_RE:sh,SHEBANG:oh,BACKSLASH_ESCAPE:_n,APOS_STRING_MODE:lh,QUOTE_STRING_MODE:ah,PHRASAL_WORDS_MODE:ch,COMMENT:sr,C_LINE_COMMENT_MODE:uh,C_BLOCK_COMMENT_MODE:fh,HASH_COMMENT_MODE:hh,NUMBER_MODE:dh,C_NUMBER_MODE:ph,BINARY_NUMBER_MODE:gh,REGEXP_MODE:mh,TITLE_MODE:bh,UNDERSCORE_TITLE_MODE:yh,METHOD_GUARD:_h,END_SAME_AS_BEGIN:wh});function vh(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function Sh(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function Eh(t,e){!e||!t.beginKeywords||(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=vh,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function Ah(t,e){!Array.isArray(t.illegal)||(t.illegal=si(...t.illegal))}function kh(t,e){if(!!t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function Rh(t,e){t.relevance===void 0&&(t.relevance=1)}const Th=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=jt(n.beforeMatch,Do(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},Oh=["of","and","for","in","not","or","if","then","parent","list","value"],Ch="keyword";function Wo(t,e,n=Ch){const r=Object.create(null);return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(i){Object.assign(r,Wo(t[i],e,i))}),r;function s(i,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const c=a.split("|");r[c[0]]=[i,Bh(c[0],c[1])]})}}function Bh(t,e){return e?Number(e):xh(t)?0:1}function xh(t){return Oh.includes(t.toLowerCase())}const Bs={},Nt=t=>{console.error(t)},xs=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Wt=(t,e)=>{Bs[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Bs[`${t}/${e}`]=!0)},Yn=new Error;function Vo(t,e,{key:n}){let r=0;const s=t[n],i={},o={};for(let a=1;a<=e.length;a++)o[a+r]=s[a],i[a+r]=!0,r+=Po(e[a-1]);t[n]=o,t[n]._emit=i,t[n]._multi=!0}function Mh(t){if(!!Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Nt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Yn;if(typeof t.beginScope!="object"||t.beginScope===null)throw Nt("beginScope must be object"),Yn;Vo(t,t.begin,{key:"beginScope"}),t.begin=oi(t.begin,{joinWith:""})}}function Ih(t){if(!!Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Nt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Yn;if(typeof t.endScope!="object"||t.endScope===null)throw Nt("endScope must be object"),Yn;Vo(t,t.end,{key:"endScope"}),t.end=oi(t.end,{joinWith:""})}}function Nh(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function Lh(t){Nh(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),Mh(t),Ih(t)}function jh(t){function e(o,a){return new RegExp(yn(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,a]),this.matchAt+=Po(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(c=>c[1]);this.matcherRe=e(oi(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(a);if(!c)return null;const l=c.findIndex((f,h)=>h>0&&f!==void 0),u=this.matchIndexes[l];return c.splice(0,l),Object.assign(c,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const c=new n;return this.rules.slice(a).forEach(([l,u])=>c.addRule(l,u)),c.compile(),this.multiRegexes[a]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,c){this.rules.push([a,c]),c.type==="begin"&&this.count++}exec(a){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let l=c.exec(a);if(this.resumingScanAtSamePosition()&&!(l&&l.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,l=u.exec(a)}return l&&(this.regexIndex+=l.position+1,this.regexIndex===this.count&&this.considerAll()),l}}function s(o){const a=new r;return o.contains.forEach(c=>a.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function i(o,a){const c=o;if(o.isCompiled)return c;[Sh,kh,Lh,Th].forEach(u=>u(o,a)),t.compilerExtensions.forEach(u=>u(o,a)),o.__beforeBegin=null,[Eh,Ah,Rh].forEach(u=>u(o,a)),o.isCompiled=!0;let l=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=Wo(o.keywords,t.case_insensitive)),c.keywordPatternRe=e(l,!0),a&&(o.begin||(o.begin=/\B|\b/),c.beginRe=e(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=e(c.end)),c.terminatorEnd=yn(c.end)||"",o.endsWithParent&&a.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(c.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(u){return Uh(u==="self"?o:u)})),o.contains.forEach(function(u){i(u,c)}),o.starts&&i(o.starts,a),c.matcher=s(c),c}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=wt(t.classNameAliases||{}),i(t)}function Go(t){return t?t.endsWithParent||Go(t.starts):!1}function Uh(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return wt(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:Go(t)?wt(t,{starts:t.starts?wt(t.starts):null}):Object.isFrozen(t)?wt(t):t}var Dh="11.6.0";class Ph extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const Tr=Uo,Ms=wt,Is=Symbol("nomatch"),Hh=7,zh=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Qf};function c(y){return a.noHighlightRe.test(y)}function l(y){let B=y.className+" ";B+=y.parentNode?y.parentNode.className:"";const A=a.languageDetectRe.exec(B);if(A){const x=F(A[1]);return x||(xs(i.replace("{}",A[1])),xs("Falling back to no-highlight mode for this block.",y)),x?A[1]:"no-highlight"}return B.split(/\s+/).find(x=>c(x)||F(x))}function u(y,B,A){let x="",le="";typeof B=="object"?(x=y,A=B.ignoreIllegals,le=B.language):(Wt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Wt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),le=y,x=B),A===void 0&&(A=!0);const H={code:x,language:le};b("before:highlight",H);const pe=H.result?H.result:f(H.language,H.code,A);return pe.code=H.code,b("after:highlight",pe),pe}function f(y,B,A,x){const le=Object.create(null);function H(M,W){return M.keywords[W]}function pe(){if(!X.keywords){_e.addText(fe);return}let M=0;X.keywordPatternRe.lastIndex=0;let W=X.keywordPatternRe.exec(fe),Y="";for(;W;){Y+=fe.substring(M,W.index);const ie=Ke.case_insensitive?W[0].toLowerCase():W[0],ke=H(X,ie);if(ke){const[Ie,lr]=ke;if(_e.addText(Y),Y="",le[ie]=(le[ie]||0)+1,le[ie]<=Hh&&(dt+=lr),Ie.startsWith("_"))Y+=W[0];else{const Rn=Ke.classNameAliases[Ie]||Ie;_e.addKeyword(W[0],Rn)}}else Y+=W[0];M=X.keywordPatternRe.lastIndex,W=X.keywordPatternRe.exec(fe)}Y+=fe.substring(M),_e.addText(Y)}function Xe(){if(fe==="")return;let M=null;if(typeof X.subLanguage=="string"){if(!e[X.subLanguage]){_e.addText(fe);return}M=f(X.subLanguage,fe,!0,Ct[X.subLanguage]),Ct[X.subLanguage]=M._top}else M=g(fe,X.subLanguage.length?X.subLanguage:null);X.relevance>0&&(dt+=M.relevance),_e.addSublanguage(M._emitter,M.language)}function Ee(){X.subLanguage!=null?Xe():pe(),fe=""}function Le(M,W){let Y=1;const ie=W.length-1;for(;Y<=ie;){if(!M._emit[Y]){Y++;continue}const ke=Ke.classNameAliases[M[Y]]||M[Y],Ie=W[Y];ke?_e.addKeyword(Ie,ke):(fe=Ie,pe(),fe=""),Y++}}function ht(M,W){return M.scope&&typeof M.scope=="string"&&_e.openNode(Ke.classNameAliases[M.scope]||M.scope),M.beginScope&&(M.beginScope._wrap?(_e.addKeyword(fe,Ke.classNameAliases[M.beginScope._wrap]||M.beginScope._wrap),fe=""):M.beginScope._multi&&(Le(M.beginScope,W),fe="")),X=Object.create(M,{parent:{value:X}}),X}function Ut(M,W,Y){let ie=nh(M.endRe,Y);if(ie){if(M["on:end"]){const ke=new Ts(M);M["on:end"](W,ke),ke.isMatchIgnored&&(ie=!1)}if(ie){for(;M.endsParent&&M.parent;)M=M.parent;return M}}if(M.endsWithParent)return Ut(M.parent,W,Y)}function or(M){return X.matcher.regexIndex===0?(fe+=M[0],1):(Pt=!0,0)}function Dt(M){const W=M[0],Y=M.rule,ie=new Ts(Y),ke=[Y.__beforeBegin,Y["on:begin"]];for(const Ie of ke)if(!!Ie&&(Ie(M,ie),ie.isMatchIgnored))return or(W);return Y.skip?fe+=W:(Y.excludeBegin&&(fe+=W),Ee(),!Y.returnBegin&&!Y.excludeBegin&&(fe=W)),ht(Y,M),Y.returnBegin?0:W.length}function kn(M){const W=M[0],Y=B.substring(M.index),ie=Ut(X,M,Y);if(!ie)return Is;const ke=X;X.endScope&&X.endScope._wrap?(Ee(),_e.addKeyword(W,X.endScope._wrap)):X.endScope&&X.endScope._multi?(Ee(),Le(X.endScope,M)):ke.skip?fe+=W:(ke.returnEnd||ke.excludeEnd||(fe+=W),Ee(),ke.excludeEnd&&(fe=W));do X.scope&&_e.closeNode(),!X.skip&&!X.subLanguage&&(dt+=X.relevance),X=X.parent;while(X!==ie.parent);return ie.starts&&ht(ie.starts,M),ke.returnEnd?0:W.length}function tn(){const M=[];for(let W=X;W!==Ke;W=W.parent)W.scope&&M.unshift(W.scope);M.forEach(W=>_e.openNode(W))}let Ge={};function ue(M,W){const Y=W&&W[0];if(fe+=M,Y==null)return Ee(),0;if(Ge.type==="begin"&&W.type==="end"&&Ge.index===W.index&&Y===""){if(fe+=B.slice(W.index,W.index+1),!s){const ie=new Error(`0 width match regex (${y})`);throw ie.languageName=y,ie.badRule=Ge.rule,ie}return 1}if(Ge=W,W.type==="begin")return Dt(W);if(W.type==="illegal"&&!A){const ie=new Error('Illegal lexeme "'+Y+'" for mode "'+(X.scope||"<unnamed>")+'"');throw ie.mode=X,ie}else if(W.type==="end"){const ie=kn(W);if(ie!==Is)return ie}if(W.type==="illegal"&&Y==="")return 1;if(Bt>1e5&&Bt>W.index*3)throw new Error("potential infinite loop, way more iterations than matches");return fe+=Y,Y.length}const Ke=F(y);if(!Ke)throw Nt(i.replace("{}",y)),new Error('Unknown language: "'+y+'"');const nn=jh(Ke);let Ot="",X=x||nn;const Ct={},_e=new a.__emitter(a);tn();let fe="",dt=0,ae=0,Bt=0,Pt=!1;try{for(X.matcher.considerAll();;){Bt++,Pt?Pt=!1:X.matcher.considerAll(),X.matcher.lastIndex=ae;const M=X.matcher.exec(B);if(!M)break;const W=B.substring(ae,M.index),Y=ue(W,M);ae=M.index+Y}return ue(B.substring(ae)),_e.closeAllNodes(),_e.finalize(),Ot=_e.toHTML(),{language:y,value:Ot,relevance:dt,illegal:!1,_emitter:_e,_top:X}}catch(M){if(M.message&&M.message.includes("Illegal"))return{language:y,value:Tr(B),illegal:!0,relevance:0,_illegalBy:{message:M.message,index:ae,context:B.slice(ae-100,ae+100),mode:M.mode,resultSoFar:Ot},_emitter:_e};if(s)return{language:y,value:Tr(B),illegal:!1,relevance:0,errorRaised:M,_emitter:_e,_top:X};throw M}}function h(y){const B={value:Tr(y),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return B._emitter.addText(y),B}function g(y,B){B=B||a.languages||Object.keys(e);const A=h(y),x=B.filter(F).filter(v).map(Ee=>f(Ee,y,!1));x.unshift(A);const le=x.sort((Ee,Le)=>{if(Ee.relevance!==Le.relevance)return Le.relevance-Ee.relevance;if(Ee.language&&Le.language){if(F(Ee.language).supersetOf===Le.language)return 1;if(F(Le.language).supersetOf===Ee.language)return-1}return 0}),[H,pe]=le,Xe=H;return Xe.secondBest=pe,Xe}function d(y,B,A){const x=B&&n[B]||A;y.classList.add("hljs"),y.classList.add(`language-${x}`)}function m(y){let B=null;const A=l(y);if(c(A))return;if(b("before:highlightElement",{el:y,language:A}),y.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(y)),a.throwUnescapedHTML))throw new Ph("One of your code blocks includes unescaped HTML.",y.innerHTML);B=y;const x=B.textContent,le=A?u(x,{language:A,ignoreIllegals:!0}):g(x);y.innerHTML=le.value,d(y,A,le.language),y.result={language:le.language,re:le.relevance,relevance:le.relevance},le.secondBest&&(y.secondBest={language:le.secondBest.language,relevance:le.secondBest.relevance}),b("after:highlightElement",{el:y,result:le,text:x})}function _(y){a=Ms(a,y)}const S=()=>{N(),Wt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function P(){N(),Wt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let U=!1;function N(){if(document.readyState==="loading"){U=!0;return}document.querySelectorAll(a.cssSelector).forEach(m)}function G(){U&&N()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",G,!1);function L(y,B){let A=null;try{A=B(t)}catch(x){if(Nt("Language definition for '{}' could not be registered.".replace("{}",y)),s)Nt(x);else throw x;A=o}A.name||(A.name=y),e[y]=A,A.rawDefinition=B.bind(null,t),A.aliases&&K(A.aliases,{languageName:y})}function R(y){delete e[y];for(const B of Object.keys(n))n[B]===y&&delete n[B]}function O(){return Object.keys(e)}function F(y){return y=(y||"").toLowerCase(),e[y]||e[n[y]]}function K(y,{languageName:B}){typeof y=="string"&&(y=[y]),y.forEach(A=>{n[A.toLowerCase()]=B})}function v(y){const B=F(y);return B&&!B.disableAutodetect}function Z(y){y["before:highlightBlock"]&&!y["before:highlightElement"]&&(y["before:highlightElement"]=B=>{y["before:highlightBlock"](Object.assign({block:B.el},B))}),y["after:highlightBlock"]&&!y["after:highlightElement"]&&(y["after:highlightElement"]=B=>{y["after:highlightBlock"](Object.assign({block:B.el},B))})}function oe(y){Z(y),r.push(y)}function b(y,B){const A=y;r.forEach(function(x){x[A]&&x[A](B)})}function w(y){return Wt("10.7.0","highlightBlock will be removed entirely in v12.0"),Wt("10.7.0","Please use highlightElement now."),m(y)}Object.assign(t,{highlight:u,highlightAuto:g,highlightAll:N,highlightElement:m,highlightBlock:w,configure:_,initHighlighting:S,initHighlightingOnLoad:P,registerLanguage:L,unregisterLanguage:R,listLanguages:O,getLanguage:F,registerAliases:K,autoDetection:v,inherit:Ms,addPlugin:oe}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=Dh,t.regex={concat:jt,lookahead:Do,either:si,optional:eh,anyNumberOfTimes:$f};for(const y in jn)typeof jn[y]=="object"&&ni.exports(jn[y]);return Object.assign(t,jn),t};var wn=zh({}),Fh=wn;wn.HighlightJS=wn;wn.default=wn;const Ns=Fh,qh=t=>({highlighted:t&8}),Ls=t=>({highlighted:t[3]});function Wh(t){let e;return{c(){e=ve(t[1])},m(n,r){q(n,e,r)},p(n,r){r&2&&De(e,n[1])},d(n){n&&z(e)}}}function Vh(t){let e,n;return{c(){e=new Js(!1),n=ut(),e.a=n},m(r,s){e.m(t[3],r,s),q(r,n,s)},p(r,s){s&8&&e.p(r[3])},d(r){r&&z(n),r&&e.d()}}}function Gh(t){let e,n,r;function s(l,u){return l[3]!==void 0?Vh:Wh}let i=s(t),o=i(t),a=[{"data-language":r=t[0].name||"plaintext"},t[4]],c={};for(let l=0;l<a.length;l+=1)c=St(c,a[l]);return{c(){e=D("pre"),n=D("code"),o.c(),E(n,"class","hljs"),zn(e,c),te(e,"langtag",t[2]),te(e,"svelte-4cqgwq",!0)},m(l,u){q(l,e,u),C(e,n),o.m(n,null)},p(l,u){i===(i=s(l))&&o?o.p(l,u):(o.d(1),o=i(l),o&&(o.c(),o.m(n,null))),zn(e,c=zr(a,[u&1&&r!==(r=l[0].name||"plaintext")&&{"data-language":r},u&16&&l[4]])),te(e,"langtag",l[2]),te(e,"svelte-4cqgwq",!0)},d(l){l&&z(e),o.d()}}}function Kh(t){let e;const n=t[6].default,r=Te(n,t,t[5],Ls),s=r||Gh(t);return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),e=!0},p(i,[o]){r?r.p&&(!e||o&40)&&Ce(r,n,i,i[5],e?Oe(n,i[5],o,qh):Be(i[5]),Ls):s&&s.p&&(!e||o&31)&&s.p(i,e?o:-1)},i(i){e||(k(s,i),e=!0)},o(i){I(s,i),e=!1},d(i){s&&s.d(i)}}}function Jh(t,e,n){const r=["language","code","langtag"];let s=Pn(e,r),{$$slots:i={},$$scope:o}=e,{language:a={name:void 0,register:void 0}}=e,{code:c=void 0}=e,{langtag:l=!1}=e;const u=$t();let f;return Ql(()=>{f&&u("highlight",{highlighted:f})}),t.$$set=h=>{e=St(St({},e),qs(h)),n(4,s=Pn(e,r)),"language"in h&&n(0,a=h.language),"code"in h&&n(1,c=h.code),"langtag"in h&&n(2,l=h.langtag),"$$scope"in h&&n(5,o=h.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a.name&&a.register&&(Ns.registerLanguage(a.name,a.register),n(3,f=Ns.highlight(c,{language:a.name}).value))},[a,c,l,f,s,o,i]}class Xh extends ye{constructor(e){super(),be(this,e,Jh,Kh,ge,{language:0,code:1,langtag:2})}}const Zh=Xh;function Yh(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],s={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,s,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}const Qh={name:"json",register:Yh},$h=Qh,ed="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>",td=ed;function js(t,{delay:e=0,duration:n=400,easing:r=Ps}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}const ai="https://atomicdata.dev/properties/localId",nd=t=>Array.isArray(t)?t:[t],ci=(t,e)=>{if(!e)return t;const n=Jt(lt);return t.replace(n,"")},Ko=(t,e,n)=>(r,s=!1)=>{const i=t.get(r);if(i!==void 0)if(s){const o=nd(i).map(a=>ci(a,n.includes(a)));e[r]=o}else e[r]=i},rd=(t,e,n)=>{const s={[n?ai:"@id"]:ci(t.getSubject(),n)},i=Ko(t,s,e);return i(j.properties.shortname),i(j.properties.isA,n),i(j.properties.description),i(j.properties.requires,n),i(j.properties.recommends,n),!n&&i(j.properties.parent),s},id=(t,e,n)=>{const s={[n?ai:"@id"]:ci(t.getSubject(),n)},i=Ko(t,s,e);return i(j.properties.shortname),i(j.properties.isA,n),i(j.properties.description),i(j.properties.datatype),i(j.properties.classType,n),!n&&i(j.properties.parent),s},sd=(t,e,n,r)=>{const s=[];for(const i of t){const o=e.getResourceLoading(i);s.push(rd(o,n,r));const a=Array.from(new Set([...o.get(j.properties.requires),...o.get(j.properties.recommends)]));for(const c of a){if(!n.includes(c)||s.some(u=>u["@id"]===c||u[ai]===c))continue;const l=e.getResourceLoading(c);s.push(id(l,n,r))}}return JSON.stringify(s,null,2)},{document:Us}=sa;function Ds(t){let e,n,r,s;return{c(){e=D("p"),n=ve(t[2]),E(e,"class","waring svelte-2y9ym9")},m(i,o){q(i,e,o),C(e,n),s=!0},p(i,o){(!s||o&4)&&De(n,i[2])},i(i){s||(Xt(()=>{r||(r=Si(e,js,{duration:100},!0)),r.run(1)}),s=!0)},o(i){r||(r=Si(e,js,{duration:100},!1)),r.run(0),s=!1},d(i){i&&z(e),i&&r&&r.end()}}}function od(t){let e,n,r,s,i,o,a,c,l,u,f,h,g,d,m,_=t[2]&&Ds(t);return h=new Zh({props:{language:$h,code:t[0]}}),{c(){e=new Js(!1),n=ut(),r=J(),s=D("section"),i=D("h2"),i.textContent="Output",o=J(),_&&_.c(),a=J(),c=D("input"),l=J(),u=D("label"),u.textContent="Importer compatible JSON",f=J(),ee(h.$$.fragment),e.a=n,E(c,"type","checkbox"),E(c,"id","import-toggle"),E(u,"for","import-toggle")},m(S,P){e.m(td,Us.head),C(Us.head,n),q(S,r,P),q(S,s,P),C(s,i),C(s,o),_&&_.m(s,null),C(s,a),C(s,c),c.checked=t[1],C(s,l),C(s,u),C(s,f),Q(h,s,null),g=!0,d||(m=[ne(c,"change",t[6]),ne(c,"input",t[3])],d=!0)},p(S,[P]){S[2]?_?(_.p(S,P),P&4&&k(_,1)):(_=Ds(S),_.c(),k(_,1),_.m(s,a)):_&&(xe(),I(_,1,1,()=>{_=null}),Me()),P&2&&(c.checked=S[1]);const U={};P&1&&(U.code=S[0]),h.$set(U)},i(S){g||(k(_),k(h.$$.fragment,S),g=!0)},o(S){I(_),I(h.$$.fragment,S),g=!1},d(S){z(n),S&&e.d(),S&&z(r),S&&z(s),_&&_.d(),$(h),d=!1,Ne(m)}}}function ld(t,e,n){let r,s,i;ce(t,Zn,m=>n(4,r=m)),ce(t,vt,m=>n(5,s=m)),ce(t,Rt,m=>n(7,i=m));const o=new Set,a=new Set;let c="Add some classes and properties to see the output.",l=!1,u="";const f=()=>{n(0,c=sd(s,i,r,l)),document.querySelectorAll(":invalid").length>0?n(2,u="Warning: Some required fields are empty."):n(2,u="")},h=(m,_)=>{for(const S of m)_.has(S)||i.subscribe(S,f);for(const S of _)m.includes(S)||i.unsubscribe(S,f)},g=m=>{n(1,l=m.target.checked),f()};function d(){l=this.checked,n(1,l)}return t.$$.update=()=>{t.$$.dirty&48&&(h(s,o),h(r,a))},[c,l,u,g,r,s,d]}class ad extends ye{constructor(e){super(),be(this,e,ld,od,ge,{})}}function cd(t){let e,n,r,s,i;return n=new Uf({}),s=new ad({}),{c(){e=D("div"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment),E(e,"class","wrapper svelte-ntiweo")},m(o,a){q(o,e,a),Q(n,e,null),C(e,r),Q(s,e,null),i=!0},p:re,i(o){i||(k(n.$$.fragment,o),k(s.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),I(s.$$.fragment,o),i=!1},d(o){o&&z(e),$(n),$(s)}}}function ud(t){let e,n,r,s,i;return n=new Jf({}),s=new Qs({props:{$$slots:{default:[cd]},$$scope:{ctx:t}}}),{c(){e=D("main"),ee(n.$$.fragment),r=J(),ee(s.$$.fragment)},m(o,a){q(o,e,a),Q(n,e,null),C(e,r),Q(s,e,null),i=!0},p(o,[a]){const c={};a&8&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(k(n.$$.fragment,o),k(s.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),I(s.$$.fragment,o),i=!1},d(o){o&&z(e),$(n),$(s)}}}function fd(t,e,n){return ce(t,vt,r=>n(0,r)),ce(t,lt,r=>n(1,r)),[]}class hd extends ye{constructor(e){super(),be(this,e,fd,ud,ge,{})}}new hd({target:document.getElementById("app")})});export default dd();
